function intercomActivate(t){t||(window.intercomSettings={app_id:"k0gn6e02"}),function(){function t(){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://widget.intercom.io/widget/k0gn6e02";var e=n.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}var e=window,i=e.Intercom;if("function"==typeof i)i("reattach_activator"),i("update",intercomSettings);else{var n=document,r=function(){r.c(arguments)};r.q=[],r.c=function(t){r.q.push(t)},e.Intercom=r,e.attachEvent?e.attachEvent("onload",t):e.addEventListener("load",t,!1)}}()}if(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.CodeMirror=e()}(this,function(){"use strict";function t(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function e(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function i(t,i){return e(t).appendChild(i)}function n(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function r(t,e,i,r){var o=n(t,e,i,r);return o.setAttribute("role","presentation"),o}function o(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)}function s(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function a(e,i){var n=e.className;t(i).test(n)||(e.className+=(n?" ":"")+i)}function l(e,i){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!t(n[r]).test(i)&&(i+=" "+n[r]);return i}function c(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function u(t,e,i){e||(e={});for(var n in t)!t.hasOwnProperty(n)||i===!1&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function h(t,e,i,n,r){null==e&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));for(var o=n||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=i-s%i,o=a+1}}function p(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}function f(t,e,i){for(var n=0,r=0;;){var o=t.indexOf("\t",n);o==-1&&(o=t.length);var s=o-n;if(o==t.length||r+s>=e)return n+Math.min(s,e-r);if(r+=o-n,r+=i-r%i,n=o+1,r>=e)return n}}function d(t){for(;As.length<=t;)As.push(m(As)+" ");return As[t]}function m(t){return t[t.length-1]}function g(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function v(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function y(){}function b(t,e){var i;return Object.create?i=Object.create(t):(y.prototype=t,i=new y),e&&u(e,i),i}function x(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Ms.test(t))}function _(t,e){return e?!!(e.source.indexOf("\\w")>-1&&x(t))||e.test(t):x(t)}function w(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function k(t){return t.charCodeAt(0)>=768&&Ls.test(t)}function C(t,e,i){for(;(i<0?e>0:e<t.length)&&k(t.charAt(e));)e+=i;return e}function S(t,e,i){for(;;){if(Math.abs(e-i)<=1)return t(e)?e:i;var n=Math.floor((e+i)/2);t(n)?i=n:e=n}}function T(t,e,i){var o=this;this.input=i,o.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=r("div",null,"CodeMirror-code"),o.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=n("div",null,"CodeMirror-cursors"),o.measure=n("div",null,"CodeMirror-measure"),o.lineMeasure=n("div",null,"CodeMirror-measure"),o.lineSpace=r("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var s=r("div",[o.lineSpace],"CodeMirror-lines");o.mover=n("div",[s],null,"position: relative"),o.sizer=n("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=n("div",null,null,"position: absolute; height: "+ks+"px; width: 1px;"),o.gutters=n("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=n("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=n("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),Jo&&ts<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),es||Go&&us||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,i.init(o)}function E(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(e<o){i=r;break}e-=o}return i.lines[e]}function A(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(t){var o=t.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r}),n}function M(t,e,i){var n=[];return t.iter(e,i,function(t){n.push(t.text)}),n}function L(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function N(t){if(null==t.parent)return null;for(var e=t.parent,i=p(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function P(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],o=r.height;if(e<o){t=r;continue t}e-=o,i+=r.chunkSize()}return i}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s],l=a.height;if(e<l)break;e-=l}return i+s}function I(t,e){return e>=t.first&&e<t.first+t.size}function D(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function O(t,e,i){return void 0===i&&(i=null),this instanceof O?(this.line=t,this.ch=e,void(this.sticky=i)):new O(t,e,i)}function R(t,e){return t.line-e.line||t.ch-e.ch}function F(t,e){return t.sticky==e.sticky&&0==R(t,e)}function H(t){return O(t.line,t.ch)}function j(t,e){return R(t,e)<0?e:t}function z(t,e){return R(t,e)<0?t:e}function W(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function B(t,e){if(e.line<t.first)return O(t.first,0);var i=t.first+t.size-1;return e.line>i?O(i,E(t,i).text.length):q(e,E(t,e.line).text.length)}function q(t,e){var i=t.ch;return null==i||i>e?O(t.line,e):i<0?O(t.line,0):t}function $(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=B(t,e[n]);return i}function U(){Ns=!0}function V(){Ps=!0}function K(t,e,i){this.marker=t,this.from=e,this.to=i}function Y(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function G(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function X(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Q(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push(new K(s,o.from,l?null:o.to))}}return n}function Z(t,e,i){var n;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push(new K(s,l?null:o.from-e,null==o.to?null:o.to-e))}}return n}function J(t,e){if(e.full)return null;var i=I(t,e.from.line)&&E(t,e.from.line).markedSpans,n=I(t,e.to.line)&&E(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,o=e.to.ch,s=0==R(e.from,e.to),a=Q(i,r,s),l=Z(n,o,s),c=1==e.text.length,u=m(e.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){var p=a[h];if(null==p.to){var f=Y(l,p.marker);f?c&&(p.to=null==f.to?null:f.to+u):p.to=r}}if(l)for(var d=0;d<l.length;++d){var g=l[d];if(null!=g.to&&(g.to+=u),null==g.from){var v=Y(a,g.marker);v||(g.from=u,c&&(a||(a=[])).push(g))}else g.from+=u,c&&(a||(a=[])).push(g)}a&&(a=tt(a)),l&&l!=a&&(l=tt(l));var y=[a];if(!c){var b,x=e.text.length-2;if(x>0&&a)for(var _=0;_<a.length;++_)null==a[_].to&&(b||(b=[])).push(new K(a[_].marker,null,null));for(var w=0;w<x;++w)y.push(b);y.push(l)}return y}function tt(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function et(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||n&&p(n,i)!=-1||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:e,to:i}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(R(c.to,a.from)<0||R(c.from,a.to)>0)){var u=[l,1],h=R(c.from,a.from),f=R(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}function it(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function nt(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function rt(t){return t.inclusiveLeft?-1:0}function ot(t){return t.inclusiveRight?1:0}function st(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var n=t.find(),r=e.find(),o=R(n.from,r.from)||rt(t)-rt(e);if(o)return-o;var s=R(n.to,r.to)||ot(t)-ot(e);return s?s:e.id-t.id}function at(t,e){var i,n=Ps&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)r=n[o],r.marker.collapsed&&null==(e?r.from:r.to)&&(!i||st(i,r.marker)<0)&&(i=r.marker);return i}function lt(t){return at(t,!0)}function ct(t){return at(t,!1)}function ut(t,e,i,n,r){var o=E(t,e),s=Ps&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=R(c.from,i)||rt(l.marker)-rt(r),h=R(c.to,n)||ot(l.marker)-ot(r);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?R(c.to,i)>=0:R(c.to,i)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?R(c.from,n)<=0:R(c.from,n)<0)))return!0}}}function ht(t){for(var e;e=lt(t);)t=e.find(-1,!0).line;return t}function pt(t){for(var e;e=ct(t);)t=e.find(1,!0).line;return t}function ft(t){for(var e,i;e=ct(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function dt(t,e){var i=E(t,e),n=ht(i);return i==n?e:N(n)}function mt(t,e){if(e>t.lastLine())return e;var i,n=E(t,e);if(!gt(t,n))return e;for(;i=ct(n);)n=i.find(1,!0).line;return N(n)+1}function gt(t,e){var i=Ps&&e.markedSpans;if(i)for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&vt(t,e,n))return!0}}function vt(t,e,i){if(null==i.to){var n=i.marker.find(1,!0);return vt(t,n.line,Y(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r=void 0,o=0;o<e.markedSpans.length;++o)if(r=e.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&vt(t,e,r))return!0}function yt(t){t=ht(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var o=i.parent;o;i=o,o=i.parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==i)break;e+=a.height}return e}function bt(t){if(0==t.height)return 0;for(var e,i=t.text.length,n=t;e=lt(n);){var r=e.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=t;e=ct(n);){var o=e.find(0,!0);i-=n.text.length-o.from.ch,n=o.to.line,i+=n.text.length-o.to.ch}return i}function xt(t){var e=t.display,i=t.doc;e.maxLine=E(i,i.first),e.maxLineLength=bt(e.maxLine),e.maxLineChanged=!0,i.iter(function(t){var i=bt(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)})}function _t(t,e,i,n){if(!t)return n(e,i,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<i&&s.to>e||e==i&&s.to==e)&&(n(Math.max(s.from,e),Math.min(s.to,i),1==s.level?"rtl":"ltr"),r=!0)}r||n(e,i,"ltr")}function wt(t,e,i){var n;Is=null;for(var r=0;r<t.length;++r){var o=t[r];if(o.from<e&&o.to>e)return r;o.to==e&&(o.from!=o.to&&"before"==i?n=r:Is=r),o.from==e&&(o.from!=o.to&&"before"!=i?n=r:Is=r)}return null!=n?n:Is}function kt(t,e){var i=t.order;return null==i&&(i=t.order=Ds(t.text,e)),i}function Ct(t,e,i){var n=C(t.text,e+i,i);return n<0||n>t.text.length?null:n}function St(t,e,i){var n=Ct(t,e.ch,i);return null==n?null:new O(e.line,n,i<0?"after":"before")}function Tt(t,e,i,n,r){if(t){var o=kt(i,e.doc.direction);if(o){var s,a=r<0?m(o):o[0],l=r<0==(1==a.level),c=l?"after":"before";if(a.level>0){var u=Xe(e,i);s=r<0?i.text.length-1:0;var h=Qe(e,u,s).top;s=S(function(t){return Qe(e,u,t).top==h},r<0==(1==a.level)?a.from:a.to-1,s),"before"==c&&(s=Ct(i,s,1,!0))}else s=r<0?a.to:a.from;return new O(n,s,c)}}return new O(n,r<0?i.text.length:0,r<0?"before":"after")}function Et(t,e,i,n){var r=kt(e,t.doc.direction);if(!r)return St(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var o=wt(r,i.ch,i.sticky),s=r[o];if("ltr"==t.doc.direction&&s.level%2==0&&(n>0?s.to>i.ch:s.from<i.ch))return St(e,i,n);var a,l=function(t,i){return Ct(e,t instanceof O?t.ch:t,i)},c=function(i){return t.options.lineWrapping?(a=a||Xe(t,e),mi(t,e,a,i)):{begin:0,end:e.text.length}},u=c("before"==i.sticky?l(i,-1):i.ch);if("rtl"==t.doc.direction||1==s.level){var h=1==s.level==n<0,p=l(i,h?1:-1);if(null!=p&&(h?p<=s.to&&p<=u.end:p>=s.from&&p>=u.begin)){var f=h?"before":"after";return new O(i.line,p,f)}}var d=function(t,e,n){for(var o=function(t,e){return e?new O(i.line,l(t,1),"before"):new O(i.line,t,"after")};t>=0&&t<r.length;t+=e){var s=r[t],a=e>0==(1!=s.level),c=a?n.begin:l(n.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),n.begin<=c&&c<n.end)return o(c,a)}},m=d(o+n,n,u);if(m)return m;var g=n>0?u.end:l(u.begin,-1);return null==g||n>0&&g==e.text.length||!(m=d(n>0?0:r.length-1,n,c(g)))?null:m}function At(t,e){return t._handlers&&t._handlers[e]||Os}function Mt(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,r=n&&n[e];if(r){var o=p(r,i);o>-1&&(n[e]=r.slice(0,o).concat(r.slice(o+1)))}}}function Lt(t,e){var i=At(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function Nt(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Lt(t,i||e.type,t,e),Ft(e)||e.codemirrorIgnore}function Pt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)p(i,e[n])==-1&&i.push(e[n])}function It(t,e){return At(t,e).length>0}function Dt(t){t.prototype.on=function(t,e){Rs(this,t,e)},t.prototype.off=function(t,e){Mt(this,t,e)}}function Ot(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Rt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Ft(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Ht(t){Ot(t),Rt(t)}function jt(t){return t.target||t.srcElement}function zt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),hs&&t.ctrlKey&&1==e&&(e=3),e}function Wt(t){if(null==_s){var e=n("span","​");i(t,n("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(_s=e.offsetWidth<=1&&e.offsetHeight>2&&!(Jo&&ts<8))}var r=_s?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Bt(t){if(null!=ws)return ws;var n=i(t,document.createTextNode("AخA")),r=ms(n,0,1).getBoundingClientRect(),o=ms(n,1,2).getBoundingClientRect();return e(t),!(!r||r.left==r.right)&&(ws=o.right-r.right<3)}function qt(t){if(null!=Ws)return Ws;var e=i(t,n("span","x")),r=e.getBoundingClientRect(),o=ms(e,0,1).getBoundingClientRect();return Ws=Math.abs(r.left-o.left)>1}function $t(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Bs[t]=e}function Ut(t,e){qs[t]=e}function Vt(t){if("string"==typeof t&&qs.hasOwnProperty(t))t=qs[t];else if(t&&"string"==typeof t.name&&qs.hasOwnProperty(t.name)){var e=qs[t.name];"string"==typeof e&&(e={name:e}),t=b(e,t),t.name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Vt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Vt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Kt(t,e){e=Vt(e);var i=Bs[e.name];if(!i)return Kt(t,"text/plain");var n=i(t,e);if($s.hasOwnProperty(e.name)){var r=$s[e.name];for(var o in r)r.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=r[o])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)n[s]=e.modeProps[s];return n}function Yt(t,e){var i=$s.hasOwnProperty(t)?$s[t]:$s[t]={};u(e,i)}function Gt(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function Xt(t,e){for(var i;t.innerMode&&(i=t.innerMode(e),i&&i.mode!=t);)e=i.state,t=i.mode;return i||{mode:t,state:e}}function Qt(t,e,i){return!t.startState||t.startState(e,i)}function Zt(t,e,i,n){var r=[t.state.modeGen],o={};se(t,e.text,t.doc.mode,i,function(t,e){return r.push(t,e)},o,n);for(var s=function(i){var n=t.state.overlays[i],s=1,a=0;se(t,e.text,n.mode,!0,function(t,e){for(var i=s;a<t;){var o=r[s];o>t&&r.splice(s,1,t,r[s+1],o),s+=2,a=Math.min(t,o)}if(e)if(n.opaque)r.splice(i,s-i,t,"overlay "+e),s=i+2;else for(;i<s;i+=2){var l=r[i+1];r[i+1]=(l?l+" ":"")+"overlay "+e}},o)},a=0;a<t.state.overlays.length;++a)s(a);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Jt(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=te(t,N(e)),r=Zt(t,e,e.text.length>t.options.maxHighlightLength?Gt(t.doc.mode,n):n);e.stateAfter=n,e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.frontier&&t.doc.frontier++}return e.styles}function te(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return!0;var o=ae(t,e,i),s=o>n.first&&E(n,o-1).stateAfter;return s=s?Gt(n.mode,s):Qt(n.mode),n.iter(o,e,function(i){ee(t,i.text,s);var a=o==e-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;i.stateAfter=a?Gt(n.mode,s):null,++o}),i&&(n.frontier=o),s}function ee(t,e,i,n){var r=t.doc.mode,o=new Us(e,t.options.tabSize);for(o.start=o.pos=n||0,""==e&&ie(r,i);!o.eol();)ne(r,o,i),o.start=o.pos}function ie(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=Xt(t,e);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function ne(t,e,i,n){for(var r=0;r<10;r++){n&&(n[0]=Xt(t,i).mode);var o=t.token(e,i);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function re(t,e,i,n){var r,o=function(t){return{start:h.start,end:h.pos,string:h.current(),type:r||null,state:t?Gt(s.mode,u):u}},s=t.doc,a=s.mode;e=B(s,e);var l,c=E(s,e.line),u=te(t,e.line,i),h=new Us(c.text,t.options.tabSize);for(n&&(l=[]);(n||h.pos<e.ch)&&!h.eol();)h.start=h.pos,r=ne(a,h,u),n&&l.push(o(!0));return n?l:o()}function oe(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==e[n]?e[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+i[2])}return t}function se(t,e,i,n,r,o,s){var a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,h=new Us(e,t.options.tabSize),p=t.options.addModeClass&&[null];for(""==e&&oe(ie(i,n),o);!h.eol();){if(h.pos>t.options.maxHighlightLength?(a=!1,s&&ee(t,e,n,h.pos),h.pos=e.length,l=null):l=oe(ne(i,h,n,p),o),p){var f=p[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<h.start;)c=Math.min(h.start,c+5e3),r(c,u);u=l}h.start=h.pos}for(;c<h.pos;){var d=Math.min(h.pos,c+5e3);r(d,u),c=d}}function ae(t,e,i){for(var n,r,o=t.doc,s=i?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=E(o,a-1);if(l.stateAfter&&(!i||a<=o.frontier))return a;var c=h(l.text,null,t.options.tabSize);(null==r||n>c)&&(r=a-1,n=c)}return r}function le(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),it(t),nt(t,i);var r=n?n(t):1;r!=t.height&&L(t,r)}function ce(t){t.parent=null,it(t)}function ue(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?Gs:Ys;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function he(t,e){var i=r("span",null,null,es?"padding-right: .1px":null),n={pre:r("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:(Jo||es)&&t.getOption("lineWrapping")};e.measure={};for(var o=0;o<=(e.rest?e.rest.length:0);o++){var s=o?e.rest[o-1]:e.line,a=void 0;n.pos=0,n.addToken=fe,Bt(t.display.measure)&&(a=kt(s,t.doc.direction))&&(n.addToken=me(n.addToken,a)),n.map=[];var c=e!=t.display.externalMeasured&&N(s);ve(s,n,Jt(t,s,c)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=l(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=l(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Wt(t.display.measure))),0==o?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(es){var u=n.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Lt(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=l(n.pre.className,n.textClass||"")),n}function pe(t){var e=n("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function fe(t,e,i,r,o,s,a){if(e){var l,c=t.splitSpaces?de(e,t.trailingSpace):e,u=t.cm.state.specialChars,h=!1;if(u.test(e)){l=document.createDocumentFragment();for(var p=0;;){u.lastIndex=p;var f=u.exec(e),m=f?f.index-p:e.length-p;if(m){var g=document.createTextNode(c.slice(p,p+m));Jo&&ts<9?l.appendChild(n("span",[g])):l.appendChild(g),t.map.push(t.pos,t.pos+m,g),t.col+=m,t.pos+=m}if(!f)break;p+=m+1;var v=void 0;if("\t"==f[0]){var y=t.cm.options.tabSize,b=y-t.col%y;v=l.appendChild(n("span",d(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==f[0]||"\n"==f[0]?(v=l.appendChild(n("span","\r"==f[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",f[0]),t.col+=1):(v=t.cm.options.specialCharPlaceholder(f[0]),v.setAttribute("cm-text",f[0]),Jo&&ts<9?l.appendChild(n("span",[v])):l.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,l=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,l),Jo&&ts<9&&(h=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),i||r||o||h||a){var x=i||"";r&&(x+=r),o&&(x+=o);var _=n("span",[l],x,a);return s&&(_.title=s),t.content.appendChild(_)}t.content.appendChild(l)}}function de(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var o=t.charAt(r);" "!=o||!i||r!=t.length-1&&32!=t.charCodeAt(r+1)||(o=" "),n+=o,i=" "==o}return n}function me(t,e){return function(i,n,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var h=void 0,p=0;p<e.length&&(h=e[p],!(h.to>c&&h.from<=c));p++);if(h.to>=u)return t(i,n,r,o,s,a,l);t(i,n.slice(0,h.to-c),r,o,null,a,l),o=null,n=n.slice(h.to-c),c=h.to}}}function ge(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function ve(t,e,i){var n=t.markedSpans,r=t.text,o=0;if(n)for(var s,a,l,c,u,h,p,f=r.length,d=0,m=1,g="",v=0;;){if(v==d){l=c=u=h=a="",p=null,v=1/0;for(var y=[],b=void 0,x=0;x<n.length;++x){var _=n[x],w=_.marker;"bookmark"==w.type&&_.from==d&&w.widgetNode?y.push(w):_.from<=d&&(null==_.to||_.to>d||w.collapsed&&_.to==d&&_.from==d)?(null!=_.to&&_.to!=d&&v>_.to&&(v=_.to,c=""),w.className&&(l+=" "+w.className),w.css&&(a=(a?a+";":"")+w.css),w.startStyle&&_.from==d&&(u+=" "+w.startStyle),w.endStyle&&_.to==v&&(b||(b=[])).push(w.endStyle,_.to),w.title&&!h&&(h=w.title),w.collapsed&&(!p||st(p.marker,w)<0)&&(p=_)):_.from>d&&v>_.from&&(v=_.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==v&&(c+=" "+b[k]);if(!p||p.from==d)for(var C=0;C<y.length;++C)ge(e,0,y[C]);if(p&&(p.from||0)==d){if(ge(e,(null==p.to?f+1:p.to)-d,p.marker,null==p.from),null==p.to)return;p.to==d&&(p=!1)}}if(d>=f)break;for(var S=Math.min(f,v);;){if(g){var T=d+g.length;if(!p){var E=T>S?g.slice(0,S-d):g;e.addToken(e,E,s?s+l:l,u,d+E.length==v?c:"",h,a)}if(T>=S){g=g.slice(S-d),d=S;break}d=T,u=""}g=r.slice(o,o=i[m++]),s=ue(i[m++],e.cm.options)}}else for(var A=1;A<i.length;A+=2)e.addToken(e,r.slice(o,o=i[A]),ue(i[A+1],e.cm.options))}function ye(t,e,i){this.line=e,this.rest=ft(e),this.size=this.rest?N(m(this.rest))-i+1:1,this.node=this.text=null,this.hidden=gt(t,e)}function be(t,e,i){for(var n,r=[],o=e;o<i;o=n){var s=new ye(t.doc,E(t.doc,o),o);n=o+s.size,r.push(s)}return r}function xe(t){Xs?Xs.ops.push(t):t.ownsGroup=Xs={ops:[t],delayedCallbacks:[]}}function _e(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function we(t,e){var i=t.ownsGroup;if(i)try{_e(i)}finally{Xs=null,e(i)}}function ke(t,e){var i=At(t,e);if(i.length){var n,r=Array.prototype.slice.call(arguments,2);Xs?n=Xs.delayedCallbacks:Qs?n=Qs:(n=Qs=[],setTimeout(Ce,0));for(var o=function(t){n.push(function(){return i[t].apply(null,r)})},s=0;s<i.length;++s)o(s)}}function Ce(){var t=Qs;Qs=null;for(var e=0;e<t.length;++e)t[e]()}function Se(t,e,i,n){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?Me(t,e):"gutter"==o?Ne(t,e,i,n):"class"==o?Le(t,e):"widget"==o&&Pe(t,e,n)}e.changes=null}function Te(t){return t.node==t.text&&(t.node=n("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),Jo&&ts<8&&(t.node.style.zIndex=2)),t.node}function Ee(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var r=Te(e);e.background=r.insertBefore(n("div",null,i),r.firstChild),t.display.input.setUneditable(e.background)}}function Ae(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):he(t,e)}function Me(t,e){var i=e.text.className,n=Ae(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,Le(t,e)):i&&(e.text.className=i)}function Le(t,e){Ee(t,e),e.line.wrapClass?Te(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function Ne(t,e,i,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var o=Te(e);e.gutterBackground=n("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),o.insertBefore(e.gutterBackground,e.text)}var s=e.line.gutterMarkers;if(t.options.lineNumbers||s){var a=Te(e),l=e.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(l),a.insertBefore(l,e.text),e.line.gutterClass&&(l.className+=" "+e.line.gutterClass),!t.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(e.lineNumber=l.appendChild(n("div",D(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),s)for(var c=0;c<t.options.gutters.length;++c){var u=t.options.gutters[c],h=s.hasOwnProperty(u)&&s[u];h&&l.appendChild(n("div",[h],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function Pe(t,e,i){e.alignable&&(e.alignable=null);for(var n=e.node.firstChild,r=void 0;n;n=r)r=n.nextSibling,"CodeMirror-linewidget"==n.className&&e.node.removeChild(n);De(t,e,i)}function Ie(t,e,i,n){var r=Ae(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),Le(t,e),Ne(t,e,i,n),De(t,e,n),e.node}function De(t,e,i){if(Oe(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Oe(t,e.rest[n],e,i,!1)}function Oe(t,e,i,r,o){if(e.widgets)for(var s=Te(i),a=0,l=e.widgets;a<l.length;++a){var c=l[a],u=n("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Re(c,u,i,r),t.display.input.setUneditable(u),o&&c.above?s.insertBefore(u,i.gutter||i.text):s.appendChild(u),ke(c,"redraw")}}function Re(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function Fe(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!o(document.body,t.node)){var r="position: relative;";t.coverGutter&&(r+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(r+="width: "+e.display.wrapper.clientWidth+"px;"),i(e.display.measure,n("div",[t.node],null,r))}return t.height=t.node.parentNode.offsetHeight}function He(t,e){for(var i=jt(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function je(t){return t.lineSpace.offsetTop}function ze(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function We(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=i(t.measure,n("pre","x")),r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,o={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(t.cachedPaddingH=o),o}function Be(t){return ks-t.display.nativeBarWidth}function qe(t){return t.display.scroller.clientWidth-Be(t)-t.display.barWidth}function $e(t){return t.display.scroller.clientHeight-Be(t)-t.display.barHeight}function Ue(t,e,i){var n=t.options.lineWrapping,r=n&&qe(t);if(!e.measure.heights||n&&e.measure.width!=r){var o=e.measure.heights=[];if(n){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-i.top)}}o.push(i.bottom-i.top)}}function Ve(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var r=0;r<t.rest.length;r++)if(N(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],
before:!0}}function Ke(t,e){e=ht(e);var n=N(e),r=t.display.externalMeasured=new ye(t.doc,e,n);r.lineN=n;var o=r.built=he(t,r);return r.text=o.pre,i(t.display.lineMeasure,o.pre),r}function Ye(t,e,i,n){return Qe(t,Xe(t,e),i,n)}function Ge(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ci(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function Xe(t,e){var i=N(e),n=Ge(t,i);n&&!n.text?n=null:n&&n.changes&&(Se(t,n,i,bi(t)),t.curOp.forceUpdate=!0),n||(n=Ke(t,e));var r=Ve(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Qe(t,e,i,n,r){e.before&&(i=-1);var o,s=i+(n||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Ue(t,e.view,e.rect),e.hasHeights=!0),o=ti(t,e,i,n),o.bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function Ze(t,e,i){for(var n,r,o,s,a,l,c=0;c<t.length;c+=3)if(a=t[c],l=t[c+1],e<a?(r=0,o=1,s="left"):e<l?(r=e-a,o=r+1):(c==t.length-3||e==l&&t[c+3]>e)&&(o=l-a,r=o-1,e>=l&&(s="right")),null!=r){if(n=t[c+2],a==l&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==r)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)n=t[(c-=3)+2],s="left";if("right"==i&&r==l-a)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)n=t[(c+=3)+2],s="right";break}return{node:n,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function Je(t,e){var i=Zs;if("left"==e)for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var r=t.length-1;r>=0&&(i=t[r]).left==i.right;r--);return i}function ti(t,e,i,n){var r,o=Ze(e.map,i,n),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;a&&k(e.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&k(e.line.text.charAt(o.coverStart+l));)++l;if(r=Jo&&ts<9&&0==a&&l==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():Je(ms(s,a,l).getClientRects(),n),r.left||r.right||0==a)break;l=a,a-=1,c="right"}Jo&&ts<11&&(r=ei(t.display.measure,r))}else{a>0&&(c=n="right");var h;r=t.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==n?h.length-1:0]:s.getBoundingClientRect()}if(Jo&&ts<9&&!a&&(!r||!r.left&&!r.right)){var p=s.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+yi(t.display),top:p.top,bottom:p.bottom}:Zs}for(var f=r.top-e.rect.top,d=r.bottom-e.rect.top,m=(f+d)/2,g=e.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var y=v?g[v-1]:0,b=g[v],x={left:("right"==c?r.right:r.left)-e.rect.left,right:("left"==c?r.left:r.right)-e.rect.left,top:y,bottom:b};return r.left||r.right||(x.bogus=!0),t.options.singleCursorHeightPerLine||(x.rtop=f,x.rbottom=d),x}function ei(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!qt(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function ii(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function ni(t){t.display.externalMeasure=null,e(t.display.lineMeasure);for(var i=0;i<t.display.view.length;i++)ii(t.display.view[i])}function ri(t){ni(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function oi(){return ns&&cs?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function si(){return ns&&cs?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ai(t,e,i,n,r){if(!r&&e.widgets)for(var o=0;o<e.widgets.length;++o)if(e.widgets[o].above){var s=Fe(e.widgets[o]);i.top+=s,i.bottom+=s}if("line"==n)return i;n||(n="local");var a=yt(e);if("local"==n?a+=je(t.display):a-=t.display.viewOffset,"page"==n||"window"==n){var l=t.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==n?0:si());var c=l.left+("window"==n?0:oi());i.left+=c,i.right+=c}return i.top+=a,i.bottom+=a,i}function li(t,e,i){if("div"==i)return e;var n=e.left,r=e.top;if("page"==i)n-=oi(),r-=si();else if("local"==i||!i){var o=t.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:r-s.top}}function ci(t,e,i,n,r){return n||(n=E(t.doc,e.line)),ai(t,n,Ye(t,n,e.ch,r),i)}function ui(t,e,i,n,r,o){function s(e,s){var a=Qe(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,ai(t,n,a,i)}function a(t,e,i){var n=l[e],r=n.level%2!=0;return s(i?t-1:t,r!=i)}n=n||E(t.doc,e.line),r||(r=Xe(t,n));var l=kt(n,t.doc.direction),c=e.ch,u=e.sticky;if(c>=n.text.length?(c=n.text.length,u="before"):c<=0&&(c=0,u="after"),!l)return s("before"==u?c-1:c,"before"==u);var h=wt(l,c,u),p=Is,f=a(c,h,"before"==u);return null!=p&&(f.other=a(c,p,"before"!=u)),f}function hi(t,e){var i=0;e=B(t.doc,e),t.options.lineWrapping||(i=yi(t.display)*e.ch);var n=E(t.doc,e.line),r=yt(n)+je(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function pi(t,e,i,n,r){var o=O(t,e,i);return o.xRel=r,n&&(o.outside=!0),o}function fi(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return pi(n.first,0,null,!0,-1);var r=P(n,i),o=n.first+n.size-1;if(r>o)return pi(n.first+n.size-1,E(n,o).text.length,null,!0,1);e<0&&(e=0);for(var s=E(n,r);;){var a=gi(t,s,r,e,i),l=ct(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=N(s=c.to.line)}}function di(t,e,i,n){var r=function(n){return ai(t,e,Qe(t,i,n),"line")},o=e.text.length,s=S(function(t){return r(t-1).bottom<=n},o,0);return o=S(function(t){return r(t).top>n},s,o),{begin:s,end:o}}function mi(t,e,i,n){var r=ai(t,e,Qe(t,i,n),"line").top;return di(t,e,i,r)}function gi(t,e,i,n,r){r-=yt(e);var o,s=0,a=e.text.length,l=Xe(t,e),c=kt(e,t.doc.direction);if(c){if(t.options.lineWrapping){var u;u=di(t,e,l,r),s=u.begin,a=u.end}o=new O(i,s);var h,p,f=ui(t,o,"line",e,l).left,d=f<n?1:-1,m=f-n;do{if(h=m,p=o,o=Et(t,e,o,d),null==o||o.ch<s||a<=("before"==o.sticky?o.ch-1:o.ch)){o=p;break}m=ui(t,o,"line",e,l).left-n}while(d<0!=m<0&&Math.abs(m)<=Math.abs(h));if(Math.abs(m)>Math.abs(h)){if(m<0==h<0)throw new Error("Broke out of infinite loop in coordsCharInner");o=p}}else{var g=S(function(i){var o=ai(t,e,Qe(t,l,i),"line");return o.top>r?(a=Math.min(i,a),!0):!(o.bottom<=r)&&(o.left>n||!(o.right<n)&&n-o.left<o.right-n)},s,a);g=C(e.text,g,1),o=new O(i,g,g==a?"before":"after")}var v=ui(t,o,"line",e,l);return(r<v.top||v.bottom<r)&&(o.outside=!0),o.xRel=n<v.left?-1:n>v.right?1:0,o}function vi(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Ks){Ks=n("pre");for(var r=0;r<49;++r)Ks.appendChild(document.createTextNode("x")),Ks.appendChild(n("br"));Ks.appendChild(document.createTextNode("x"))}i(t.measure,Ks);var o=Ks.offsetHeight/50;return o>3&&(t.cachedTextHeight=o),e(t.measure),o||1}function yi(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=n("span","xxxxxxxxxx"),r=n("pre",[e]);i(t.measure,r);var o=e.getBoundingClientRect(),s=(o.right-o.left)/10;return s>2&&(t.cachedCharWidth=s),s||10}function bi(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)i[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,n[t.options.gutters[s]]=o.clientWidth;return{fixedPos:xi(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function xi(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function _i(t){var e=vi(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/yi(t.display)-3);return function(r){if(gt(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return i?o+(Math.ceil(r.text.length/n)||1)*e:o+e}}function wi(t){var e=t.doc,i=_i(t);e.iter(function(t){var e=i(t);e!=t.height&&L(t,e)})}function ki(t,e,i,n){var r=t.display;if(!i&&"true"==jt(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,c=fi(t,o,s);if(n&&1==c.xRel&&(l=E(t.doc,c.line).text).length==c.ch){var u=h(l,l.length,t.options.tabSize)-l.length;c=O(c.line,Math.max(0,Math.round((o-We(t.display).left)/yi(t.display))-u))}return c}function Ci(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function Si(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ti(t,e){for(var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(e!==!1||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&Ei(t,a.head,r),l||Ai(t,a,o)}}return n}function Ei(t,e,i){var r=ui(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),o=i.appendChild(n("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var s=i.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=r.other.left+"px",s.style.top=r.other.top+"px",s.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Ai(t,e,i){function r(t,e,i,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),l.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==i?h-t:i)+"px;\n                             height: "+(r-e)+"px"))}function o(e,i,n){function o(i,n){return ci(t,O(e,i),"div",c,n)}var s,l,c=E(a,e),p=c.text.length;return _t(kt(c,a.direction),i||0,null==n?p:n,function(t,e,a){var c,f,d,m=o(t,"left");if(t==e)c=m,f=d=m.left;else{if(c=o(e-1,"right"),"rtl"==a){var g=m;m=c,c=g}f=m.left,d=c.right}null==i&&0==t&&(f=u),c.top-m.top>3&&(r(f,m.top,null,m.bottom),f=u,m.bottom<c.top&&r(f,m.bottom,null,c.top)),null==n&&e==p&&(d=h),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!l||c.bottom>l.bottom||c.bottom==l.bottom&&c.right>l.right)&&(l=c),f<u+1&&(f=u),r(f,c.top,d-f,c.bottom)}),{start:s,end:l}}var s=t.display,a=t.doc,l=document.createDocumentFragment(),c=We(t.display),u=c.left,h=Math.max(s.sizerWidth,qe(t)-s.sizer.offsetLeft)-c.right,p=e.from(),f=e.to();if(p.line==f.line)o(p.line,p.ch,f.ch);else{var d=E(a,p.line),m=E(a,f.line),g=ht(d)==ht(m),v=o(p.line,p.ch,g?d.text.length+1:null).end,y=o(f.line,g?0:null,f.ch).start;g&&(v.top<y.top-2?(r(v.right,v.top,null,v.bottom),r(u,y.top,y.left,y.bottom)):r(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&r(u,v.bottom,null,y.top)}i.appendChild(l)}function Mi(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Li(t){t.state.focused||(t.display.input.focus(),Pi(t))}function Ni(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Ii(t))},100)}function Pi(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Lt(t,"focus",t,e),t.state.focused=!0,a(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),es&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Mi(t))}function Ii(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Lt(t,"blur",t,e),t.state.focused=!1,ys(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Di(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=xi(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){t.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=o),i[s].gutterBackground&&(i[s].gutterBackground.style.left=o));var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function Oi(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=D(t.options,e.first+e.size-1),r=t.display;if(i.length!=r.lineNumChars){var o=r.measure.appendChild(n("div",[n("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=o.firstChild.offsetWidth,a=o.offsetWidth-s;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(s,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?i.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",En(t),!0}return!1}function Ri(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var r=e.view[n],o=void 0;if(!r.hidden){if(Jo&&ts<8){var s=r.node.offsetTop+r.node.offsetHeight;o=s-i,i=s}else{var a=r.node.getBoundingClientRect();o=a.bottom-a.top}var l=r.line.height-o;if(o<2&&(o=vi(e)),(l>.001||l<-.001)&&(L(r.line,o),Fi(r.line),r.rest))for(var c=0;c<r.rest.length;c++)Fi(r.rest[c])}}}function Fi(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function Hi(t,e,i){var n=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-je(t));var r=i&&null!=i.bottom?i.bottom:n+t.wrapper.clientHeight,o=P(e,n),s=P(e,r);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<o?(o=a,s=P(e,yt(E(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=P(e,yt(E(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function ji(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,Go||Sn(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),Go&&Sn(t),xn(t,100))}function zi(t,e,i){(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,Di(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Wi(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}}function Bi(t){var e=Wi(t);return e.x*=ta,e.y*=ta,e}function qi(t,e){var i=Wi(e),n=i.x,r=i.y,o=t.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(n&&a||r&&l){if(r&&hs&&es)t:for(var c=e.target,u=o.view;c!=s;c=c.parentNode)for(var h=0;h<u.length;h++)if(u[h].node==c){t.display.currentWheelTarget=c;break t}if(n&&!Go&&!rs&&null!=ta)return r&&l&&ji(t,Math.max(0,Math.min(s.scrollTop+r*ta,s.scrollHeight-s.clientHeight))),zi(t,Math.max(0,Math.min(s.scrollLeft+n*ta,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&Ot(e),void(o.wheelStartX=null);if(r&&null!=ta){var p=r*ta,f=t.doc.scrollTop,d=f+o.wrapper.clientHeight;p<0?f=Math.max(0,f+p-50):d=Math.min(t.doc.height,d+p+50),Sn(t,{top:f,bottom:d})}Js<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var t=s.scrollLeft-o.wheelStartX,e=s.scrollTop-o.wheelStartY,i=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,i&&(ta=(ta*Js+i)/(Js+1),++Js)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}}function $i(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+ze(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Be(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}function Ui(t,e){e||(e=$i(t));var i=t.display.barWidth,n=t.display.barHeight;Vi(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&Ri(t),Vi(t,$i(t)),i=t.display.barWidth,n=t.display.barHeight}function Vi(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}function Ki(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&ys(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new na[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Rs(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){"horizontal"==i?zi(t,e):ji(t,e)},t),t.display.scrollbars.addClass&&a(t.display.wrapper,t.display.scrollbars.addClass)}function Yi(t,e){if(!Nt(t,"scrollCursorIntoView")){var i=t.display,r=i.sizer.getBoundingClientRect(),o=null;if(e.top+r.top<0?o=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!as){var s=n("div","​",null,"position: absolute;\n                         top: "+(e.top-i.viewOffset-je(t.display))+"px;\n                         height: "+(e.bottom-e.top+Be(t)+i.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(s),s.scrollIntoView(o),t.display.lineSpace.removeChild(s)}}}function Gi(t,e,i,n){null==n&&(n=0);for(var r,o=0;o<5;o++){var s=!1,a=ui(t,e),l=i&&i!=e?ui(t,i):a;r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-n,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+n};var c=Qi(t,r),u=t.doc.scrollTop,h=t.doc.scrollLeft;if(null!=c.scrollTop&&(ji(t,c.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(zi(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return r}function Xi(t,e){var i=Qi(t,e);null!=i.scrollTop&&ji(t,i.scrollTop),null!=i.scrollLeft&&zi(t,i.scrollLeft)}function Qi(t,e){var i=t.display,n=vi(t.display);e.top<0&&(e.top=0);var r=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:i.scroller.scrollTop,o=$e(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+ze(i),l=e.top<n,c=e.bottom>a-n;if(e.top<r)s.scrollTop=l?0:e.top;else if(e.bottom>r+o){var u=Math.min(e.top,(c?a:e.bottom)-o);u!=r&&(s.scrollTop=u)}var h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:i.scroller.scrollLeft,p=qe(t)-(t.options.fixedGutter?i.gutters.offsetWidth:0),f=e.right-e.left>p;return f&&(e.right=e.left+p),e.left<10?s.scrollLeft=0:e.left<h?s.scrollLeft=Math.max(0,e.left-(f?0:10)):e.right>p+h-3&&(s.scrollLeft=e.right+(f?0:10)-p),s}function Zi(t,e,i){null==e&&null==i||tn(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=i&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+i)}function Ji(t){tn(t);var e=t.getCursor(),i=e,n=e;t.options.lineWrapping||(i=e.ch?O(e.line,e.ch-1):e,n=O(e.line,e.ch+1)),t.curOp.scrollToPos={from:i,to:n,margin:t.options.cursorScrollMargin}}function tn(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=hi(t,e.from),n=hi(t,e.to),r=Qi(t,{left:Math.min(i.left,n.left),top:Math.min(i.top,n.top)-e.margin,right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)+e.margin});t.scrollTo(r.scrollLeft,r.scrollTop)}}function en(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ra},xe(t.curOp)}function nn(t){var e=t.curOp;we(e,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;rn(t)})}function rn(t){for(var e=t.ops,i=0;i<e.length;i++)on(e[i]);for(var n=0;n<e.length;n++)sn(e[n]);for(var r=0;r<e.length;r++)an(e[r]);for(var o=0;o<e.length;o++)ln(e[o]);for(var s=0;s<e.length;s++)cn(e[s])}function on(t){var e=t.cm,i=e.display;wn(e),t.updateMaxLine&&xt(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new oa(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function sn(t){t.updatedDisplay=t.mustUpdate&&kn(t.cm,t.update)}function an(t){var e=t.cm,i=e.display;t.updatedDisplay&&Ri(e),t.barMeasure=$i(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ye(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Be(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-qe(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection(t.focus))}function ln(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&zi(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==s()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Ui(e,t.barMeasure),t.updatedDisplay&&An(e,t.barMeasure),t.selectionChanged&&Mi(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Li(t.cm)}function cn(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&Cn(e,t.update),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==t.scrollTop||i.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(n.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,t.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),null==t.scrollLeft||i.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(n.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,t.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,Di(e)),t.scrollToPos){var r=Gi(e,B(n,t.scrollToPos.from),B(n,t.scrollToPos.to),t.scrollToPos.margin);Yi(e,r)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Lt(o[a],"hide");if(s)for(var l=0;l<s.length;++l)s[l].lines.length&&Lt(s[l],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Lt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function un(t,e){if(t.curOp)return e();en(t);try{return e()}finally{nn(t)}}function hn(t,e){return function(){if(t.curOp)return e.apply(t,arguments);en(t);try{return e.apply(t,arguments)}finally{nn(t)}}}function pn(t){return function(){if(this.curOp)return t.apply(this,arguments);en(this);try{return t.apply(this,arguments)}finally{nn(this)}}}function fn(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);en(e);try{return t.apply(this,arguments)}finally{nn(e)}}}function dn(t,e,i,n){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ps&&dt(t.doc,e)<r.viewTo&&gn(t);else if(i<=r.viewFrom)Ps&&mt(t.doc,i+n)>r.viewFrom?gn(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)gn(t);else if(e<=r.viewFrom){var o=vn(t,i,i+n,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):gn(t)}else if(i>=r.viewTo){var s=vn(t,e,e,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):gn(t)}else{var a=vn(t,e,e,-1),l=vn(t,i,i+n,1);a&&l?(r.view=r.view.slice(0,a.index).concat(be(t,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=n):gn(t)}var c=r.externalMeasured;c&&(i<c.lineN?c.lineN+=n:e<c.lineN+c.size&&(r.externalMeasured=null))}function mn(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var o=n.view[Ci(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);p(s,i)==-1&&s.push(i)}}}function gn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function vn(t,e,i,n){var r,o=Ci(t,e),s=t.display.view;if(!Ps||i==t.doc.first+t.doc.size)return{index:o,lineN:i};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(n>0){if(o==s.length-1)return null;r=a+s[o].size-e,o++}else r=a-e;e+=r,i+=r}for(;dt(t.doc,i)!=i;){if(o==(n<0?0:s.length-1))return null;i+=n*s[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function yn(t,e,i){var n=t.display,r=n.view;0==r.length||e>=n.viewTo||i<=n.viewFrom?(n.view=be(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=be(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Ci(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(be(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ci(t,i)))),n.viewTo=i}function bn(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];r.hidden||r.node&&!r.changes||++i}return i}function xn(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,c(_n,t))}function _n(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=Gt(e.mode,te(t,e.frontier)),r=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength,l=Zt(t,o,a?Gt(e.mode,n):n,!0);o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!h&&p<s.length;++p)h=s[p]!=o.styles[p];h&&r.push(e.frontier),o.stateAfter=a?n:Gt(e.mode,n)}else o.text.length<=t.options.maxHighlightLength&&ee(t,o.text,n),o.stateAfter=e.frontier%5==0?Gt(e.mode,n):null;if(++e.frontier,+new Date>i)return xn(t,t.options.workDelay),!0}),r.length&&un(t,function(){for(var e=0;e<r.length;e++)mn(t,r[e],"text")})}}function wn(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Be(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Be(t)+"px",e.scrollbarsClipped=!0)}function kn(t,i){var n=t.display,r=t.doc;if(i.editorIsHidden)return gn(t),!1;if(!i.force&&i.visible.from>=n.viewFrom&&i.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==bn(t))return!1;Oi(t)&&(gn(t),i.dims=bi(t));var o=r.first+r.size,a=Math.max(i.visible.from-t.options.viewportMargin,r.first),l=Math.min(o,i.visible.to+t.options.viewportMargin);n.viewFrom<a&&a-n.viewFrom<20&&(a=Math.max(r.first,n.viewFrom)),n.viewTo>l&&n.viewTo-l<20&&(l=Math.min(o,n.viewTo)),Ps&&(a=dt(t.doc,a),l=mt(t.doc,l));var c=a!=n.viewFrom||l!=n.viewTo||n.lastWrapHeight!=i.wrapperHeight||n.lastWrapWidth!=i.wrapperWidth;yn(t,a,l),n.viewOffset=yt(E(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var u=bn(t);if(!c&&0==u&&!i.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var h=s();return u>4&&(n.lineDiv.style.display="none"),Tn(t,n.updateLineNumbers,i.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,h&&s()!=h&&h.offsetHeight&&h.focus(),e(n.cursorDiv),e(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,c&&(n.lastWrapHeight=i.wrapperHeight,n.lastWrapWidth=i.wrapperWidth,xn(t,400)),n.updateLineNumbers=null,!0}function Cn(t,e){for(var i=e.viewport,n=!0;(n&&t.options.lineWrapping&&e.oldDisplayWidth!=qe(t)||(i&&null!=i.top&&(i={top:Math.min(t.doc.height+ze(t.display)-$e(t),i.top)}),e.visible=Hi(t.display,t.doc,i),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&kn(t,e);n=!1){Ri(t);var r=$i(t);Si(t),Ui(t,r),An(t,r)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function Sn(t,e){var i=new oa(t,e);if(kn(t,i)){Ri(t),Cn(t,i);var n=$i(t);Si(t),Ui(t,n),An(t,n),i.finish()}}function Tn(t,i,n){function r(e){var i=e.nextSibling;return es&&hs&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var o=t.display,s=t.options.lineNumbers,a=o.lineDiv,l=a.firstChild,c=o.view,u=o.viewFrom,h=0;h<c.length;h++){var f=c[h];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;l!=f.node;)l=r(l);var d=s&&null!=i&&i<=u&&f.lineNumber;f.changes&&(p(f.changes,"gutter")>-1&&(d=!1),Se(t,f,u,n)),d&&(e(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(D(t.options,u)))),l=f.node.nextSibling}else{var m=Ie(t,f,u,n);a.insertBefore(m,l)}u+=f.size}for(;l;)l=r(l)}function En(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function An(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Be(t)+"px"}function Mn(t){var i=t.display.gutters,r=t.options.gutters;e(i);for(var o=0;o<r.length;++o){var s=r[o],a=i.appendChild(n("div",null,"CodeMirror-gutter "+s));"CodeMirror-linenumbers"==s&&(t.display.lineGutter=a,a.style.width=(t.display.lineNumWidth||1)+"px")}i.style.display=o?"":"none",En(t)}function Ln(t){var e=p(t.gutters,"CodeMirror-linenumbers");e==-1&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function Nn(t,e){var i=t[e];t.sort(function(t,e){return R(t.from(),e.from())}),e=p(t,i);for(var n=1;n<t.length;n++){var r=t[n],o=t[n-1];if(R(o.to(),r.from())>=0){var s=z(o.from(),r.from()),a=j(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;n<=e&&--e,t.splice(--n,2,new aa(l?a:s,l?s:a))}}return new sa(t,e)}function Pn(t,e){return new sa([new aa(t,e||t)],0)}function In(t){return t.text?O(t.from.line+t.text.length-1,m(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Dn(t,e){if(R(t,e.from)<0)return t;if(R(t,e.to)<=0)return In(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=In(e).ch-e.to.ch),O(i,n)}function On(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new aa(Dn(r.anchor,e),Dn(r.head,e)))}return Nn(i,t.sel.primIndex)}function Rn(t,e,i){return t.line==e.line?O(i.line,t.ch-e.ch+i.ch):O(i.line+(t.line-e.line),t.ch)}function Fn(t,e,i){for(var n=[],r=O(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=Rn(a.from,r,o),c=Rn(In(a),r,o);if(r=a.to,o=c,"around"==i){var u=t.sel.ranges[s],h=R(u.head,u.anchor)<0;n[s]=new aa(h?c:l,h?l:c)}else n[s]=new aa(l,l)}return new sa(n,t.sel.primIndex)}function Hn(t){t.doc.mode=Kt(t.options,t.doc.modeOption),
jn(t)}function jn(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,xn(t,100),t.state.modeGen++,t.curOp&&dn(t)}function zn(t,e){return 0==e.from.ch&&0==e.to.ch&&""==m(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Wn(t,e,i,n){function r(t){return i?i[t]:null}function o(t,i,r){le(t,i,r,n),ke(t,"change",t,e)}function s(t,e){for(var i=[],o=t;o<e;++o)i.push(new Vs(c[o],r(o),n));return i}var a=e.from,l=e.to,c=e.text,u=E(t,a.line),h=E(t,l.line),p=m(c),f=r(c.length-1),d=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(zn(t,e)){var g=s(0,c.length-1);o(h,h.text,f),d&&t.remove(a.line,d),g.length&&t.insert(a.line,g)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+p+u.text.slice(l.ch),f);else{var v=s(1,c.length-1);v.push(new Vs(p+u.text.slice(l.ch),f,n)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),t.insert(a.line+1,v)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),r(0)),t.remove(a.line+1,d);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(h,p+h.text.slice(l.ch),f);var y=s(1,c.length-1);d>1&&t.remove(a.line+1,d-1),t.insert(a.line+1,y)}ke(t,"change",t,e)}function Bn(t,e,i){function n(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;i&&!l||(e(a.doc,l),n(a.doc,t,l))}}}n(t,null,!0)}function qn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,wi(t),Hn(t),$n(t),t.options.lineWrapping||xt(t),t.options.mode=e.modeOption,dn(t)}function $n(t){("rtl"==t.doc.direction?a:ys)(t.display.lineDiv,"CodeMirror-rtl")}function Un(t){un(t,function(){$n(t),dn(t)})}function Vn(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Kn(t,e){var i={from:H(e.from),to:In(e),text:A(t,e.from,e.to)};return tr(t,i,e.from.line,e.to.line+1),Bn(t,function(t){return tr(t,i,e.from.line,e.to.line+1)},!0),i}function Yn(t){for(;t.length;){var e=m(t);if(!e.ranges)break;t.pop()}}function Gn(t,e){return e?(Yn(t.done),m(t.done)):t.done.length&&!m(t.done).ranges?m(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),m(t.done)):void 0}function Xn(t,e,i,n){var r=t.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=Gn(r,r.lastOp==n)))s=m(o.changes),0==R(e.from,e.to)&&0==R(e.from,s.to)?s.to=In(e):o.changes.push(Kn(t,e));else{var l=m(r.done);for(l&&l.ranges||Jn(t.sel,r.done),o={changes:[Kn(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,s||Lt(t,"historyAdded")}function Qn(t,e,i,n){var r=e.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Zn(t,e,i,n){var r=t.history,o=n&&n.origin;i==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||Qn(t,o,m(r.done),e))?r.done[r.done.length-1]=e:Jn(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=i,n&&n.clearRedo!==!1&&Yn(r.undone)}function Jn(t,e){var i=m(e);i&&i.ranges&&i.equals(t)||e.push(t)}function tr(t,e,i,n){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(i){i.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=i.markedSpans),++o})}function er(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function ir(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],r=0;r<e.text.length;++r)n.push(er(i[r]));return n}function nr(t,e){var i=ir(t,e),n=J(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],s=n[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(i[r]=s)}return i}function rr(t,e,i){for(var n=[],r=0;r<t.length;++r){var o=t[r];if(o.ranges)n.push(i?sa.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];n.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&p(e,Number(u[1]))>-1&&(m(a)[h]=c[h],delete c[h])}}}return n}function or(t,e,i,n){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(n){var o=R(i,r)<0;o!=R(n,r)<0?(r=i,i=n):o!=R(i,n)<0&&(i=n)}return new aa(r,i)}return new aa(n||i,i)}function sr(t,e,i,n){pr(t,new sa([or(t,t.sel.primary(),e,i)],0),n)}function ar(t,e,i){for(var n=[],r=0;r<t.sel.ranges.length;r++)n[r]=or(t,t.sel.ranges[r],e[r],null);var o=Nn(n,t.sel.primIndex);pr(t,o,i)}function lr(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,pr(t,Nn(r,t.sel.primIndex),n)}function cr(t,e,i,n){pr(t,Pn(e,i),n)}function ur(t,e,i){var n={ranges:e.ranges,update:function(e){var i=this;this.ranges=[];for(var n=0;n<e.length;n++)i.ranges[n]=new aa(B(t,e[n].anchor),B(t,e[n].head))},origin:i&&i.origin};return Lt(t,"beforeSelectionChange",t,n),t.cm&&Lt(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?Nn(n.ranges,n.ranges.length-1):e}function hr(t,e,i){var n=t.history.done,r=m(n);r&&r.ranges?(n[n.length-1]=e,fr(t,e,i)):pr(t,e,i)}function pr(t,e,i){fr(t,e,i),Zn(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function fr(t,e,i){(It(t,"beforeSelectionChange")||t.cm&&It(t.cm,"beforeSelectionChange"))&&(e=ur(t,e,i));var n=i&&i.bias||(R(e.primary().head,t.sel.primary().head)<0?-1:1);dr(t,gr(t,e,n,!0)),i&&i.scroll===!1||!t.cm||Ji(t.cm)}function dr(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Pt(t.cm)),ke(t,"cursorActivity",t))}function mr(t){dr(t,gr(t,t.sel,null,!1),Ss)}function gr(t,e,i,n){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=yr(t,s.anchor,a&&a.anchor,i,n),c=yr(t,s.head,a&&a.head,i,n);(r||l!=s.anchor||c!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new aa(l,c))}return r?Nn(r,e.primIndex):e}function vr(t,e,i,n,r){var o=E(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(r&&(Lt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c=l.find(n<0?1:-1),u=void 0;if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(c=br(t,c,-n,c&&c.line==e.line?o:null)),c&&c.line==e.line&&(u=R(c,i))&&(n<0?u<0:u>0))return vr(t,c,e,n,r)}var h=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(h=br(t,h,n,h.line==e.line?o:null)),h?vr(t,h,e,n,r):null}}return e}function yr(t,e,i,n,r){var o=n||1,s=vr(t,e,i,o,r)||!r&&vr(t,e,i,o,!0)||vr(t,e,i,-o,r)||!r&&vr(t,e,i,-o,!0);return s?s:(t.cantEdit=!0,O(t.first,0))}function br(t,e,i,n){return i<0&&0==e.ch?e.line>t.first?B(t,O(e.line-1)):null:i>0&&e.ch==(n||E(t,e.line)).text.length?e.line<t.first+t.size-1?O(e.line+1,0):null:new O(e.line,e.ch+i)}function xr(t){t.setSelection(O(t.firstLine(),0),O(t.lastLine()),Ss)}function _r(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(e,i,r,o){e&&(n.from=B(t,e)),i&&(n.to=B(t,i)),r&&(n.text=r),void 0!==o&&(n.origin=o)}),Lt(t,"beforeChange",t,n),t.cm&&Lt(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function wr(t,e,i){if(t.cm){if(!t.cm.curOp)return hn(t.cm,wr)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(It(t,"beforeChange")||t.cm&&It(t.cm,"beforeChange"))||(e=_r(t,e,!0))){var n=Ns&&!i&&et(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)kr(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text});else kr(t,e)}}function kr(t,e){if(1!=e.text.length||""!=e.text[0]||0!=R(e.from,e.to)){var i=On(t,e);Xn(t,e,i,t.cm?t.cm.curOp.id:NaN),Tr(t,e,i,J(t,e));var n=[];Bn(t,function(t,i){i||p(n,t.history)!=-1||(Nr(t.history,e),n.push(t.history)),Tr(t,e,null,J(t,e))})}}function Cr(t,e,i){if(!t.cm||!t.cm.state.suppressEdits||i){for(var n,r=t.history,o=t.sel,s="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,l=0;l<s.length&&(n=s[l],i?!n.ranges||n.equals(t.sel):n.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;n=s.pop(),n.ranges;){if(Jn(n,a),i&&!n.equals(t.sel))return void pr(t,n,{clearRedo:!1});o=n}var c=[];Jn(o,a),a.push({changes:c,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;for(var u=It(t,"beforeChange")||t.cm&&It(t.cm,"beforeChange"),h=function(i){var r=n.changes[i];if(r.origin=e,u&&!_r(t,r,!1))return s.length=0,{};c.push(Kn(t,r));var o=i?On(t,r):m(s);Tr(t,r,o,nr(t,r)),!i&&t.cm&&t.cm.scrollIntoView({from:r.from,to:In(r)});var a=[];Bn(t,function(t,e){e||p(a,t.history)!=-1||(Nr(t.history,r),a.push(t.history)),Tr(t,r,null,nr(t,r))})},f=n.changes.length-1;f>=0;--f){var d=h(f);if(d)return d.v}}}}function Sr(t,e){if(0!=e&&(t.first+=e,t.sel=new sa(g(t.sel.ranges,function(t){return new aa(O(t.anchor.line+e,t.anchor.ch),O(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){dn(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)mn(t.cm,n,"gutter")}}function Tr(t,e,i,n){if(t.cm&&!t.cm.curOp)return hn(t.cm,Tr)(t,e,i,n);if(e.to.line<t.first)return void Sr(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Sr(t,r),e={from:O(t.first,0),to:O(e.to.line+r,e.to.ch),text:[m(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:O(o,E(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=A(t,e.from,e.to),i||(i=On(t,e)),t.cm?Er(t.cm,e,n):Wn(t,e,n),fr(t,i,Ss)}}function Er(t,e,i){var n=t.doc,r=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=N(ht(E(n,o.line))),n.iter(l,s.line+1,function(t){if(t==r.maxLine)return a=!0,!0})),n.sel.contains(e.from,e.to)>-1&&Pt(t),Wn(n,e,i,_i(t)),t.options.lineWrapping||(n.iter(l,o.line+e.text.length,function(t){var e=bt(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,a=!1)}),a&&(t.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),xn(t,400);var c=e.text.length-(s.line-o.line)-1;e.full?dn(t):o.line!=s.line||1!=e.text.length||zn(t.doc,e)?dn(t,o.line,s.line+1,c):mn(t,o.line,"text");var u=It(t,"changes"),h=It(t,"change");if(h||u){var p={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};h&&ke(t,"change",t,p),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(p)}t.display.selForContextMenu=null}function Ar(t,e,i,n,r){if(n||(n=i),R(n,i)<0){var o=n;n=i,i=o}"string"==typeof e&&(e=t.splitLines(e)),wr(t,{from:i,to:n,text:e,origin:r})}function Mr(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function Lr(t,e,i,n){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||(o=t[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)Mr(o.ranges[a].anchor,e,i,n),Mr(o.ranges[a].head,e,i,n)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(i<c.from.line)c.from=O(c.from.line+n,c.from.ch),c.to=O(c.to.line+n,c.to.ch);else if(e<=c.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function Nr(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;Lr(t.done,i,n,r),Lr(t.undone,i,n,r)}function Pr(t,e,i,n){var r=e,o=e;return"number"==typeof e?o=E(t,W(t,e)):r=N(e),null==r?null:(n(o,r)&&t.cm&&mn(t.cm,r,i),o)}function Ir(t,e,i){yt(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Zi(t,null,i)}function Dr(t,e,i,n){var r=new ua(t,i,n),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Pr(t,e,"widget",function(e){var i=e.widgets||(e.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!gt(t,e)){var n=yt(e)<t.scrollTop;L(e,e.height+Fe(r)),n&&Zi(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),ke(o,"lineWidgetAdded",o,r,"number"==typeof e?e:N(e)),r}function Or(t,e,i,n,o){if(n&&n.shared)return Rr(t,e,i,n,o);if(t.cm&&!t.cm.curOp)return hn(t.cm,Or)(t,e,i,n,o);var s=new pa(t,o),a=R(e,i);if(n&&u(n,s,!1),a>0||0==a&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=r("span",[s.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(ut(t,e.line,e,i,s)||e.line!=i.line&&ut(t,i.line,e,i,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");V()}s.addToHistory&&Xn(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var l,c=e.line,h=t.cm;if(t.iter(c,i.line+1,function(t){h&&s.collapsed&&!h.options.lineWrapping&&ht(t)==h.display.maxLine&&(l=!0),s.collapsed&&c!=e.line&&L(t,0),X(t,new K(s,c==e.line?e.ch:null,c==i.line?i.ch:null)),++c}),s.collapsed&&t.iter(e.line,i.line+1,function(e){gt(t,e)&&L(e,0)}),s.clearOnEnter&&Rs(s,"beforeCursorEnter",function(){return s.clear()}),s.readOnly&&(U(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),s.collapsed&&(s.id=++ha,s.atomic=!0),h){if(l&&(h.curOp.updateMaxLine=!0),s.collapsed)dn(h,e.line,i.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var p=e.line;p<=i.line;p++)mn(h,p,"text");s.atomic&&mr(h.doc),ke(h,"markerAdded",h,s)}return s}function Rr(t,e,i,n,r){n=u(n),n.shared=!1;var o=[Or(t,e,i,n,r)],s=o[0],a=n.widgetNode;return Bn(t,function(t){a&&(n.widgetNode=a.cloneNode(!0)),o.push(Or(t,B(t,e),B(t,i),n,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=m(o)}),new fa(o,s)}function Fr(t){return t.findMarks(O(t.first,0),t.clipPos(O(t.lastLine())),function(t){return t.parent})}function Hr(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(R(o,s)){var a=Or(t,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function jr(t){for(var e=function(e){var i=t[e],n=[i.primary.doc];Bn(i.primary.doc,function(t){return n.push(t)});for(var r=0;r<i.markers.length;r++){var o=i.markers[r];p(n,o.doc)==-1&&(o.parent=null,i.markers.splice(r--,1))}},i=0;i<t.length;i++)e(i)}function zr(t){var e=this;if(qr(e),!Nt(e,t)&&!He(e.display,t)){Ot(t),Jo&&(ga=+new Date);var i=ki(e,t,!0),n=t.dataTransfer.files;if(i&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),s=0,a=function(t,n){if(!e.options.allowDropFileTypes||p(e.options.allowDropFileTypes,t.type)!=-1){var a=new FileReader;a.onload=hn(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[n]=t,++s==r){i=B(e.doc,i);var l={from:i,to:i,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};wr(e.doc,l),hr(e.doc,Pn(i,In(l)))}}),a.readAsText(t)}},l=0;l<r;++l)a(n[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var c=t.dataTransfer.getData("Text");if(c){var u;if(e.state.draggingText&&!e.state.draggingText.copy&&(u=e.listSelections()),fr(e.doc,Pn(i,i)),u)for(var h=0;h<u.length;++h)Ar(e.doc,"",u[h].anchor,u[h].head,"drag");e.replaceSelection(c,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Wr(t,e){if(Jo&&(!t.state.draggingText||+new Date-ga<100))return void Ht(e);if(!Nt(t,e)&&!He(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!os)){var i=n("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",rs&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),rs&&i.parentNode.removeChild(i)}}function Br(t,e){var r=ki(t,e);if(r){var o=document.createDocumentFragment();Ei(t,r,o),t.display.dragCursor||(t.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),i(t.display.dragCursor,o)}}function qr(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function $r(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),i=0;i<e.length;i++){var n=e[i].CodeMirror;n&&t(n)}}function Ur(){va||(Vr(),va=!0)}function Vr(){var t;Rs(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,$r(Kr)},100))}),Rs(window,"blur",function(){return $r(Ii)})}function Kr(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Yr(t){var e=t.split(/-(?!$)/);t=e[e.length-1];for(var i,n,r,o,s=0;s<e.length-1;s++){var a=e[s];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return i&&(t="Alt-"+t),n&&(t="Ctrl-"+t),o&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Gr(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete t[i];continue}for(var r=g(i.split(" "),Yr),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=n):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[i]}for(var c in e)t[c]=e[c];return t}function Xr(t,e,i,n){e=Jr(e);var r=e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Xr(t,e.fallthrough,i,n);for(var o=0;o<e.fallthrough.length;o++){var s=Xr(t,e.fallthrough[o],i,n);if(s)return s}}}function Qr(t){var e="string"==typeof t?t:ya[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Zr(t,e){if(rs&&34==t.keyCode&&t["char"])return!1;var i=ya[t.keyCode],n=i;return null!=n&&!t.altGraphKey&&(t.altKey&&"Alt"!=i&&(n="Alt-"+n),(gs?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),(gs?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!e&&t.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)}function Jr(t){return"string"==typeof t?wa[t]:t}function to(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=e(i[r]);n.length&&R(o.from,m(n).to)<=0;){var s=n.pop();if(R(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}un(t,function(){for(var e=n.length-1;e>=0;e--)Ar(t.doc,"",n[e].from,n[e].to,"+delete");Ji(t)})}function eo(t,e){var i=E(t.doc,e),n=ht(i);return n!=i&&(e=N(n)),Tt(!0,t,n,e,1)}function io(t,e){var i=E(t.doc,e),n=pt(i);return n!=i&&(e=N(n)),Tt(!0,t,i,e,-1)}function no(t,e){var i=eo(t,e.line),n=E(t.doc,i.line),r=kt(n,t.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,n.text.search(/\S/)),s=e.line==i.line&&e.ch<=o&&e.ch;return O(i.line,s?0:o,i.sticky)}return i}function ro(t,e,i){if("string"==typeof e&&(e=Sa[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Cs}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function oo(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=Xr(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&Xr(e,t.options.extraKeys,i,t)||Xr(e,t.options.keyMap,i,t)}function so(t,e,i,n){var r=t.state.keySeq;if(r){if(Qr(e))return"handled";Ta.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),e=r+" "+e}var o=oo(t,e,n);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&ke(t,"keyHandled",t,e,i),"handled"!=o&&"multi"!=o||(Ot(i),Mi(t)),r&&!o&&/\'$/.test(e)?(Ot(i),!0):!!o}function ao(t,e){var i=Zr(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?so(t,"Shift-"+i,e,function(e){return ro(t,e,!0)})||so(t,i,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ro(t,e)}):so(t,i,e,function(e){return ro(t,e)}))}function lo(t,e,i){return so(t,"'"+i+"'",e,function(e){return ro(t,e,!0)})}function co(t){var e=this;if(e.curOp.focus=s(),!Nt(e,t)){Jo&&ts<11&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var n=ao(e,t);rs&&(Ea=n?i:null,!n&&88==i&&!zs&&(hs?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||uo(e)}}function uo(t){function e(t){18!=t.keyCode&&t.altKey||(ys(i,"CodeMirror-crosshair"),Mt(document,"keyup",e),Mt(document,"mouseover",e))}var i=t.display.lineDiv;a(i,"CodeMirror-crosshair"),Rs(document,"keyup",e),Rs(document,"mouseover",e)}function ho(t){16==t.keyCode&&(this.doc.sel.shift=!1),Nt(this,t)}function po(t){var e=this;if(!(He(e.display,t)||Nt(e,t)||t.ctrlKey&&!t.altKey||hs&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(rs&&i==Ea)return Ea=null,void Ot(t);if(!rs||t.which&&!(t.which<10)||!ao(e,t)){var r=String.fromCharCode(null==n?i:n);"\b"!=r&&(lo(e,t,r)||e.display.input.onKeyPress(t))}}}function fo(t){var e=this,i=e.display;if(!(Nt(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=t.shiftKey,He(i,t))return void(es||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100)));if(!bo(e,t)){var n=ki(e,t);switch(window.focus(),zt(t)){case 1:e.state.selectingText?e.state.selectingText(t):n?mo(e,t,n):jt(t)==i.scroller&&Ot(t);break;case 2:es&&(e.state.lastMiddleDown=+new Date),n&&sr(e.doc,n),setTimeout(function(){return i.input.focus()},20),Ot(t);break;case 3:vs?xo(e,t):Ni(e)}}}}function mo(t,e,i){Jo?setTimeout(c(Li,t),0):t.curOp.focus=s();var n,r=+new Date;Ca&&Ca.time>r-400&&0==R(Ca.pos,i)?n="triple":ka&&ka.time>r-400&&0==R(ka.pos,i)?(n="double",Ca={time:r,pos:i}):(n="single",ka={time:r,pos:i});var o,a=t.doc.sel,l=hs?e.metaKey:e.ctrlKey;t.options.dragDrop&&Fs&&!t.isReadOnly()&&"single"==n&&(o=a.contains(i))>-1&&(R((o=a.ranges[o]).from(),i)<0||i.xRel>0)&&(R(o.to(),i)>0||i.xRel<0)?go(t,e,i,l):vo(t,e,i,n,l)}function go(t,e,i,n){var r=t.display,o=!1,s=hn(t,function(e){es&&(r.scroller.draggable=!1),t.state.draggingText=!1,Mt(document,"mouseup",s),Mt(document,"mousemove",a),Mt(r.scroller,"dragstart",l),Mt(r.scroller,"drop",s),o||(Ot(e),n||sr(t.doc,i),es||Jo&&9==ts?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())}),a=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},l=function(){return o=!0};es&&(r.scroller.draggable=!0),t.state.draggingText=s,s.copy=hs?e.altKey:e.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop(),Rs(document,"mouseup",s),Rs(document,"mousemove",a),Rs(r.scroller,"dragstart",l),Rs(r.scroller,"drop",s),Ni(t),setTimeout(function(){return r.input.focus()},20)}function vo(t,e,i,n,r){function o(e){if(0!=R(b,e))if(b=e,"rect"==n){for(var r=[],o=t.options.tabSize,s=h(E(u,i.line).text,i.ch,o),a=h(E(u,e.line).text,e.ch,o),l=Math.min(s,a),c=Math.max(s,a),g=Math.min(i.line,e.line),v=Math.min(t.lastLine(),Math.max(i.line,e.line));g<=v;g++){var y=E(u,g).text,x=f(y,l,o);l==c?r.push(new aa(O(g,x),O(g,x))):y.length>x&&r.push(new aa(O(g,x),O(g,f(y,c,o))))}r.length||r.push(new aa(i,i)),pr(u,Nn(m.ranges.slice(0,d).concat(r),d),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var _=p,w=_.anchor,k=e;if("single"!=n){var C;C="double"==n?t.findWordAt(e):new aa(O(e.line,0),B(u,O(e.line+1,0))),R(C.anchor,w)>0?(k=C.head,w=z(_.from(),C.anchor)):(k=C.anchor,w=j(_.to(),C.head))}var S=m.ranges.slice(0);S[d]=new aa(B(u,w),k),pr(u,Nn(S,d),Ts)}}function a(e){var i=++_,r=ki(t,e,!0,"rect"==n);if(r)if(0!=R(r,b)){t.curOp.focus=s(),o(r);var l=Hi(c,u);(r.line>=l.to||r.line<l.from)&&setTimeout(hn(t,function(){_==i&&a(e)}),150)}else{var h=e.clientY<x.top?-20:e.clientY>x.bottom?20:0;h&&setTimeout(hn(t,function(){_==i&&(c.scroller.scrollTop+=h,a(e))}),50)}}function l(e){t.state.selectingText=!1,_=1/0,Ot(e),c.input.focus(),Mt(document,"mousemove",w),Mt(document,"mouseup",k),u.history.lastSelOrigin=null}var c=t.display,u=t.doc;Ot(e);var p,d,m=u.sel,g=m.ranges;if(r&&!e.shiftKey?(d=u.sel.contains(i),p=d>-1?g[d]:new aa(i,i)):(p=u.sel.primary(),d=u.sel.primIndex),ps?e.shiftKey&&e.metaKey:e.altKey)n="rect",r||(p=new aa(i,i)),i=ki(t,e,!0,!0),d=-1;else if("double"==n){var v=t.findWordAt(i);p=t.display.shift||u.extend?or(u,p,v.anchor,v.head):v}else if("triple"==n){var y=new aa(O(i.line,0),B(u,O(i.line+1,0)));p=t.display.shift||u.extend?or(u,p,y.anchor,y.head):y}else p=or(u,p,i);r?d==-1?(d=g.length,pr(u,Nn(g.concat([p]),d),{scroll:!1,origin:"*mouse"})):g.length>1&&g[d].empty()&&"single"==n&&!e.shiftKey?(pr(u,Nn(g.slice(0,d).concat(g.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),m=u.sel):lr(u,d,p,Ts):(d=0,pr(u,new sa([p],0),Ts),m=u.sel);var b=i,x=c.wrapper.getBoundingClientRect(),_=0,w=hn(t,function(t){zt(t)?a(t):l(t)}),k=hn(t,l);t.state.selectingText=k,Rs(document,"mousemove",w),Rs(document,"mouseup",k)}function yo(t,e,i,n){var r,o;try{r=e.clientX,o=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&Ot(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!It(t,i))return Ft(e);o-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=P(t.doc,o),h=t.options.gutters[l];return Lt(t,i,t,u,h,e),Ft(e)}}}function bo(t,e){return yo(t,e,"gutterClick",!0)}function xo(t,e){He(t.display,e)||_o(t,e)||Nt(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function _o(t,e){return!!It(t,"gutterContextMenu")&&yo(t,e,"gutterContextMenu",!1)}function wo(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ri(t)}function ko(t){function e(e,n,r,o){t.defaults[e]=n,r&&(i[e]=o?function(t,e,i){i!=Aa&&r(t,e,i)}:r)}var i=t.optionHandlers;t.defineOption=e,t.Init=Aa,e("value","",function(t,e){return t.setValue(e)},!0),e("mode",null,function(t,e){t.doc.modeOption=e,Hn(t)},!0),e("indentUnit",2,Hn,!0),e("indentWithTabs",!1),e("smartIndent",!0),e("tabSize",4,function(t){jn(t),ri(t),dn(t)},!0),e("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var i=[],n=t.doc.first;t.doc.iter(function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(o==-1)break;r=o+e.length,i.push(O(n,o))}n++});for(var r=i.length-1;r>=0;r--)Ar(t.doc,e,i[r],O(i[r].line,i[r].ch+e.length))}}),e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,i){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),i!=Aa&&t.refresh()}),e("specialCharPlaceholder",pe,function(t){return t.refresh()},!0),e("electricChars",!0),e("inputStyle",us?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),e("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),e("rtlMoveVisually",!fs),e("wholeLineUpdateBefore",!0),e("theme","default",function(t){wo(t),Co(t)},!0),e("keyMap","default",function(t,e,i){var n=Jr(e),r=i!=Aa&&Jr(i);r&&r.detach&&r.detach(t,n),n.attach&&n.attach(t,r||null)}),e("extraKeys",null),e("lineWrapping",!1,To,!0),e("gutters",[],function(t){Ln(t.options),Co(t)},!0),e("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?xi(t.display)+"px":"0",t.refresh()},!0),e("coverGutterNextToScrollbar",!1,function(t){return Ui(t)},!0),e("scrollbarStyle","native",function(t){Ki(t),Ui(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),e("lineNumbers",!1,function(t){Ln(t.options),Co(t)},!0),e("firstLineNumber",1,Co,!0),e("lineNumberFormatter",function(t){return t},Co,!0),e("showCursorWhenSelecting",!1,Si,!0),e("resetSelectionOnContextMenu",!0),e("lineWiseCopyCut",!0),e("readOnly",!1,function(t,e){"nocursor"==e?(Ii(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),e("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),e("dragDrop",!0,So),e("allowDropFileTypes",null),e("cursorBlinkRate",530),e("cursorScrollMargin",0),e("cursorHeight",1,Si,!0),e("singleCursorHeightPerLine",!0,Si,!0),e("workTime",100),e("workDelay",100),e("flattenSpans",!0,jn,!0),e("addModeClass",!1,jn,!0),e("pollInterval",100),e("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),e("historyEventDelay",1250),e("viewportMargin",10,function(t){return t.refresh()},!0),e("maxHighlightLength",1e4,jn,!0),e("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),e("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),e("autofocus",null),e("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0)}function Co(t){Mn(t),dn(t),Di(t)}function So(t,e,i){var n=i&&i!=Aa;if(!e!=!n){var r=t.display.dragFunctions,o=e?Rs:Mt;o(t.display.scroller,"dragstart",r.start),o(t.display.scroller,"dragenter",r.enter),o(t.display.scroller,"dragover",r.over),o(t.display.scroller,"dragleave",r.leave),o(t.display.scroller,"drop",r.drop)}}function To(t){t.options.lineWrapping?(a(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(ys(t.display.wrapper,"CodeMirror-wrap"),xt(t)),wi(t),dn(t),ri(t),setTimeout(function(){return Ui(t)},100)}function Eo(t,e){var i=this;if(!(this instanceof Eo))return new Eo(t,e);this.options=e=e?u(e):{},u(Ma,e,!1),Ln(e);var n=e.value;"string"==typeof n&&(n=new ma(n,e.mode,null,e.lineSeparator,e.direction)),this.doc=n;var r=new Eo.inputStyles[e.inputStyle](this),o=this.display=new T(t,n,r);o.wrapper.CodeMirror=this,Mn(this),wo(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ki(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new xs,keySeq:null,specialChars:null},e.autofocus&&!us&&o.input.focus(),Jo&&ts<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Ao(this),Ur(),en(this),this.curOp.forceUpdate=!0,qn(this,n),e.autofocus&&!us||this.hasFocus()?setTimeout(c(Pi,this),20):Ii(this);for(var s in La)La.hasOwnProperty(s)&&La[s](i,e[s],Aa);Oi(this),e.finishInit&&e.finishInit(this);for(var a=0;a<Na.length;++a)Na[a](i);nn(this),es&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Ao(t){function e(){r.activeTouch&&(o=setTimeout(function(){return r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function i(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function n(t,e){if(null==e.left)return!0;var i=e.left-t.left,n=e.top-t.top;return i*i+n*n>400}var r=t.display;Rs(r.scroller,"mousedown",hn(t,fo)),Jo&&ts<11?Rs(r.scroller,"dblclick",hn(t,function(e){if(!Nt(t,e)){var i=ki(t,e);if(i&&!bo(t,e)&&!He(t.display,e)){Ot(e);var n=t.findWordAt(i);sr(t.doc,n.anchor,n.head)}}})):Rs(r.scroller,"dblclick",function(e){return Nt(t,e)||Ot(e)}),vs||Rs(r.scroller,"contextmenu",function(e){return xo(t,e)});var o,s={end:0};Rs(r.scroller,"touchstart",function(e){if(!Nt(t,e)&&!i(e)){r.input.ensurePolled(),clearTimeout(o);var n=+new Date;r.activeTouch={start:n,moved:!1,prev:n-s.end<=300?s:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),Rs(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Rs(r.scroller,"touchend",function(i){var o=r.activeTouch;if(o&&!He(r,i)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=t.coordsChar(r.activeTouch,"page");s=!o.prev||n(o,o.prev)?new aa(a,a):!o.prev.prev||n(o,o.prev.prev)?t.findWordAt(a):new aa(O(a.line,0),B(t.doc,O(a.line+1,0))),t.setSelection(s.anchor,s.head),
t.focus(),Ot(i)}e()}),Rs(r.scroller,"touchcancel",e),Rs(r.scroller,"scroll",function(){r.scroller.clientHeight&&(ji(t,r.scroller.scrollTop),zi(t,r.scroller.scrollLeft,!0),Lt(t,"scroll",t))}),Rs(r.scroller,"mousewheel",function(e){return qi(t,e)}),Rs(r.scroller,"DOMMouseScroll",function(e){return qi(t,e)}),Rs(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(e){Nt(t,e)||Ht(e)},over:function(e){Nt(t,e)||(Br(t,e),Ht(e))},start:function(e){return Wr(t,e)},drop:hn(t,zr),leave:function(e){Nt(t,e)||qr(t)}};var a=r.input.getField();Rs(a,"keyup",function(e){return ho.call(t,e)}),Rs(a,"keydown",hn(t,co)),Rs(a,"keypress",hn(t,po)),Rs(a,"focus",function(e){return Pi(t,e)}),Rs(a,"blur",function(e){return Ii(t,e)})}function Mo(t,e,i,n){var r,o=t.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=te(t,e):i="prev");var s=t.options.tabSize,a=E(o,e),l=h(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&(c=o.mode.indent(r,a.text.slice(u.length),a.text),c==Cs||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=e>o.first?h(E(o,e-1).text,null,s):0:"add"==i?c=l+t.options.indentUnit:"subtract"==i?c=l-t.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var p="",f=0;if(t.options.indentWithTabs)for(var m=Math.floor(c/s);m;--m)f+=s,p+="\t";if(f<c&&(p+=d(c-f)),p!=u)return Ar(o,p,O(e,0),O(e,u.length),"+input"),a.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var v=o.sel.ranges[g];if(v.head.line==e&&v.head.ch<u.length){var y=O(e,u.length);lr(o,g,new aa(y,y));break}}}function Lo(t){Pa=t}function No(t,e,i,n,r){var o=t.doc;t.display.shift=!1,n||(n=o.sel);var s=t.state.pasteIncoming||"paste"==r,a=Hs(e),l=null;if(s&&n.ranges.length>1)if(Pa&&Pa.text.join("\n")==e){if(n.ranges.length%Pa.text.length==0){l=[];for(var c=0;c<Pa.text.length;c++)l.push(o.splitLines(Pa.text[c]))}}else a.length==n.ranges.length&&(l=g(a,function(t){return[t]}));for(var u,h=n.ranges.length-1;h>=0;h--){var p=n.ranges[h],f=p.from(),d=p.to();p.empty()&&(i&&i>0?f=O(f.line,f.ch-i):t.state.overwrite&&!s?d=O(d.line,Math.min(E(o,d.line).text.length,d.ch+m(a).length)):Pa&&Pa.lineWise&&Pa.text.join("\n")==e&&(f=d=O(f.line,0))),u=t.curOp.updateInput;var v={from:f,to:d,text:l?l[h%l.length]:a,origin:r||(s?"paste":t.state.cutIncoming?"cut":"+input")};wr(t.doc,v),ke(t,"inputRead",t,v)}e&&!s&&Io(t,e),Ji(t),t.curOp.updateInput=u,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Po(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||un(e,function(){return No(e,i,0,null,"paste")}),!0}function Io(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Mo(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(E(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Mo(t,r.head.line,"smart"));s&&ke(t,"electricInput",t,r.head.line)}}}function Do(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,o={anchor:O(r,0),head:O(r+1,0)};i.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:i}}function Oo(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function Ro(){var t=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=n("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return es?t.style.width="1000px":t.setAttribute("wrap","off"),ls&&(t.style.border="1px solid black"),Oo(t),e}function Fo(t,e,i,n,r){function o(){var n=e.line+i;return!(n<t.first||n>=t.first+t.size)&&(e=new O(n,e.ch,e.sticky),c=E(t,n))}function s(n){var s;if(s=r?Et(t.cm,c,e,i):St(c,e,i),null==s){if(n||!o())return!1;e=Tt(r,t.cm,c,e.line,i)}else e=s;return!0}var a=e,l=i,c=E(t,e.line);if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var u=null,h="group"==n,p=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(i<0)||s(!f);f=!1){var d=c.text.charAt(e.ch)||"\n",m=_(d,p)?"w":h&&"\n"==d?"n":!h||/\s/.test(d)?null:"p";if(!h||f||m||(m="s"),u&&u!=m){i<0&&(i=1,s(),e.sticky="after");break}if(m&&(u=m),i>0&&!s(!f))break}var g=yr(t,e,a,l,!0);return F(a,g)&&(g.hitSide=!0),g}function Ho(t,e,i,n){var r,o=t.doc,s=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(a-.5*vi(t.display),3);r=(i>0?e.bottom:e.top)+i*l}else"line"==n&&(r=i>0?e.bottom+3:e.top-3);for(var c;c=fi(t,s,r),c.outside;){if(i<0?r<=0:r>=o.height){c.hitSide=!0;break}r+=5*i}return c}function jo(t,e){var i=Ge(t,e.line);if(!i||i.hidden)return null;var n=E(t.doc,e.line),r=Ve(i,n,e.line),o=kt(n,t.doc.direction),s="left";if(o){var a=wt(o,e.ch);s=a%2?"right":"left"}var l=Ze(r.map,e.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function zo(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function Wo(t,e){return e&&(t.bad=!0),t}function Bo(t,e,i,n,r){function o(t){return function(e){return e.id==t}}function s(){u&&(c+=h,u=!1)}function a(t){t&&(s(),c+=t)}function l(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(null!=i)return void a(i||e.textContent.replace(/\u200b/g,""));var c,p=e.getAttribute("cm-marker");if(p){var f=t.findMarks(O(n,0),O(r+1,0),o(+p));return void(f.length&&(c=f[0].find())&&a(A(t.doc,c.from,c.to).join(h)))}if("false"==e.getAttribute("contenteditable"))return;var d=/^(pre|div|p)$/i.test(e.nodeName);d&&s();for(var m=0;m<e.childNodes.length;m++)l(e.childNodes[m]);d&&(u=!0)}else 3==e.nodeType&&a(e.nodeValue)}for(var c="",u=!1,h=t.doc.lineSeparator();l(e),e!=i;)e=e.nextSibling;return c}function qo(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return Wo(t.clipPos(O(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==n)return $o(o,e,i)}}function $o(t,e,i){function n(e,i,n){for(var r=-1;r<(h?h.length:0);r++)for(var o=r<0?u.map:h[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==i){var l=N(r<0?t.line:t.rest[r]),c=o[s]+n;return(n<0||a!=e)&&(c=o[s+(n?1:0)]),O(l,c)}}}var r=t.text.firstChild,s=!1;if(!e||!o(r,e))return Wo(O(N(t.line),0),!0);if(e==r&&(s=!0,e=r.childNodes[i],i=0,!e)){var a=t.rest?m(t.rest):t.line;return Wo(O(N(a),a.text.length),s)}var l=3==e.nodeType?e:null,c=e;for(l||1!=e.childNodes.length||3!=e.firstChild.nodeType||(l=e.firstChild,i&&(i=l.nodeValue.length));c.parentNode!=r;)c=c.parentNode;var u=t.measure,h=u.maps,p=n(l,c,i);if(p)return Wo(p,s);for(var f=c.nextSibling,d=l?l.nodeValue.length-i:0;f;f=f.nextSibling){if(p=n(f,f.firstChild,0))return Wo(O(p.line,p.ch-d),s);d+=f.textContent.length}for(var g=c.previousSibling,v=i;g;g=g.previousSibling){if(p=n(g,g.firstChild,-1))return Wo(O(p.line,p.ch+v),s);v+=g.textContent.length}}function Uo(t,e){function i(){t.value=c.getValue()}if(e=e?u(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=s();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}var r;if(t.form&&(Rs(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var a=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=a}}catch(l){}}e.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Mt(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=r))}},t.style.display="none";var c=Eo(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return c}function Vo(t){t.off=Mt,t.on=Rs,t.wheelEventPixels=Bi,t.Doc=ma,t.splitLines=Hs,t.countColumn=h,t.findColumn=f,t.isWordChar=x,t.Pass=Cs,t.signal=Lt,t.Line=Vs,t.changeEnd=In,t.scrollbarModel=na,t.Pos=O,t.cmpPos=R,t.modes=Bs,t.mimeModes=qs,t.resolveMode=Vt,t.getMode=Kt,t.modeExtensions=$s,t.extendMode=Yt,t.copyState=Gt,t.startState=Qt,t.innerMode=Xt,t.commands=Sa,t.keyMap=wa,t.keyName=Zr,t.isModifierKey=Qr,t.lookupKey=Xr,t.normalizeKeyMap=Gr,t.StringStream=Us,t.SharedTextMarker=fa,t.TextMarker=pa,t.LineWidget=ua,t.e_preventDefault=Ot,t.e_stopPropagation=Rt,t.e_stop=Ht,t.addClass=a,t.contains=o,t.rmClass=ys,t.keyNames=ya}var Ko=navigator.userAgent,Yo=navigator.platform,Go=/gecko\/\d/i.test(Ko),Xo=/MSIE \d/.test(Ko),Qo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ko),Zo=/Edge\/(\d+)/.exec(Ko),Jo=Xo||Qo||Zo,ts=Jo&&(Xo?document.documentMode||6:+(Zo||Qo)[1]),es=!Zo&&/WebKit\//.test(Ko),is=es&&/Qt\/\d+\.\d+/.test(Ko),ns=!Zo&&/Chrome\//.test(Ko),rs=/Opera\//.test(Ko),os=/Apple Computer/.test(navigator.vendor),ss=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Ko),as=/PhantomJS/.test(Ko),ls=!Zo&&/AppleWebKit/.test(Ko)&&/Mobile\/\w+/.test(Ko),cs=/Android/.test(Ko),us=ls||cs||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Ko),hs=ls||/Mac/.test(Yo),ps=/\bCrOS\b/.test(Ko),fs=/win/i.test(Yo),ds=rs&&Ko.match(/Version\/(\d*\.\d*)/);ds&&(ds=Number(ds[1])),ds&&ds>=15&&(rs=!1,es=!0);var ms,gs=hs&&(is||rs&&(null==ds||ds<12.11)),vs=Go||Jo&&ts>=9,ys=function(e,i){var n=e.className,r=t(i).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};ms=document.createRange?function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(r){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};var bs=function(t){t.select()};ls?bs=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:Jo&&(bs=function(t){try{t.select()}catch(e){}});var xs=function(){this.id=null};xs.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var _s,ws,ks=30,Cs={toString:function(){return"CodeMirror.Pass"}},Ss={scroll:!1},Ts={origin:"*mouse"},Es={origin:"+move"},As=[""],Ms=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ls=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Ns=!1,Ps=!1,Is=null,Ds=function(){function t(t){return t<=247?i.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1785?n.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,i){this.level=t,this.from=e,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;return function(i,n){var c="ltr"==n?"L":"R";if(0==i.length||"ltr"==n&&!r.test(i))return!1;for(var u=i.length,h=[],p=0;p<u;++p)h.push(t(i.charCodeAt(p)));for(var f=0,d=c;f<u;++f){var g=h[f];"m"==g?h[f]=d:d=g}for(var v=0,y=c;v<u;++v){var b=h[v];"1"==b&&"r"==y?h[v]="n":s.test(b)&&(y=b,"r"==b&&(h[v]="R"))}for(var x=1,_=h[0];x<u-1;++x){var w=h[x];"+"==w&&"1"==_&&"1"==h[x+1]?h[x]="1":","!=w||_!=h[x+1]||"1"!=_&&"n"!=_||(h[x]=_),_=w}for(var k=0;k<u;++k){var C=h[k];if(","==C)h[k]="N";else if("%"==C){var S=void 0;for(S=k+1;S<u&&"%"==h[S];++S);for(var T=k&&"!"==h[k-1]||S<u&&"1"==h[S]?"1":"N",E=k;E<S;++E)h[E]=T;k=S-1}}for(var A=0,M=c;A<u;++A){var L=h[A];"L"==M&&"1"==L?h[A]="L":s.test(L)&&(M=L)}for(var N=0;N<u;++N)if(o.test(h[N])){var P=void 0;for(P=N+1;P<u&&o.test(h[P]);++P);for(var I="L"==(N?h[N-1]:c),D="L"==(P<u?h[P]:c),O=I==D?I?"L":"R":c,R=N;R<P;++R)h[R]=O;N=P-1}for(var F,H=[],j=0;j<u;)if(a.test(h[j])){var z=j;for(++j;j<u&&a.test(h[j]);++j);H.push(new e(0,z,j))}else{var W=j,B=H.length;for(++j;j<u&&"L"!=h[j];++j);for(var q=W;q<j;)if(l.test(h[q])){W<q&&H.splice(B,0,new e(1,W,q));var $=q;for(++q;q<j&&l.test(h[q]);++q);H.splice(B,0,new e(2,$,q)),W=q}else++q;W<j&&H.splice(B,0,new e(1,W,j))}return 1==H[0].level&&(F=i.match(/^\s+/))&&(H[0].from=F[0].length,H.unshift(new e(0,0,F[0].length))),1==m(H).level&&(F=i.match(/\s+$/))&&(m(H).to-=F[0].length,H.push(new e(0,u-F[0].length,u))),"rtl"==n?H.reverse():H}}(),Os=[],Rs=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||Os).concat(i)}},Fs=function(){if(Jo&&ts<9)return!1;var t=n("div");return"draggable"in t||"dragDrop"in t}(),Hs=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf("\n",e);r==-1&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");s!=-1?(i.push(o.slice(0,s)),e+=s+1):(i.push(o),e=r+1)}return i}:function(t){return t.split(/\r\n?|\n/)},js=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(i){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},zs=function(){var t=n("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Ws=null,Bs={},qs={},$s={},Us=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Us.prototype.eol=function(){return this.pos>=this.string.length},Us.prototype.sol=function(){return this.pos==this.lineStart},Us.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Us.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Us.prototype.eat=function(t){var e,i=this.string.charAt(this.pos);if(e="string"==typeof t?i==t:i&&(t.test?t.test(i):t(i)))return++this.pos,i},Us.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Us.prototype.eatSpace=function(){for(var t=this,e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++t.pos;return this.pos>e},Us.prototype.skipToEnd=function(){this.pos=this.string.length},Us.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Us.prototype.backUp=function(t){this.pos-=t},Us.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=h(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},Us.prototype.indentation=function(){return h(this.string,null,this.tabSize)-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},Us.prototype.match=function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&e!==!1&&(this.pos+=n[0].length),n)}var r=function(t){return i?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(r(o)==r(t))return e!==!1&&(this.pos+=t.length),!0},Us.prototype.current=function(){return this.string.slice(this.start,this.pos)},Us.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}};var Vs=function(t,e,i){this.text=t,nt(this,e),this.height=i?i(this):1};Vs.prototype.lineNo=function(){return N(this)},Dt(Vs);var Ks,Ys={},Gs={},Xs=null,Qs=null,Zs={left:0,right:0,top:0,bottom:0},Js=0,ta=null;Jo?ta=-.53:Go?ta=15:ns?ta=-.7:os&&(ta=-1/3);var ea=function(t,e,i){this.cm=i;var r=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(r),t(o),Rs(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),Rs(o,"scroll",function(){o.clientWidth&&e(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Jo&&ts<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ea.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},ea.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ea.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ea.prototype.zeroWidthHack=function(){var t=hs&&!ss?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new xs,this.disableVert=new xs},ea.prototype.enableZeroWidthBar=function(t,e,i){function n(){var r=t.getBoundingClientRect(),o="vert"==i?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);o!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},ea.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var ia=function(){};ia.prototype.update=function(){return{bottom:0,right:0}},ia.prototype.setScrollLeft=function(){},ia.prototype.setScrollTop=function(){},ia.prototype.clear=function(){};var na={"native":ea,"null":ia},ra=0,oa=function(t,e,i){var n=t.display;this.viewport=e,this.visible=Hi(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=qe(t),this.force=i,this.dims=bi(t),this.events=[]};oa.prototype.signal=function(t,e){It(t,e)&&this.events.push(arguments)},oa.prototype.finish=function(){for(var t=this,e=0;e<this.events.length;e++)Lt.apply(null,t.events[e])};var sa=function(t,e){this.ranges=t,this.primIndex=e};sa.prototype.primary=function(){return this.ranges[this.primIndex]},sa.prototype.equals=function(t){var e=this;if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var n=e.ranges[i],r=t.ranges[i];if(!F(n.anchor,r.anchor)||!F(n.head,r.head))return!1}return!0},sa.prototype.deepCopy=function(){for(var t=this,e=[],i=0;i<this.ranges.length;i++)e[i]=new aa(H(t.ranges[i].anchor),H(t.ranges[i].head));return new sa(e,this.primIndex)},sa.prototype.somethingSelected=function(){for(var t=this,e=0;e<this.ranges.length;e++)if(!t.ranges[e].empty())return!0;return!1},sa.prototype.contains=function(t,e){var i=this;e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=i.ranges[n];if(R(e,r.from())>=0&&R(t,r.to())<=0)return n}return-1};var aa=function(t,e){this.anchor=t,this.head=e};aa.prototype.from=function(){return z(this.anchor,this.head)},aa.prototype.to=function(){return j(this.anchor,this.head)},aa.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};var la=function(t){var e=this;this.lines=t,this.parent=null;for(var i=0,n=0;n<t.length;++n)t[n].parent=e,i+=t[n].height;this.height=i};la.prototype.chunkSize=function(){return this.lines.length},la.prototype.removeInner=function(t,e){for(var i=this,n=t,r=t+e;n<r;++n){var o=i.lines[n];i.height-=o.height,ce(o),ke(o,"delete")}this.lines.splice(t,e)},la.prototype.collapse=function(t){t.push.apply(t,this.lines)},la.prototype.insertInner=function(t,e,i){var n=this;this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=n},la.prototype.iterN=function(t,e,i){for(var n=this,r=t+e;t<r;++t)if(i(n.lines[t]))return!0};var ca=function(t){var e=this;this.children=t;for(var i=0,n=0,r=0;r<t.length;++r){var o=t[r];i+=o.chunkSize(),n+=o.height,o.parent=e}this.size=i,this.height=n,this.parent=null};ca.prototype.chunkSize=function(){return this.size},ca.prototype.removeInner=function(t,e){var i=this;this.size-=e;for(var n=0;n<this.children.length;++n){var r=i.children[n],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t),a=r.height;if(r.removeInner(t,s),i.height-=a-r.height,o==s&&(i.children.splice(n--,1),r.parent=null),0==(e-=s))break;t=0}else t-=o}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof la))){var l=[];this.collapse(l),this.children=[new la(l)],this.children[0].parent=this}},ca.prototype.collapse=function(t){for(var e=this,i=0;i<this.children.length;++i)e.children[i].collapse(t)},ca.prototype.insertInner=function(t,e,i){var n=this;this.size+=e.length,this.height+=i;for(var r=0;r<this.children.length;++r){var o=n.children[r],s=o.chunkSize();if(t<=s){if(o.insertInner(t,e,i),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,l=a;l<o.lines.length;){var c=new la(o.lines.slice(l,l+=25));o.height-=c.height,n.children.splice(++r,0,c),c.parent=n}o.lines=o.lines.slice(0,a),n.maybeSpill()}break}t-=s}},ca.prototype.maybeSpill=function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new ca(e);if(t.parent){t.size-=i.size,t.height-=i.height;var n=p(t.parent.children,t);t.parent.children.splice(n+1,0,i)}else{var r=new ca(t.children);r.parent=t,t.children=[r,i],t=r}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},ca.prototype.iterN=function(t,e,i){for(var n=this,r=0;r<this.children.length;++r){var o=n.children[r],s=o.chunkSize();if(t<s){var a=Math.min(e,s-t);if(o.iterN(t,a,i))return!0;if(0==(e-=a))break;t=0}else t-=s}};var ua=function(t,e,i){var n=this;if(i)for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);this.doc=t,this.node=e};ua.prototype.clear=function(){var t=this,e=this.doc.cm,i=this.line.widgets,n=this.line,r=N(n);if(null!=r&&i){for(var o=0;o<i.length;++o)i[o]==t&&i.splice(o--,1);i.length||(n.widgets=null);var s=Fe(this);L(n,Math.max(0,n.height-s)),e&&(un(e,function(){Ir(e,n,-s),mn(e,r,"widget")}),ke(e,"lineWidgetCleared",e,this,r))}},ua.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=Fe(this)-e;r&&(L(n,n.height+r),i&&un(i,function(){i.curOp.forceUpdate=!0,Ir(i,n,r),ke(i,"lineWidgetChanged",i,t,N(n))}))},Dt(ua);var ha=0,pa=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ha};pa.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){var e=this.doc.cm,i=e&&!e.curOp;if(i&&en(e),It(this,"clear")){var n=this.find();n&&ke(this,"clear",n.from,n.to)}for(var r=null,o=null,s=0;s<this.lines.length;++s){var a=t.lines[s],l=Y(a.markedSpans,t);e&&!t.collapsed?mn(e,N(a),"text"):e&&(null!=l.to&&(o=N(a)),null!=l.from&&(r=N(a))),a.markedSpans=G(a.markedSpans,l),null==l.from&&t.collapsed&&!gt(t.doc,a)&&e&&L(a,vi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=ht(t.lines[c]),h=bt(u);h>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=h,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&dn(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&mr(e.doc)),e&&ke(e,"markerCleared",e,this,r,o),i&&nn(e),this.parent&&this.parent.clear()}},pa.prototype.find=function(t,e){var i=this;null==t&&"bookmark"==this.type&&(t=1);for(var n,r,o=0;o<this.lines.length;++o){var s=i.lines[o],a=Y(s.markedSpans,i);if(null!=a.from&&(n=O(e?s:N(s),a.from),t==-1))return n;if(null!=a.to&&(r=O(e?s:N(s),a.to),1==t))return r}return n&&{from:n,to:r}},pa.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;e&&n&&un(n,function(){var r=e.line,o=N(e.line),s=Ge(n,o);if(s&&(ii(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!gt(i.doc,r)&&null!=i.height){var a=i.height;i.height=null;var l=Fe(i)-a;l&&L(r,r.height+l)}ke(n,"markerChanged",n,t)})},pa.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&p(e.maybeHiddenMarkers,this)!=-1||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},pa.prototype.detachLine=function(t){if(this.lines.splice(p(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Dt(pa);var fa=function(t,e){var i=this;this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=i};fa.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)t.markers[e].clear();ke(this,"clear")}},fa.prototype.find=function(t,e){return this.primary.find(t,e)},Dt(fa);var da=0,ma=function(t,e,i,n,r){if(!(this instanceof ma))return new ma(t,e,i,n,r);null==i&&(i=0),ca.call(this,[new la([new Vs("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var o=O(i,0);this.sel=Pn(o),this.history=new Vn(null),this.id=++da,this.modeOption=e,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Wn(this,{from:o,to:o,text:t}),pr(this,Pn(o),Ss)};ma.prototype=b(ca.prototype,{constructor:ma,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=M(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:fn(function(t){var e=O(this.first,0),i=this.first+this.size-1;wr(this,{from:e,to:O(i,E(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&this.cm.scrollTo(0,0),pr(this,Pn(e),Ss)}),replaceRange:function(t,e,i,n){e=B(this,e),i=i?B(this,i):e,Ar(this,t,e,i,n)},getRange:function(t,e,i){var n=A(this,B(this,t),B(this,e));return i===!1?n:n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(I(this,t))return E(this,t)},getLineNumber:function(t){return N(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=E(this,t)),ht(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return B(this,t)},getCursor:function(t){var e,i=this.sel.primary();return e=null==t||"head"==t?i.head:"anchor"==t?i.anchor:"end"==t||"to"==t||t===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:fn(function(t,e,i){cr(this,B(this,"number"==typeof t?O(t,e||0):t),null,i)}),setSelection:fn(function(t,e,i){cr(this,B(this,t),B(this,e||t),i)}),extendSelection:fn(function(t,e,i){sr(this,B(this,t),e&&B(this,e),i)}),extendSelections:fn(function(t,e){ar(this,$(this,t),e)}),extendSelectionsBy:fn(function(t,e){var i=g(this.sel.ranges,t);ar(this,$(this,i),e)}),setSelections:fn(function(t,e,i){var n=this;if(t.length){for(var r=[],o=0;o<t.length;o++)r[o]=new aa(B(n,t[o].anchor),B(n,t[o].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),pr(this,Nn(r,e),i)}}),addSelection:fn(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new aa(B(this,t),B(this,e||t))),pr(this,Nn(n,n.length-1),i)}),getSelection:function(t){for(var e,i=this,n=this.sel.ranges,r=0;r<n.length;r++){var o=A(i,n[r].from(),n[r].to());e=e?e.concat(o):o}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=this,i=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=A(e,n[r].from(),n[r].to());t!==!1&&(o=o.join(t||e.lineSeparator())),i[r]=o}return i},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:fn(function(t,e,i){for(var n=this,r=[],o=this.sel,s=0;s<o.ranges.length;s++){var a=o.ranges[s];r[s]={from:a.from(),to:a.to(),text:n.splitLines(t[s]),origin:i}}for(var l=e&&"end"!=e&&Fn(this,r,e),c=r.length-1;c>=0;c--)wr(n,r[c]);l?hr(this,l):this.cm&&Ji(this.cm)}),undo:fn(function(){Cr(this,"undo")}),redo:fn(function(){Cr(this,"redo")}),undoSelection:fn(function(){Cr(this,"undo",!0)}),redoSelection:fn(function(){Cr(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new Vn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:rr(this.history.done),undone:rr(this.history.undone)}},setHistory:function(t){var e=this.history=new Vn(this.history.maxGeneration);e.done=rr(t.done.slice(0),null,!0),e.undone=rr(t.undone.slice(0),null,!0)},setGutterMarker:fn(function(t,e,i){
return Pr(this,t,"gutter",function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&&w(n)&&(t.gutterMarkers=null),!0})}),clearGutter:fn(function(t){var e=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&Pr(e,i,"gutter",function(){return i.gutterMarkers[t]=null,w(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!I(this,t))return null;if(e=t,t=E(this,t),!t)return null}else if(e=N(t),null==e)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:fn(function(e,i,n){return Pr(this,e,"gutter"==i?"gutter":"class",function(e){var r="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(e[r]){if(t(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:fn(function(e,i,n){return Pr(this,e,"gutter"==i?"gutter":"class",function(e){var r="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var s=o.match(t(n));if(!s)return!1;var a=s.index+s[0].length;e[r]=o.slice(0,s.index)+(s.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:fn(function(t,e,i){return Dr(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return Or(this,B(this,t),B(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=B(this,t),Or(this,t,t,i,"bookmark")},findMarksAt:function(t){t=B(this,t);var e=[],i=E(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=B(this,t),e=B(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+n;return o>t?(e=t,!0):(t-=o,void++i)}),B(this,O(i,e))},indexFromPos:function(t){t=B(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+i}),e},copy:function(t){var e=new ma(M(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var n=new ma(M(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Hr(n,Fr(this)),n},unlinkDoc:function(t){var e=this;if(t instanceof Eo&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=e.linked[i];if(n.doc==t){e.linked.splice(i,1),t.unlinkDoc(e),jr(Fr(e));break}}if(t.history==this.history){var r=[t.id];Bn(t,function(t){return r.push(t.id)},!0),t.history=new Vn(null),t.history.done=rr(this.history.done,r),t.history.undone=rr(this.history.undone,r)}},iterLinkedDocs:function(t){Bn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Hs(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:fn(function(t){"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Un(this.cm))})}),ma.prototype.eachLine=ma.prototype.iter;for(var ga=0,va=!1,ya={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ba=0;ba<10;ba++)ya[ba+48]=ya[ba+96]=String(ba);for(var xa=65;xa<=90;xa++)ya[xa]=String.fromCharCode(xa);for(var _a=1;_a<=12;_a++)ya[_a+111]=ya[_a+63235]="F"+_a;var wa={};wa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},wa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},wa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},wa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},wa["default"]=hs?wa.macDefault:wa.pcDefault;var ka,Ca,Sa={selectAll:xr,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Ss)},killLine:function(t){return to(t,function(e){if(e.empty()){var i=E(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:O(e.head.line+1,0)}:{from:e.head,to:O(e.head.line,i)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return to(t,function(e){return{from:O(e.from().line,0),to:B(t.doc,O(e.to().line+1,0))}})},delLineLeft:function(t){return to(t,function(t){return{from:O(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return to(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return to(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(O(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(O(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return eo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return no(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return io(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},Es)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},Es)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\S/)?no(t,e.head):n},Es)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),s=h(t.getLine(o.line),o.ch,n);e.push(d(n-s%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return un(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,o=E(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new O(r.line,r.ch-1)),r.ch>0)r=new O(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),O(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=E(t.doc,r.line-1).text;s&&(r=new O(r.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),O(r.line-1,s.length-1),r,"+transpose"))}i.push(new aa(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){return un(t,function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);Ji(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}},Ta=new xs,Ea=null,Aa={toString:function(){return"CodeMirror.Init"}},Ma={},La={};Eo.defaults=Ma,Eo.optionHandlers=La;var Na=[];Eo.defineInitHook=function(t){return Na.push(t)};var Pa=null,Ia=function(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,i){var n=this.options,r=n[t];n[t]==i&&"mode"!=t||(n[t]=i,e.hasOwnProperty(t)&&hn(this,e[t])(this,i,r),Lt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Jr(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:pn(function(e,i){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:n,modeSpec:e,opaque:i&&i.opaque,priority:i&&i.priority||0},function(t){return t.priority}),this.state.modeGen++,dn(this)}),removeOverlay:pn(function(t){for(var e=this,i=this.state.overlays,n=0;n<i.length;++n){var r=i[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return i.splice(n,1),e.state.modeGen++,void dn(e)}}),indentLine:pn(function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),I(this.doc,t)&&Mo(this,t,e,i)}),indentSelection:pn(function(t){for(var e=this,i=this.doc.sel.ranges,n=-1,r=0;r<i.length;r++){var o=i[r];if(o.empty())o.head.line>n&&(Mo(e,o.head.line,t,!0),n=o.head.line,r==e.doc.sel.primIndex&&Ji(e));else{var s=o.from(),a=o.to(),l=Math.max(n,s.line);n=Math.min(e.lastLine(),a.line-(a.ch?0:1))+1;for(var c=l;c<n;++c)Mo(e,c,t);var u=e.doc.sel.ranges;0==s.ch&&i.length==u.length&&u[r].from().ch>0&&lr(e.doc,r,new aa(s,u[r].to()),Ss)}}}),getTokenAt:function(t,e){return re(this,t,e)},getLineTokens:function(t,e){return re(this,O(t),e,!0)},getTokenTypeAt:function(t){t=B(this.doc,t);var e,i=Jt(this,E(this.doc,t.line)),n=0,r=(i.length-1)/2,o=t.ch;if(0==o)e=i[2];else for(;;){var s=n+r>>1;if((s?i[2*s-1]:0)>=o)r=s;else{if(!(i[2*s+1]<o)){e=i[2*s+2];break}n=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=this,r=[];if(!i.hasOwnProperty(e))return r;var o=i[e],s=this.getModeAt(t);if("string"==typeof s[e])o[s[e]]&&r.push(o[s[e]]);else if(s[e])for(var a=0;a<s[e].length;a++){var l=o[s[e][a]];l&&r.push(l)}else s.helperType&&o[s.helperType]?r.push(o[s.helperType]):o[s.name]&&r.push(o[s.name]);for(var c=0;c<o._global.length;c++){var u=o._global[c];u.pred(s,n)&&p(r,u.val)==-1&&r.push(u.val)}return r},getStateAfter:function(t,e){var i=this.doc;return t=W(i,null==t?i.first+i.size-1:t),te(this,t+1,e)},cursorCoords:function(t,e){var i,n=this.doc.sel.primary();return i=null==t?n.head:"object"==typeof t?B(this.doc,t):t?n.from():n.to(),ui(this,i,e||"page")},charCoords:function(t,e){return ci(this,B(this.doc,t),e||"page")},coordsChar:function(t,e){return t=li(this,t,e||"page"),fi(this,t.left,t.top)},lineAtHeight:function(t,e){return t=li(this,{top:t,left:0},e||"page").top,P(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,i){var n,r=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,r=!0),n=E(this.doc,t)}else n=t;return ai(this,n,{top:0,left:0},e||"page",i||r).top+(r?this.doc.height-yt(n):0)},defaultTextHeight:function(){return vi(this.display)},defaultCharWidth:function(){return yi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,n,r){var o=this.display;t=ui(this,B(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==n)s=t.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&&Xi(this,{left:a,top:s,right:a+e.offsetWidth,bottom:s+e.offsetHeight})},triggerOnKeyDown:pn(co),triggerOnKeyPress:pn(po),triggerOnKeyUp:ho,execCommand:function(t){if(Sa.hasOwnProperty(t))return Sa[t].call(null,this)},triggerElectric:pn(function(t){Io(this,t)}),findPosH:function(t,e,i,n){var r=this,o=1;e<0&&(o=-1,e=-e);for(var s=B(this.doc,t),a=0;a<e&&(s=Fo(r.doc,s,o,i,n),!s.hitSide);++a);return s},moveH:pn(function(t,e){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?Fo(i.doc,n.head,t,e,i.options.rtlMoveVisually):t<0?n.from():n.to()},Es)}),deleteH:pn(function(t,e){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):to(this,function(i){var r=Fo(n,i.head,t,e,!1);return t<0?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(t,e,i,n){var r=this,o=1,s=n;e<0&&(o=-1,e=-e);for(var a=B(this.doc,t),l=0;l<e;++l){var c=ui(r,a,"div");if(null==s?s=c.left:c.left=s,a=Ho(r,c,o,i),a.hitSide)break}return a},moveV:pn(function(t,e){var i=this,n=this.doc,r=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(o)return t<0?s.from():s.to();var a=ui(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Ho(i,a,t,e);return"page"==e&&s==n.sel.primary()&&Zi(i,null,ci(i,l,"div").top-a.top),l},Es),r.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(t){var e=this.doc,i=E(e,t.line).text,n=t.ch,r=t.ch;if(i){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=i.length||!n?++r:--n;for(var s=i.charAt(n),a=_(s,o)?function(t){return _(t,o)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!_(t)};n>0&&a(i.charAt(n-1));)--n;for(;r<i.length&&a(i.charAt(r));)++r}return new aa(O(t.line,n),O(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?a(this.display.cursorDiv,"CodeMirror-overwrite"):ys(this.display.cursorDiv,"CodeMirror-overwrite"),Lt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==s()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:pn(function(t,e){null==t&&null==e||tn(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Be(this)-this.display.barHeight,width:t.scrollWidth-Be(this)-this.display.barWidth,clientHeight:$e(this),clientWidth:qe(this)}},scrollIntoView:pn(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:O(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)tn(this),this.curOp.scrollToPos=t;else{var i=Qi(this,{left:Math.min(t.from.left,t.to.left),top:Math.min(t.from.top,t.to.top)-t.margin,right:Math.max(t.from.right,t.to.right),bottom:Math.max(t.from.bottom,t.to.bottom)+t.margin});this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:pn(function(t,e){var i=this,n=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&ni(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){mn(i,r,"widget");break}++r}),this.curOp.forceUpdate=!0,Lt(this,"refresh",this)}),operation:function(t){return un(this,t)},refresh:pn(function(){var t=this.display.cachedTextHeight;dn(this),this.curOp.forceUpdate=!0,ri(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),En(this),(null==t||Math.abs(t-vi(this.display))>.5)&&wi(this),Lt(this,"refresh",this)}),swapDoc:pn(function(t){var e=this.doc;return e.cm=null,qn(this,t),ri(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,ke(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Dt(t),t.registerHelper=function(e,n,r){i.hasOwnProperty(e)||(i[e]=t[e]={_global:[]}),i[e][n]=r},t.registerGlobalHelper=function(e,n,r,o){t.registerHelper(e,n,o),i[e]._global.push({pred:r,val:o})}},Da=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new xs,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Da.prototype.init=function(t){function e(t){if(!Nt(r,t)){if(r.somethingSelected())Lo({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Do(r);Lo({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,Ss),r.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var i=Pa.text.join("\n");if(t.clipboardData.setData("Text",i),t.clipboardData.getData("Text")==i)return void t.preventDefault()}var s=Ro(),a=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),a.value=Pa.text.join("\n");var l=document.activeElement;bs(a),setTimeout(function(){r.display.lineSpace.removeChild(s),l.focus(),l==o&&n.showPrimarySelection()},50)}}var i=this,n=this,r=n.cm,o=n.div=t.lineDiv;Oo(o,r.options.spellcheck),Rs(o,"paste",function(t){Nt(r,t)||Po(t,r)||ts<=11&&setTimeout(hn(r,function(){return i.updateFromDOM()}),20)}),Rs(o,"compositionstart",function(t){i.composing={data:t.data,done:!1}}),Rs(o,"compositionupdate",function(t){i.composing||(i.composing={data:t.data,done:!1})}),Rs(o,"compositionend",function(t){i.composing&&(t.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)}),Rs(o,"touchstart",function(){return n.forceCompositionEnd()}),Rs(o,"input",function(){i.composing||i.readFromDOMSoon()}),Rs(o,"copy",e),Rs(o,"cut",e)},Da.prototype.prepareSelection=function(){var t=Ti(this.cm,!1);return t.focus=this.cm.state.focused,t},Da.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Da.prototype.showPrimarySelection=function(){var t=window.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||r.line<e.display.viewFrom)return void t.removeAllRanges();var o=qo(e,t.anchorNode,t.anchorOffset),s=qo(e,t.focusNode,t.focusOffset);if(!o||o.bad||!s||s.bad||0!=R(z(o,s),n)||0!=R(j(o,s),r)){var a=e.display.view,l=n.line>=e.display.viewFrom&&jo(e,n)||{node:a[0].measure.map[2],offset:0},c=r.line<e.display.viewTo&&jo(e,r);if(!c){var u=a[a.length-1].measure,h=u.maps?u.maps[u.maps.length-1]:u.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(!l||!c)return void t.removeAllRanges();var p,f=t.rangeCount&&t.getRangeAt(0);try{p=ms(l.node,l.offset,c.offset,c.node)}catch(d){}p&&(!Go&&e.state.focused?(t.collapse(l.node,l.offset),p.collapsed||(t.removeAllRanges(),t.addRange(p))):(t.removeAllRanges(),t.addRange(p)),f&&null==t.anchorNode?t.addRange(f):Go&&this.startGracePeriod()),this.rememberSelection()}},Da.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Da.prototype.showMultipleSelections=function(t){i(this.cm.display.cursorDiv,t.cursors),i(this.cm.display.selectionDiv,t.selection)},Da.prototype.rememberSelection=function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Da.prototype.selectionInEditor=function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return o(this.div,e)},Da.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Da.prototype.blur=function(){this.div.blur()},Da.prototype.getField=function(){return this.div},Da.prototype.supportsTouch=function(){return!0},Da.prototype.receivedFocus=function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():un(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},Da.prototype.selectionChanged=function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Da.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;if(cs&&ns&&this.cm.options.gutters.length&&zo(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=qo(e,t.anchorNode,t.anchorOffset),n=qo(e,t.focusNode,t.focusOffset);i&&n&&un(e,function(){pr(e.doc,Pn(i,n),Ss),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Da.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(0==n.ch&&n.line>t.firstLine()&&(n=O(n.line-1,E(t.doc,n.line-1).length)),r.ch==E(t.doc,r.line).text.length&&r.line<t.lastLine()&&(r=O(r.line+1,0)),n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var o,s,a;n.line==e.viewFrom||0==(o=Ci(t,n.line))?(s=N(e.view[0].line),a=e.view[0].node):(s=N(e.view[o].line),a=e.view[o-1].node.nextSibling);var l,c,u=Ci(t,r.line);if(u==e.view.length-1?(l=e.viewTo-1,c=e.lineDiv.lastChild):(l=N(e.view[u+1].line)-1,c=e.view[u+1].node.previousSibling),!a)return!1;for(var h=t.doc.splitLines(Bo(t,a,c,s,l)),p=A(t.doc,O(s,0),O(l,E(t.doc,l).text.length));h.length>1&&p.length>1;)if(m(h)==m(p))h.pop(),p.pop(),l--;else{if(h[0]!=p[0])break;h.shift(),p.shift(),s++}for(var f=0,d=0,g=h[0],v=p[0],y=Math.min(g.length,v.length);f<y&&g.charCodeAt(f)==v.charCodeAt(f);)++f;for(var b=m(h),x=m(p),_=Math.min(b.length-(1==h.length?f:0),x.length-(1==p.length?f:0));d<_&&b.charCodeAt(b.length-d-1)==x.charCodeAt(x.length-d-1);)++d;if(1==h.length&&1==p.length&&s==n.line)for(;f&&f>n.ch&&b.charCodeAt(b.length-d-1)==x.charCodeAt(x.length-d-1);)f--,d++;h[h.length-1]=b.slice(0,b.length-d).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var w=O(s,f),k=O(l,p.length?m(p).length-d:0);return h.length>1||h[0]||R(w,k)?(Ar(t.doc,h,w,k,"+input"),!0):void 0},Da.prototype.ensurePolled=function(){this.forceCompositionEnd()},Da.prototype.reset=function(){this.forceCompositionEnd()},Da.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Da.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Da.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||un(this.cm,function(){return dn(t.cm)})},Da.prototype.setUneditable=function(t){t.contentEditable="false"},Da.prototype.onKeyPress=function(t){0!=t.charCode&&(t.preventDefault(),this.cm.isReadOnly()||hn(this.cm,No)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Da.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Da.prototype.onContextMenu=function(){},Da.prototype.resetPosition=function(){},Da.prototype.needsContentAttribute=!0;var Oa=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new xs,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};Oa.prototype.init=function(t){function e(t){if(!Nt(r,t)){if(r.somethingSelected())Lo({lineWise:!1,text:r.getSelections()}),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,s.value=Pa.text.join("\n"),bs(s));else{if(!r.options.lineWiseCopyCut)return;var e=Do(r);Lo({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,Ss):(n.prevInput="",s.value=e.text.join("\n"),bs(s))}"cut"==t.type&&(r.state.cutIncoming=!0)}}var i=this,n=this,r=this.cm,o=this.wrapper=Ro(),s=this.textarea=o.firstChild;t.wrapper.insertBefore(o,t.wrapper.firstChild),ls&&(s.style.width="0px"),Rs(s,"input",function(){Jo&&ts>=9&&i.hasSelection&&(i.hasSelection=null),n.poll()}),Rs(s,"paste",function(t){Nt(r,t)||Po(t,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),Rs(s,"cut",e),Rs(s,"copy",e),Rs(t.scroller,"paste",function(e){He(t,e)||Nt(r,e)||(r.state.pasteIncoming=!0,n.focus())}),Rs(t.lineSpace,"selectstart",function(e){He(t,e)||Ot(e)}),Rs(s,"compositionstart",function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Rs(s,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Oa.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=Ti(t);if(t.options.moveInputWithCursor){var r=ui(t,i.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return n},Oa.prototype.showSelection=function(t){var e=this.cm,n=e.display;i(n.cursorDiv,t.cursors),i(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Oa.prototype.reset=function(t){if(!this.contextMenuPending){var e,i,n=this.cm,r=n.doc;if(n.somethingSelected()){this.prevInput="";var o=r.sel.primary();e=zs&&(o.to().line-o.from().line>100||(i=n.getSelection()).length>1e3);var s=e?"-":i||n.getSelection();this.textarea.value=s,n.state.focused&&bs(this.textarea),Jo&&ts>=9&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",Jo&&ts>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},Oa.prototype.getField=function(){return this.textarea},Oa.prototype.supportsTouch=function(){return!1},Oa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!us||s()!=this.textarea))try{this.textarea.focus()}catch(t){}},Oa.prototype.blur=function(){this.textarea.blur()},Oa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Oa.prototype.receivedFocus=function(){this.slowPoll()},Oa.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Oa.prototype.fastPoll=function(){function t(){var n=i.poll();n||e?(i.pollingFast=!1,i.slowPoll()):(e=!0,i.polling.set(60,t))}var e=!1,i=this;i.pollingFast=!0,i.polling.set(20,t)},Oa.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||js(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=i.value;if(r==n&&!e.somethingSelected())return!1;if(Jo&&ts>=9&&this.hasSelection===r||hs&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),
!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,a=Math.min(n.length,r.length);s<a&&n.charCodeAt(s)==r.charCodeAt(s);)++s;return un(e,function(){No(e,r.slice(s),n.length-s,null,t.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?i.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Oa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Oa.prototype.onKeyPress=function(){Jo&&ts>=9&&(this.hasSelection=null),this.fastPoll()},Oa.prototype.onContextMenu=function(t){function e(){if(null!=s.selectionStart){var t=r.somethingSelected(),e="​"+(t?s.value:"");s.value="⇚",s.value=e,n.prevInput=t?"":"​",s.selectionStart=1,s.selectionEnd=e.length,o.selForContextMenu=r.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=h,s.style.cssText=u,Jo&&ts<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!Jo||Jo&&ts<9)&&e();var t=0,i=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"​"==n.prevInput?hn(r,xr)(r):t++<10?o.detectingSelectAll=setTimeout(i,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(i,200)}}var n=this,r=n.cm,o=r.display,s=n.textarea,a=ki(r,t),l=o.scroller.scrollTop;if(a&&!rs){var c=r.options.resetSelectionOnContextMenu;c&&r.doc.sel.contains(a)==-1&&hn(r,pr)(r.doc,Pn(a),Ss);var u=s.style.cssText,h=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var p=n.wrapper.getBoundingClientRect();s.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(Jo?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(es&&(f=window.scrollY),o.input.focus(),es&&window.scrollTo(null,f),o.input.reset(),r.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),Jo&&ts>=9&&e(),vs){Ht(t);var d=function(){Mt(window,"mouseup",d),setTimeout(i,20)};Rs(window,"mouseup",d)}else setTimeout(i,50)}},Oa.prototype.readOnlyChanged=function(t){t||this.reset()},Oa.prototype.setUneditable=function(){},Oa.prototype.needsContentAttribute=!1,ko(Eo),Ia(Eo);var Ra="iter insert remove copy getEditor constructor".split(" ");for(var Fa in ma.prototype)ma.prototype.hasOwnProperty(Fa)&&p(Ra,Fa)<0&&(Eo.prototype[Fa]=function(t){return function(){return t.apply(this.doc,arguments)}}(ma.prototype[Fa]));return Dt(ma),Eo.inputStyles={textarea:Oa,contenteditable:Da},Eo.defineMode=function(t){Eo.defaults.mode||"null"==t||(Eo.defaults.mode=t),$t.apply(this,arguments)},Eo.defineMIME=Ut,Eo.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Eo.defineMIME("text/plain","null"),Eo.defineExtension=function(t,e){Eo.prototype[t]=e},Eo.defineDocExtension=function(t,e){ma.prototype[t]=e},Eo.fromTextArea=Uo,Vo(Eo),Eo.version="5.25.3",Eo}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){return t.line-e.line||t.ch-e.ch}function i(t,e,i,n){this.line=e,this.ch=i,this.cm=t,this.text=t.getLine(e),this.min=n?Math.max(n.from,t.firstLine()):t.firstLine(),this.max=n?Math.min(n.to-1,t.lastLine()):t.lastLine()}function n(t,e){var i=t.cm.getTokenTypeAt(p(t.line,e));return i&&/\btag\b/.test(i)}function r(t){if(!(t.line>=t.max))return t.ch=0,t.text=t.cm.getLine(++t.line),!0}function o(t){if(!(t.line<=t.min))return t.text=t.cm.getLine(--t.line),t.ch=t.text.length,!0}function s(t){for(;;){var e=t.text.indexOf(">",t.ch);if(e==-1){if(r(t))continue;return}{if(n(t,e+1)){var i=t.text.lastIndexOf("/",e),o=i>-1&&!/\S/.test(t.text.slice(i+1,e));return t.ch=e+1,o?"selfClose":"regular"}t.ch=e+1}}}function a(t){for(;;){var e=t.ch?t.text.lastIndexOf("<",t.ch-1):-1;if(e==-1){if(o(t))continue;return}if(n(t,e+1)){m.lastIndex=e,t.ch=e;var i=m.exec(t.text);if(i&&i.index==e)return i}else t.ch=e}}function l(t){for(;;){m.lastIndex=t.ch;var e=m.exec(t.text);if(!e){if(r(t))continue;return}{if(n(t,e.index+1))return t.ch=e.index+e[0].length,e;t.ch=e.index+1}}}function c(t){for(;;){var e=t.ch?t.text.lastIndexOf(">",t.ch-1):-1;if(e==-1){if(o(t))continue;return}{if(n(t,e+1)){var i=t.text.lastIndexOf("/",e),r=i>-1&&!/\S/.test(t.text.slice(i+1,e));return t.ch=e+1,r?"selfClose":"regular"}t.ch=e}}}function u(t,e){for(var i=[];;){var n,r=l(t),o=t.line,a=t.ch-(r?r[0].length:0);if(!r||!(n=s(t)))return;if("selfClose"!=n)if(r[1]){for(var c=i.length-1;c>=0;--c)if(i[c]==r[2]){i.length=c;break}if(c<0&&(!e||e==r[2]))return{tag:r[2],from:p(o,a),to:p(t.line,t.ch)}}else i.push(r[2])}}function h(t,e){for(var i=[];;){var n=c(t);if(!n)return;if("selfClose"!=n){var r=t.line,o=t.ch,s=a(t);if(!s)return;if(s[1])i.push(s[2]);else{for(var l=i.length-1;l>=0;--l)if(i[l]==s[2]){i.length=l;break}if(l<0&&(!e||e==s[2]))return{tag:s[2],from:p(t.line,t.ch),to:p(r,o)}}}else a(t)}}var p=t.Pos,f="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",d=f+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m=new RegExp("<(/?)(["+f+"]["+d+"]*)","g");t.registerHelper("fold","xml",function(t,e){for(var n=new i(t,e.line,0);;){var r,o=l(n);if(!o||n.line!=e.line||!(r=s(n)))return;if(!o[1]&&"selfClose"!=r){var a=p(n.line,n.ch),c=u(n,o[2]);return c&&{from:a,to:c.from}}}}),t.findMatchingTag=function(t,n,r){var o=new i(t,n.line,n.ch,r);if(o.text.indexOf(">")!=-1||o.text.indexOf("<")!=-1){var l=s(o),c=l&&p(o.line,o.ch),f=l&&a(o);if(l&&f&&!(e(o,n)>0)){var d={from:p(o.line,o.ch),to:c,tag:f[2]};return"selfClose"==l?{open:d,close:null,at:"open"}:f[1]?{open:h(o,f[2]),close:d,at:"close"}:(o=new i(t,c.line,c.ch,r),{open:d,close:u(o,f[2]),at:"open"})}}},t.findEnclosingTag=function(t,e,n,r){for(var o=new i(t,e.line,e.ch,n);;){var s=h(o,r);if(!s)break;var a=new i(t,e.line,e.ch,n),l=u(a,s.tag);if(l)return{open:s,close:l}}},t.scanForClosingTag=function(t,e,n,r){var o=new i(t,e.line,e.ch,r?{from:0,to:r}:null);return u(o,n)}}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],t):t(CodeMirror)}(function(t){"use strict";function e(t){t.state.tagHit&&t.state.tagHit.clear(),t.state.tagOther&&t.state.tagOther.clear(),t.state.tagHit=t.state.tagOther=null}function i(i){i.state.failedTagMatch=!1,i.operation(function(){if(e(i),!i.somethingSelected()){var n=i.getCursor(),r=i.getViewport();r.from=Math.min(r.from,n.line),r.to=Math.max(n.line+1,r.to);var o=t.findMatchingTag(i,n,r);if(o){if(i.state.matchBothTags){var s="open"==o.at?o.open:o.close;s&&(i.state.tagHit=i.markText(s.from,s.to,{className:"CodeMirror-matchingtag"}))}var a="close"==o.at?o.open:o.close;a?i.state.tagOther=i.markText(a.from,a.to,{className:"CodeMirror-matchingtag"}):i.state.failedTagMatch=!0}}})}function n(t){t.state.failedTagMatch&&i(t)}t.defineOption("matchTags",!1,function(r,o,s){s&&s!=t.Init&&(r.off("cursorActivity",i),r.off("viewportChange",n),e(r)),o&&(r.state.matchBothTags="object"==typeof o&&o.bothTags,r.on("cursorActivity",i),r.on("viewportChange",n),i(r))}),t.commands.toMatchingTag=function(e){var i=t.findMatchingTag(e,e.getCursor());if(i){var n="close"==i.at?i.open:i.close;n&&e.extendSelection(n.to,n.from)}}}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){function e(t,e,n,r){var o=t.getLineHandle(e.line),l=e.ch-1,c=l>=0&&a[o.text.charAt(l)]||a[o.text.charAt(++l)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(n&&u>0!=(l==e.ch))return null;var h=t.getTokenTypeAt(s(e.line,l+1)),p=i(t,s(e.line,l+(u>0?1:0)),u,h||null,r);return null==p?null:{from:s(e.line,l),to:p&&p.pos,match:p&&p.ch==c.charAt(0),forward:u>0}}function i(t,e,i,n,r){for(var o=r&&r.maxScanLineLength||1e4,l=r&&r.maxScanLines||1e3,c=[],u=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,h=i>0?Math.min(e.line+l,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-l),p=e.line;p!=h;p+=i){var f=t.getLine(p);if(f){var d=i>0?0:f.length-1,m=i>0?f.length:-1;if(!(f.length>o))for(p==e.line&&(d=e.ch-(i<0?1:0));d!=m;d+=i){var g=f.charAt(d);if(u.test(g)&&(void 0===n||t.getTokenTypeAt(s(p,d+1))==n)){var v=a[g];if(">"==v.charAt(1)==i>0)c.push(g);else{if(!c.length)return{pos:s(p,d),ch:g};c.pop()}}}}}return p-i!=(i>0?t.lastLine():t.firstLine())&&null}function n(t,i,n){for(var r=t.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=t.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&e(t,l[c].head,!1,n);if(u&&t.getLine(u.from.line).length<=r){var h=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(t.markText(u.from,s(u.from.line,u.from.ch+1),{className:h})),u.to&&t.getLine(u.to.line).length<=r&&a.push(t.markText(u.to,s(u.to.line,u.to.ch+1),{className:h}))}}if(a.length){o&&t.state.focused&&t.focus();var p=function(){t.operation(function(){for(var t=0;t<a.length;t++)a[t].clear()})};if(!i)return p;setTimeout(p,800)}}function r(t){t.operation(function(){l&&(l(),l=null),l=n(t,!1,t.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=t.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;t.defineOption("matchBrackets",!1,function(e,i,n){n&&n!=t.Init&&(e.off("cursorActivity",r),l&&(l(),l=null)),i&&(e.state.matchBrackets="object"==typeof i?i:{},e.on("cursorActivity",r))}),t.defineExtension("matchBrackets",function(){n(this,!0)}),t.defineExtension("findMatchingBracket",function(t,i,n){return e(this,t,i,n)}),t.defineExtension("scanForBracket",function(t,e,n,r){return i(this,t,e,n,r)})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t){var e=t.search(o);return e==-1?0:e}function i(t,e,i){return/\bstring\b/.test(t.getTokenTypeAt(s(e.line,0)))&&!/^[\'\"\`]/.test(i)}function n(t,e){var i=t.getMode();return i.useInnerComments!==!1&&i.innerMode?t.getModeAt(e):i}var r={},o=/[^\s\u00a0]/,s=t.Pos;t.commands.toggleComment=function(t){t.toggleComment()},t.defineExtension("toggleComment",function(t){t||(t=r);for(var e=this,i=1/0,n=this.listSelections(),o=null,a=n.length-1;a>=0;a--){var l=n[a].from(),c=n[a].to();l.line>=i||(c.line>=i&&(c=s(i,0)),i=l.line,null==o?e.uncomment(l,c,t)?o="un":(e.lineComment(l,c,t),o="line"):"un"==o?e.uncomment(l,c,t):e.lineComment(l,c,t))}}),t.defineExtension("lineComment",function(t,a,l){l||(l=r);var c=this,u=n(c,t),h=c.getLine(t.line);if(null!=h&&!i(c,t,h)){var p=l.lineComment||u.lineComment;if(!p)return void((l.blockCommentStart||u.blockCommentStart)&&(l.fullLines=!0,c.blockComment(t,a,l)));var f=Math.min(0!=a.ch||a.line==t.line?a.line+1:a.line,c.lastLine()+1),d=null==l.padding?" ":l.padding,m=l.commentBlankLines||t.line==a.line;c.operation(function(){if(l.indent){for(var i=null,n=t.line;n<f;++n){var r=c.getLine(n),a=r.slice(0,e(r));(null==i||i.length>a.length)&&(i=a)}for(var n=t.line;n<f;++n){var r=c.getLine(n),u=i.length;(m||o.test(r))&&(r.slice(0,u)!=i&&(u=e(r)),c.replaceRange(i+p+d,s(n,0),s(n,u)))}}else for(var n=t.line;n<f;++n)(m||o.test(c.getLine(n)))&&c.replaceRange(p+d,s(n,0))})}}),t.defineExtension("blockComment",function(t,e,i){i||(i=r);var a=this,l=n(a,t),c=i.blockCommentStart||l.blockCommentStart,u=i.blockCommentEnd||l.blockCommentEnd;if(!c||!u)return void((i.lineComment||l.lineComment)&&0!=i.fullLines&&a.lineComment(t,e,i));if(!/\bcomment\b/.test(a.getTokenTypeAt(s(t.line,0)))){var h=Math.min(e.line,a.lastLine());h!=t.line&&0==e.ch&&o.test(a.getLine(h))&&--h;var p=null==i.padding?" ":i.padding;t.line>h||a.operation(function(){if(0!=i.fullLines){var n=o.test(a.getLine(h));a.replaceRange(p+u,s(h)),a.replaceRange(c+p,s(t.line,0));var r=i.blockCommentLead||l.blockCommentLead;if(null!=r)for(var f=t.line+1;f<=h;++f)(f!=h||n)&&a.replaceRange(r+p,s(f,0))}else a.replaceRange(u,e),a.replaceRange(c,t)})}}),t.defineExtension("uncomment",function(t,e,i){i||(i=r);var a,l=this,c=n(l,t),u=Math.min(0!=e.ch||e.line==t.line?e.line:e.line-1,l.lastLine()),h=Math.min(t.line,u),p=i.lineComment||c.lineComment,f=[],d=null==i.padding?" ":i.padding;t:if(p){for(var m=h;m<=u;++m){var g=l.getLine(m),v=g.indexOf(p);if(v>-1&&!/comment/.test(l.getTokenTypeAt(s(m,v+1)))&&(v=-1),v==-1&&o.test(g))break t;if(v>-1&&o.test(g.slice(0,v)))break t;f.push(g)}if(l.operation(function(){for(var t=h;t<=u;++t){var e=f[t-h],i=e.indexOf(p),n=i+p.length;i<0||(e.slice(n,n+d.length)==d&&(n+=d.length),a=!0,l.replaceRange("",s(t,i),s(t,n)))}}),a)return!0}var y=i.blockCommentStart||c.blockCommentStart,b=i.blockCommentEnd||c.blockCommentEnd;if(!y||!b)return!1;var x=i.blockCommentLead||c.blockCommentLead,_=l.getLine(h),w=_.indexOf(y);if(w==-1)return!1;var k=u==h?_:l.getLine(u),C=k.indexOf(b,u==h?w+y.length:0);C==-1&&h!=u&&(k=l.getLine(--u),C=k.indexOf(b));var S=s(h,w+1),T=s(u,C+1);if(C==-1||!/comment/.test(l.getTokenTypeAt(S))||!/comment/.test(l.getTokenTypeAt(T))||l.getRange(S,T,"\n").indexOf(b)>-1)return!1;var E=_.lastIndexOf(y,t.ch),A=E==-1?-1:_.slice(0,t.ch).indexOf(b,E+y.length);if(E!=-1&&A!=-1&&A+b.length!=t.ch)return!1;A=k.indexOf(b,e.ch);var M=k.slice(e.ch).lastIndexOf(y,A-e.ch);return E=A==-1||M==-1?-1:e.ch+M,(A==-1||E==-1||E==e.ch)&&(l.operation(function(){l.replaceRange("",s(u,C-(d&&k.slice(C-d.length,C)==d?d.length:0)),s(u,C+b.length));var t=w+y.length;if(d&&_.slice(t,t+d.length)==d&&(t+=d.length),l.replaceRange("",s(h,w),s(h,t)),x)for(var e=h+1;e<=u;++e){var i=l.getLine(e),n=i.indexOf(x);if(n!=-1&&!o.test(i.slice(0,n))){var r=n+x.length;d&&i.slice(r,r+d.length)==d&&(r+=d.length),l.replaceRange("",s(e,n),s(e,r))}}}),!0)})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],t):t(CodeMirror)}(function(t){function e(e){if(e.getOption("disableInput"))return t.Pass;for(var i=e.listSelections(),n=[],l=0;l<i.length;l++){if(!i[l].empty())return t.Pass;var c=i[l].head,u=e.getTokenAt(c),h=t.innerMode(e.getMode(),u.state),p=h.state;if("xml"!=h.mode.name||!p.tagName)return t.Pass;var f=e.getOption("autoCloseTags"),d="html"==h.mode.configuration,m="object"==typeof f&&f.dontCloseTags||d&&s,g="object"==typeof f&&f.indentTags||d&&a,v=p.tagName;u.end>c.ch&&(v=v.slice(0,v.length-u.end+c.ch));var y=v.toLowerCase();if(!v||"string"==u.type&&(u.end!=c.ch||!/[\"\']/.test(u.string.charAt(u.string.length-1))||1==u.string.length)||"tag"==u.type&&"closeTag"==p.type||u.string.indexOf("/")==u.string.length-1||m&&r(m,y)>-1||o(e,v,c,p,!0))return t.Pass;var b=g&&r(g,y)>-1;n[l]={indent:b,text:">"+(b?"\n\n":"")+"</"+v+">",newPos:b?t.Pos(c.line+1,0):t.Pos(c.line,c.ch+1)}}for(var l=i.length-1;l>=0;l--){var x=n[l];e.replaceRange(x.text,i[l].head,i[l].anchor,"+insert");var _=e.listSelections().slice(0);_[l]={head:x.newPos,anchor:x.newPos},e.setSelections(_),x.indent&&(e.indentLine(x.newPos.line,null,!0),e.indentLine(x.newPos.line+1,null,!0))}}function i(e,i){for(var n=e.listSelections(),r=[],s=i?"/":"</",a=0;a<n.length;a++){if(!n[a].empty())return t.Pass;var l=n[a].head,c=e.getTokenAt(l),u=t.innerMode(e.getMode(),c.state),h=u.state;if(i&&("string"==c.type||"<"!=c.string.charAt(0)||c.start!=l.ch-1))return t.Pass;var p;if("xml"!=u.mode.name)if("htmlmixed"==e.getMode().name&&"javascript"==u.mode.name)p=s+"script";else{if("htmlmixed"!=e.getMode().name||"css"!=u.mode.name)return t.Pass;p=s+"style"}else{if(!h.context||!h.context.tagName||o(e,h.context.tagName,l,h))return t.Pass;p=s+h.context.tagName}">"!=e.getLine(l.line).charAt(c.end)&&(p+=">"),r[a]=p}e.replaceSelections(r),n=e.listSelections();for(var a=0;a<n.length;a++)(a==n.length-1||n[a].head.line<n[a+1].head.line)&&e.indentLine(n[a].head.line)}function n(e){return e.getOption("disableInput")?t.Pass:i(e,!0)}function r(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;++i)if(t[i]==e)return i;return-1}function o(e,i,n,r,o){if(!t.scanForClosingTag)return!1;var s=Math.min(e.lastLine()+1,n.line+500),a=t.scanForClosingTag(e,n,null,s);if(!a||a.tag!=i)return!1;for(var l=r.context,c=o?1:0;l&&l.tagName==i;l=l.prev)++c;n=a.to;for(var u=1;u<c;u++){var h=t.scanForClosingTag(e,n,null,s);if(!h||h.tag!=i)return!1;n=h.to}return!0}t.defineOption("autoCloseTags",!1,function(i,r,o){if(o!=t.Init&&o&&i.removeKeyMap("autoCloseTags"),r){var s={name:"autoCloseTags"};("object"!=typeof r||r.whenClosing)&&(s["'/'"]=function(t){return n(t)}),("object"!=typeof r||r.whenOpening)&&(s["'>'"]=function(t){return e(t)}),i.addKeyMap(s)}});var s=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],a=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];t.commands.closeTag=function(t){return i(t)}}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){function e(t,e){return"pairs"==e&&"string"==typeof t?t:"object"==typeof t&&null!=t[e]?t[e]:p[e]}function i(t){return function(e){return a(e,t)}}function n(t){var e=t.state.closeBrackets;if(!e||e.override)return e;var i=t.getModeAt(t.getCursor());return i.closeBrackets||e}function r(i){var r=n(i);if(!r||i.getOption("disableInput"))return t.Pass;for(var o=e(r,"pairs"),s=i.listSelections(),a=0;a<s.length;a++){if(!s[a].empty())return t.Pass;var l=c(i,s[a].head);if(!l||o.indexOf(l)%2!=0)return t.Pass}for(var a=s.length-1;a>=0;a--){var u=s[a].head;i.replaceRange("",f(u.line,u.ch-1),f(u.line,u.ch+1),"+delete")}}function o(i){var r=n(i),o=r&&e(r,"explode");if(!o||i.getOption("disableInput"))return t.Pass;for(var s=i.listSelections(),a=0;a<s.length;a++){if(!s[a].empty())return t.Pass;var l=c(i,s[a].head);if(!l||o.indexOf(l)%2!=0)return t.Pass}i.operation(function(){i.replaceSelection("\n\n",null),i.execCommand("goCharLeft"),s=i.listSelections();for(var t=0;t<s.length;t++){var e=s[t].head.line;i.indentLine(e,null,!0),i.indentLine(e+1,null,!0)}})}function s(e){var i=t.cmpPos(e.anchor,e.head)>0;return{anchor:new f(e.anchor.line,e.anchor.ch+(i?-1:1)),head:new f(e.head.line,e.head.ch+(i?1:-1))}}function a(i,r){var o=n(i);if(!o||i.getOption("disableInput"))return t.Pass;var a=e(o,"pairs"),c=a.indexOf(r);if(c==-1)return t.Pass;for(var p,d=e(o,"triples"),m=a.charAt(c+1)==r,g=i.listSelections(),v=c%2==0,y=0;y<g.length;y++){var b,x=g[y],_=x.head,w=i.getRange(_,f(_.line,_.ch+1));if(v&&!x.empty())b="surround";else if(!m&&v||w!=r)if(m&&_.ch>1&&d.indexOf(r)>=0&&i.getRange(f(_.line,_.ch-2),_)==r+r&&(_.ch<=2||i.getRange(f(_.line,_.ch-3),f(_.line,_.ch-2))!=r))b="addFour";else if(m){if(t.isWordChar(w)||!u(i,_,r))return t.Pass;b="both"}else{if(!v||i.getLine(_.line).length!=_.ch&&!l(w,a)&&!/\s/.test(w))return t.Pass;b="both"}else b=m&&h(i,_)?"both":d.indexOf(r)>=0&&i.getRange(_,f(_.line,_.ch+3))==r+r+r?"skipThree":"skip";if(p){if(p!=b)return t.Pass}else p=b}var k=c%2?a.charAt(c-1):r,C=c%2?r:a.charAt(c+1);i.operation(function(){if("skip"==p)i.execCommand("goCharRight");else if("skipThree"==p)for(var t=0;t<3;t++)i.execCommand("goCharRight");else if("surround"==p){for(var e=i.getSelections(),t=0;t<e.length;t++)e[t]=k+e[t]+C;i.replaceSelections(e,"around"),e=i.listSelections().slice();for(var t=0;t<e.length;t++)e[t]=s(e[t]);i.setSelections(e)}else"both"==p?(i.replaceSelection(k+C,null),i.triggerElectric(k+C),i.execCommand("goCharLeft")):"addFour"==p&&(i.replaceSelection(k+k+k+k,"before"),i.execCommand("goCharRight"))})}function l(t,e){var i=e.lastIndexOf(t);return i>-1&&i%2==1}function c(t,e){var i=t.getRange(f(e.line,e.ch-1),f(e.line,e.ch+1));return 2==i.length?i:null}function u(e,i,n){var r=e.getLine(i.line),o=e.getTokenAt(i);if(/\bstring2?\b/.test(o.type)||h(e,i))return!1;var s=new t.StringStream(r.slice(0,i.ch)+n+r.slice(i.ch),4);for(s.pos=s.start=o.start;;){var a=e.getMode().token(s,o.state);if(s.pos>=i.ch+1)return/\bstring2?\b/.test(a);s.start=s.pos}}function h(t,e){var i=t.getTokenAt(f(e.line,e.ch+1));return/\bstring/.test(i.type)&&i.start==e.ch}var p={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},f=t.Pos;t.defineOption("autoCloseBrackets",!1,function(e,i,n){n&&n!=t.Init&&(e.removeKeyMap(m),e.state.closeBrackets=null),i&&(e.state.closeBrackets=i,e.addKeyMap(m))});for(var d=p.pairs+"`",m={Backspace:r,Enter:o},g=0;g<d.length;g++)m["'"+d.charAt(g)+"'"]=i(d.charAt(g))}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){if(!t.hasOwnProperty(e))throw new Error("Undefined state "+e+" in simple mode")}function i(t,e){if(!t)return/(?:)/;var i="";return t instanceof RegExp?(t.ignoreCase&&(i="i"),t=t.source):t=String(t),new RegExp((e===!1?"":"^")+"(?:"+t+")",i)}function n(t){if(!t)return null;if("string"==typeof t)return t.replace(/\./g," ");for(var e=[],i=0;i<t.length;i++)e.push(t[i]&&t[i].replace(/\./g," "));return e}function r(t,r){(t.next||t.push)&&e(r,t.next||t.push),this.regex=i(t.regex),this.token=n(t.token),this.data=t}function o(t,e){return function(i,n){if(n.pending){var r=n.pending.shift();return 0==n.pending.length&&(n.pending=null),i.pos+=r.text.length,r.token}if(n.local){if(n.local.end&&i.match(n.local.end)){var o=n.local.endToken||null;return n.local=n.localState=null,o}var s,o=n.local.mode.token(i,n.localState);return n.local.endScan&&(s=n.local.endScan.exec(i.current()))&&(i.pos=i.start+s.index),o}for(var l=t[n.state],c=0;c<l.length;c++){var u=l[c],h=(!u.data.sol||i.sol())&&i.match(u.regex);if(h){if(u.data.next?n.state=u.data.next:u.data.push?((n.stack||(n.stack=[])).push(n.state),n.state=u.data.push):u.data.pop&&n.stack&&n.stack.length&&(n.state=n.stack.pop()),u.data.mode&&a(e,n,u.data.mode,u.token),u.data.indent&&n.indent.push(i.indentation()+e.indentUnit),u.data.dedent&&n.indent.pop(),h.length>2){n.pending=[];for(var p=2;p<h.length;p++)h[p]&&n.pending.push({text:h[p],token:u.token[p-1]});return i.backUp(h[0].length-(h[1]?h[1].length:0)),u.token[0]}return u.token&&u.token.join?u.token[0]:u.token}}return i.next(),null}}function s(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var i=0;for(var n in t)if(t.hasOwnProperty(n)){if(!e.hasOwnProperty(n)||!s(t[n],e[n]))return!1;i++}for(var n in e)e.hasOwnProperty(n)&&i--;return 0==i}function a(e,n,r,o){var a;if(r.persistent)for(var l=n.persistentStates;l&&!a;l=l.next)(r.spec?s(r.spec,l.spec):r.mode==l.mode)&&(a=l);var c=a?a.mode:r.mode||t.getMode(e,r.spec),u=a?a.state:t.startState(c);r.persistent&&!a&&(n.persistentStates={mode:c,spec:r.spec,state:u,next:n.persistentStates}),n.localState=u,n.local={mode:c,end:r.end&&i(r.end),endScan:r.end&&r.forceEnd!==!1&&i(r.end,!1),endToken:o&&o.join?o[o.length-1]:o}}function l(t,e){for(var i=0;i<e.length;i++)if(e[i]===t)return!0}function c(e,i){return function(n,r,o){if(n.local&&n.local.mode.indent)return n.local.mode.indent(n.localState,r,o);if(null==n.indent||n.local||i.dontIndentStates&&l(n.state,i.dontIndentStates)>-1)return t.Pass;var s=n.indent.length-1,a=e[n.state];t:for(;;){for(var c=0;c<a.length;c++){var u=a[c];if(u.data.dedent&&u.data.dedentIfLineStart!==!1){var h=u.regex.exec(r);if(h&&h[0]){s--,(u.next||u.push)&&(a=e[u.next||u.push]),r=r.slice(h[0].length);continue t}}}break}return s<0?0:n.indent[s]}}t.defineSimpleMode=function(e,i){t.defineMode(e,function(e){return t.simpleMode(e,i)})},t.simpleMode=function(i,n){e(n,"start");var s={},a=n.meta||{},l=!1;for(var u in n)if(u!=a&&n.hasOwnProperty(u))for(var h=s[u]=[],p=n[u],f=0;f<p.length;f++){var d=p[f];h.push(new r(d,n)),(d.indent||d.dedent)&&(l=!0)}var m={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:l?[]:null}},copyState:function(e){var i={state:e.state,pending:e.pending,local:e.local,localState:null,indent:e.indent&&e.indent.slice(0)};e.localState&&(i.localState=t.copyState(e.local.mode,e.localState)),e.stack&&(i.stack=e.stack.slice(0));for(var n=e.persistentStates;n;n=n.next)i.persistentStates={mode:n.mode,spec:n.spec,state:n.state==e.localState?i.localState:t.copyState(n.mode,n.state),next:i.persistentStates};return i},token:o(s,i),innerMode:function(t){return t.local&&{mode:t.local.mode,state:t.localState}},indent:c(s,a)};if(a)for(var g in a)a.hasOwnProperty(g)&&(m[g]=a[g]);return m}}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,i,n,r,o){this.indented=t,this.column=e,this.type=i,this.info=n,this.align=r,this.prev=o}function i(t,i,n,r){var o=t.indented;return t.context&&"statement"==t.context.type&&"statement"!=n&&(o=t.context.indented),t.context=new e(o,i,n,r,null,t.context)}function n(t){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}function r(t,e,i){return"variable"==e.prevToken||"variable-3"==e.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(t.string.slice(0,i))||(!(!e.typeAtEndOfLine||t.column()!=t.indentation())||void 0))}function o(t){for(;;){if(!t||"top"==t.type)return!0;if("}"==t.type&&"namespace"!=t.prev.info)return!1;t=t.prev}}function s(t){for(var e={},i=t.split(" "),n=0;n<i.length;++n)e[i[n]]=!0;return e}function a(t,e){return"function"==typeof t?t(e):t.propertyIsEnumerable(e)}function l(t,e){if(!e.startOfLine)return!1;for(var i,n=null;i=t.peek();){if("\\"==i&&t.match(/^.$/)){n=l;break}if("/"==i&&t.match(/^\/[\/\*]/,!1))break;t.next()}return e.tokenize=n,"meta"}function c(t,e){return"variable-3"==e.prevToken&&"variable-3"}function u(t){return t.eatWhile(/[\w\.']/),"number"}function h(t,e){if(t.backUp(1),t.match(/(R|u8R|uR|UR|LR)/)){var i=t.match(/"([^\s\\()]{0,16})\(/);return!!i&&(e.cpp11RawStringDelim=i[1],e.tokenize=d,d(t,e))}return t.match(/(u8|u|U|L)/)?!!t.match(/["']/,!1)&&"string":(t.next(),!1)}function p(t){var e=/(\w+)::~?(\w+)$/.exec(t);return e&&e[1]==e[2]}function f(t,e){for(var i;null!=(i=t.next());)if('"'==i&&!t.eat('"')){e.tokenize=null;break}return"string"}function d(t,e){var i=e.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),n=t.match(new RegExp(".*?\\)"+i+'"'));return n?e.tokenize=null:t.skipToEnd(),"string"}function m(e,i){function n(t){if(t)for(var e in t)t.hasOwnProperty(e)&&r.push(e)}"string"==typeof e&&(e=[e]);var r=[];n(i.keywords),n(i.types),n(i.builtin),n(i.atoms),r.length&&(i.helperType=e[0],t.registerHelper("hintWords",e[0],r));for(var o=0;o<e.length;++o)t.defineMIME(e[o],i)}function g(t,e){for(var i=!1;!t.eol();){if(!i&&t.match('"""')){e.tokenize=null;break}i="\\"==t.next()&&!i}return"string"}function v(t){return function(e,i){for(var n,r=!1,o=!1;!e.eol();){if(!t&&!r&&e.match('"')){o=!0;break}if(t&&e.match('"""')){o=!0;break}n=e.next(),!r&&"$"==n&&e.match("{")&&e.skipTo("}"),r=!r&&"\\"==n&&!t}return!o&&t||(i.tokenize=null),"string"}}function y(t){return function(e,i){for(var n,r=!1,o=!1;!e.eol();){if(!r&&e.match('"')&&("single"==t||e.match('""'))){o=!0;break}if(!r&&e.match("``")){_=y(t),o=!0;break}n=e.next(),r="single"==t&&!r&&"\\"==n}return o&&(i.tokenize=null),"string"}}t.defineMode("clike",function(s,l){function c(t,e){var i=t.next();if(C[i]){var n=C[i](t,e);if(n!==!1)return n}if('"'==i||"'"==i)return e.tokenize=u(i),e.tokenize(t,e);if(M.test(i))return f=i,null;if(L.test(i)){if(t.backUp(1),t.match(N))return"number";t.next()}if("/"==i){if(t.eat("*"))return e.tokenize=h,h(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(P.test(i)){for(;!t.match(/^\/[\/*]/,!1)&&t.eat(P););return"operator"}if(t.eatWhile(I),A)for(;t.match(A);)t.eatWhile(I);var r=t.current();return a(y,r)?(a(_,r)&&(f="newstatement"),a(w,r)&&(d=!0),"keyword"):a(b,r)?"variable-3":a(x,r)?(a(_,r)&&(f="newstatement"),"builtin"):a(k,r)?"atom":"variable"}function u(t){return function(e,i){for(var n,r=!1,o=!1;null!=(n=e.next());){if(n==t&&!r){o=!0;break}r=!r&&"\\"==n}return(o||!r&&!S)&&(i.tokenize=null),"string"}}function h(t,e){for(var i,n=!1;i=t.next();){if("/"==i&&n){e.tokenize=null;break}n="*"==i}return"comment"}function p(t,e){l.typeFirstDefinitions&&t.eol()&&o(e.context)&&(e.typeAtEndOfLine=r(t,e,t.pos))}var f,d,m=s.indentUnit,g=l.statementIndentUnit||m,v=l.dontAlignCalls,y=l.keywords||{},b=l.types||{},x=l.builtin||{},_=l.blockKeywords||{},w=l.defKeywords||{},k=l.atoms||{},C=l.hooks||{},S=l.multiLineStrings,T=l.indentStatements!==!1,E=l.indentSwitch!==!1,A=l.namespaceSeparator,M=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,L=l.numberStart||/[\d\.]/,N=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,P=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,I=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/;return{startState:function(t){return{tokenize:null,context:new e((t||0)-m,0,"top",null,(!1)),indented:0,startOfLine:!0,prevToken:null}},token:function(t,e){var s=e.context;if(t.sol()&&(null==s.align&&(s.align=!1),e.indented=t.indentation(),e.startOfLine=!0),t.eatSpace())return p(t,e),null;f=d=null;var a=(e.tokenize||c)(t,e);if("comment"==a||"meta"==a)return a;if(null==s.align&&(s.align=!0),";"==f||":"==f||","==f&&t.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==e.context.type;)n(e);else if("{"==f)i(e,t.column(),"}");else if("["==f)i(e,t.column(),"]");else if("("==f)i(e,t.column(),")");else if("}"==f){for(;"statement"==s.type;)s=n(e);for("}"==s.type&&(s=n(e));"statement"==s.type;)s=n(e)}else f==s.type?n(e):T&&(("}"==s.type||"top"==s.type)&&";"!=f||"statement"==s.type&&"newstatement"==f)&&i(e,t.column(),"statement",t.current());if("variable"==a&&("def"==e.prevToken||l.typeFirstDefinitions&&r(t,e,t.start)&&o(e.context)&&t.match(/^\s*\(/,!1))&&(a="def"),C.token){var u=C.token(t,e,a);void 0!==u&&(a=u)}return"def"==a&&l.styleDefs===!1&&(a="variable"),e.startOfLine=!1,e.prevToken=d?"def":a||f,p(t,e),a},indent:function(e,i){if(e.tokenize!=c&&null!=e.tokenize||e.typeAtEndOfLine)return t.Pass;var n=e.context,r=i&&i.charAt(0);if("statement"==n.type&&"}"==r&&(n=n.prev),l.dontIndentStatements)for(;"statement"==n.type&&l.dontIndentStatements.test(n.info);)n=n.prev;if(C.indent){var o=C.indent(e,n,i);if("number"==typeof o)return o}var s=r==n.type,a=n.prev&&"switch"==n.prev.info;if(l.allmanIndentation&&/[{(]/.test(r)){for(;"top"!=n.type&&"}"!=n.type;)n=n.prev;return n.indented}return"statement"==n.type?n.indented+("{"==r?0:g):!n.align||v&&")"==n.type?")"!=n.type||s?n.indented+(s?0:m)+(s||!a||/^(?:case|default)\b/.test(i)?0:m):n.indented+g:n.column+(s?0:1)},electricInput:E?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var b="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",x="int long char short double float unsigned signed void size_t ptrdiff_t";m(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:s(b),types:s(x+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:s("case do else for if switch while struct"),defKeywords:s("struct"),
typeFirstDefinitions:!0,atoms:s("null true false"),hooks:{"#":l,"*":c},modeProps:{fold:["brace","include"]}}),m(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:s(b+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:s(x+" bool wchar_t"),blockKeywords:s("catch class do else finally for if struct switch try while"),defKeywords:s("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:s("true false null"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,hooks:{"#":l,"*":c,u:h,U:h,L:h,R:h,0:u,1:u,2:u,3:u,4:u,5:u,6:u,7:u,8:u,9:u,token:function(t,e,i){if("variable"==i&&"("==t.peek()&&(";"==e.prevToken||null==e.prevToken||"}"==e.prevToken)&&p(t.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),m("text/x-java",{name:"clike",keywords:s("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:s("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:s("catch class do else finally for if switch try while"),defKeywords:s("class interface package enum @interface"),typeFirstDefinitions:!0,atoms:s("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(t){return!t.match("interface",!1)&&(t.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),m("text/x-csharp",{name:"clike",keywords:s("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:s("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:s("catch class do else finally for foreach if struct switch try while"),defKeywords:s("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"@":function(t,e){return t.eat('"')?(e.tokenize=f,f(t,e)):(t.eatWhile(/[\w\$_]/),"meta")}}}),m("text/x-scala",{name:"clike",keywords:s("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:s("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:s("catch class do else finally for forSome if match switch try while"),defKeywords:s("class def object package trait type val var"),atoms:s("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return!!t.match('""')&&(e.tokenize=g,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(t,i){var n=i.context;return!("}"!=n.type||!n.align||!t.eat(">"))&&(i.context=new e(n.indented,n.column,n.type,n.info,null,n.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),m("text/x-kotlin",{name:"clike",keywords:s("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend"),types:s("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:s("catch class do else finally for if where try while enum"),defKeywords:s("class val var object package interface fun"),atoms:s("true false null this"),hooks:{'"':function(t,e){return e.tokenize=v(t.match('""')),e.tokenize(t,e)}},modeProps:{closeBrackets:{triples:'"'}}}),m(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:s("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:s("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:s("for while do if else struct"),builtin:s("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:s("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":l},modeProps:{fold:["brace","include"]}}),m("text/x-nesc",{name:"clike",keywords:s(b+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:s(x),blockKeywords:s("case do else for if switch while struct"),atoms:s("null true false"),hooks:{"#":l},modeProps:{fold:["brace","include"]}}),m("text/x-objectivec",{name:"clike",keywords:s(b+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:s(x),atoms:s("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(t){return t.eatWhile(/[\w\$]/),"keyword"},"#":l,indent:function(t,e,i){if("statement"==e.type&&/^@\w/.test(i))return e.indented}},modeProps:{fold:"brace"}}),m("text/x-squirrel",{name:"clike",keywords:s("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:s(x),blockKeywords:s("case catch class else for foreach if switch try while"),defKeywords:s("function local class"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"#":l},modeProps:{fold:["brace","include"]}});var _=null;m("text/x-ceylon",{name:"clike",keywords:s("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(t){var e=t.charAt(0);return e===e.toUpperCase()&&e!==e.toLowerCase()},blockKeywords:s("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:s("class dynamic function interface module object package value"),builtin:s("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:s("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return e.tokenize=y(t.match('""')?"triple":"single"),e.tokenize(t,e)},"`":function(t,e){return!(!_||!t.match("`"))&&(e.tokenize=_,_=null,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(t,e,i){if(("variable"==i||"variable-3"==i)&&"."==e.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("clojure",function(t){function e(t){for(var e={},i=t.split(" "),n=0;n<i.length;++n)e[i[n]]=!0;return e}function i(t,e,i){this.indent=t,this.type=e,this.prev=i}function n(t,e,n){t.indentStack=new i(e,n,t.indentStack)}function r(t){t.indentStack=t.indentStack.prev}function o(t,e){return"0"===t&&e.eat(/x/i)?(e.eatWhile(w.hex),!0):("+"!=t&&"-"!=t||!w.digit.test(e.peek())||(e.eat(w.sign),t=e.next()),!!w.digit.test(t)&&(e.eat(t),e.eatWhile(w.digit),"."==e.peek()?(e.eat("."),e.eatWhile(w.digit)):"/"==e.peek()&&(e.eat("/"),e.eatWhile(w.digit)),e.eat(w.exponent)&&(e.eat(w.sign),e.eatWhile(w.digit)),!0))}function s(t){var e=t.next();e&&e.match(/[a-z]/)&&t.match(/[a-z]+/,!0)||"u"===e&&t.match(/[0-9a-z]{4}/i,!0)}var a="builtin",l="comment",c="string",u="string-2",h="atom",p="number",f="bracket",d="keyword",m="variable",g=t.indentUnit||2,v=t.indentUnit||2,y=e("true false nil"),b=e("defn defn- def def- defonce defmulti defmethod defmacro defstruct deftype defprotocol defrecord defproject deftest slice defalias defhinted defmacro- defn-memo defnk defnk defonce- defunbound defunbound- defvar defvar- let letfn do case cond condp for loop recur when when-not when-let when-first if if-let if-not . .. -> ->> doto and or dosync doseq dotimes dorun doall load import unimport ns in-ns refer try catch finally throw with-open with-local-vars binding gen-class gen-and-load-class gen-and-save-class handler-case handle"),x=e("* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-readably* *read-eval* *source-path* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -> ->> ->ArrayChunk ->Vec ->VecNode ->VecSeq -cache-protocol-fn -reset-methods .. / < <= = == > >= EMPTY-NODE accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and apply areduce array-map aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array booleans bound-fn bound-fn* bound? butlast byte byte-array bytes case cat cast char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array doubles drop drop-last drop-while eduction empty empty? ensure enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by hash hash-combine hash-map hash-set identical? identity if-let if-not ifn? import in-ns inc inc' init-proxy instance? int int-array integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mod munge name namespace namespace-munge neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not= ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string realized? reduce reduce-kv reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq satisfies? second select-keys send send-off seq seq? seque sequence sequential? set set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents slurp some some-fn sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! symbol symbol? sync take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing update update-in update-proxy use val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap *default-data-reader-fn* as-> cond-> cond->> reduced reduced? send-via set-agent-send-executor! set-agent-send-off-executor! some-> some->>"),_=e("ns fn def defn defmethod bound-fn if if-not case condp when while when-not when-first do future comment doto locking proxy with-open with-precision reify deftype defrecord defprotocol extend extend-protocol extend-type try catch let letfn binding loop for doseq dotimes when-let if-let defstruct struct-map assoc testing deftest handler-case handle dotrace deftrace"),w={digit:/\d/,digit_or_colon:/[\d:]/,hex:/[0-9a-f]/i,sign:/[+-]/,exponent:/e/i,keyword_char:/[^\s\(\[\;\)\]]/,symbol:/[\w*+!\-\._?:<>\/\xa1-\uffff]/,block_indent:/^(?:def|with)[^\/]+$|\/(?:def|with)/};return{startState:function(){return{indentStack:null,indentation:0,mode:!1}},token:function(t,e){if(null==e.indentStack&&t.sol()&&(e.indentation=t.indentation()),"string"!=e.mode&&t.eatSpace())return null;var i=null;switch(e.mode){case"string":for(var k,C=!1;null!=(k=t.next());){if('"'==k&&!C){e.mode=!1;break}C=!C&&"\\"==k}i=c;break;default:var S=t.next();if('"'==S)e.mode="string",i=c;else if("\\"==S)s(t),i=u;else if("'"!=S||w.digit_or_colon.test(t.peek()))if(";"==S)t.skipToEnd(),i=l;else if(o(S,t))i=p;else if("("==S||"["==S||"{"==S){var T,E="",A=t.column();if("("==S)for(;null!=(T=t.eat(w.keyword_char));)E+=T;E.length>0&&(_.propertyIsEnumerable(E)||w.block_indent.test(E))?n(e,A+g,S):(t.eatSpace(),t.eol()||";"==t.peek()?n(e,A+v,S):n(e,A+t.current().length,S)),t.backUp(t.current().length-1),i=f}else if(")"==S||"]"==S||"}"==S)i=f,null!=e.indentStack&&e.indentStack.type==(")"==S?"(":"]"==S?"[":"{")&&r(e);else{if(":"==S)return t.eatWhile(w.symbol),h;t.eatWhile(w.symbol),i=b&&b.propertyIsEnumerable(t.current())?d:x&&x.propertyIsEnumerable(t.current())?a:y&&y.propertyIsEnumerable(t.current())?h:m}else i=h}return i},indent:function(t){return null==t.indentStack?t.indentation:t.indentStack.indent},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}}),t.defineMIME("text/x-clojure","clojure"),t.defineMIME("text/x-clojurescript","clojure"),t.defineMIME("application/edn","clojure")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("go",function(t){function e(t,e){var r=t.next();if('"'==r||"'"==r||"`"==r)return e.tokenize=i(r),e.tokenize(t,e);if(/[\d\.]/.test(r))return"."==r?t.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):"0"==r?t.match(/^[xX][0-9a-fA-F]+/)||t.match(/^0[0-7]+/):t.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(/[\[\]{}\(\),;\:\.]/.test(r))return a=r,null;if("/"==r){if(t.eat("*"))return e.tokenize=n,n(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(h.test(r))return t.eatWhile(h),"operator";t.eatWhile(/[\w\$_\xa1-\uffff]/);var o=t.current();return c.propertyIsEnumerable(o)?("case"!=o&&"default"!=o||(a="case"),"keyword"):u.propertyIsEnumerable(o)?"atom":"variable"}function i(t){return function(i,n){for(var r,o=!1,s=!1;null!=(r=i.next());){if(r==t&&!o){s=!0;break}o=!o&&"`"!=t&&"\\"==r}return(s||!o&&"`"!=t)&&(n.tokenize=e),"string"}}function n(t,i){for(var n,r=!1;n=t.next();){if("/"==n&&r){i.tokenize=e;break}r="*"==n}return"comment"}function r(t,e,i,n,r){this.indented=t,this.column=e,this.type=i,this.align=n,this.prev=r}function o(t,e,i){return t.context=new r(t.indented,e,i,null,t.context)}function s(t){if(t.context.prev){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}}var a,l=t.indentUnit,c={"break":!0,"case":!0,chan:!0,"const":!0,"continue":!0,"default":!0,defer:!0,"else":!0,fallthrough:!0,"for":!0,func:!0,go:!0,"goto":!0,"if":!0,"import":!0,"interface":!0,map:!0,"package":!0,range:!0,"return":!0,select:!0,struct:!0,"switch":!0,type:!0,"var":!0,bool:!0,"byte":!0,complex64:!0,complex128:!0,float32:!0,float64:!0,int8:!0,int16:!0,int32:!0,int64:!0,string:!0,uint8:!0,uint16:!0,uint32:!0,uint64:!0,"int":!0,uint:!0,uintptr:!0,error:!0,rune:!0},u={"true":!0,"false":!0,iota:!0,nil:!0,append:!0,cap:!0,close:!0,complex:!0,copy:!0,"delete":!0,imag:!0,len:!0,make:!0,"new":!0,panic:!0,print:!0,println:!0,real:!0,recover:!0},h=/[+\-*&^%:=<>!|\/]/;return{startState:function(t){return{tokenize:null,context:new r((t||0)-l,0,"top",(!1)),indented:0,startOfLine:!0}},token:function(t,i){var n=i.context;if(t.sol()&&(null==n.align&&(n.align=!1),i.indented=t.indentation(),i.startOfLine=!0,"case"==n.type&&(n.type="}")),t.eatSpace())return null;a=null;var r=(i.tokenize||e)(t,i);return"comment"==r?r:(null==n.align&&(n.align=!0),"{"==a?o(i,t.column(),"}"):"["==a?o(i,t.column(),"]"):"("==a?o(i,t.column(),")"):"case"==a?n.type="case":"}"==a&&"}"==n.type?n=s(i):a==n.type&&s(i),i.startOfLine=!1,r)},indent:function(t,i){if(t.tokenize!=e&&null!=t.tokenize)return 0;var n=t.context,r=i&&i.charAt(0);if("case"==n.type&&/^(?:case|default)\b/.test(i))return t.context.type="}",n.indented;var o=r==n.type;return n.align?n.column+(o?0:1):n.indented+(o?0:l)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),t.defineMIME("text/x-go","go")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};t.defineMode("xml",function(n,r){function o(t,e){function i(i){return e.tokenize=i,i(t,e)}var n=t.next();if("<"==n)return t.eat("!")?t.eat("[")?t.match("CDATA[")?i(l("atom","]]>")):null:t.match("--")?i(l("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),i(c(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=l("meta","?>"),"meta"):(T=t.eat("/")?"closeTag":"openTag",e.tokenize=s,"tag bracket");if("&"==n){var r;return r=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),r?"atom":"error"}return t.eatWhile(/[^&<]/),null}function s(t,e){var i=t.next();if(">"==i||"/"==i&&t.eat(">"))return e.tokenize=o,T=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return T="equals",null;if("<"==i){e.tokenize=o,e.state=f,e.tagName=e.tagStart=null;var n=e.tokenize(t,e);return n?n+" tag error":"tag error"}return/[\'\"]/.test(i)?(e.tokenize=a(i),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(t){var e=function(e,i){for(;!e.eol();)if(e.next()==t){i.tokenize=s;break}return"string"};return e.isInAttribute=!0,e}function l(t,e){return function(i,n){for(;!i.eol();){if(i.match(e)){n.tokenize=o;break}i.next()}return t}}function c(t){return function(e,i){for(var n;null!=(n=e.next());){if("<"==n)return i.tokenize=c(t+1),i.tokenize(e,i);if(">"==n){if(1==t){i.tokenize=o;break}return i.tokenize=c(t-1),i.tokenize(e,i)}}return"meta"}}function u(t,e,i){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=i,(k.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function h(t){t.context&&(t.context=t.context.prev)}function p(t,e){for(var i;;){if(!t.context)return;if(i=t.context.tagName,!k.contextGrabbers.hasOwnProperty(i)||!k.contextGrabbers[i].hasOwnProperty(e))return;h(t)}}function f(t,e,i){return"openTag"==t?(i.tagStart=e.column(),d):"closeTag"==t?m:f}function d(t,e,i){return"word"==t?(i.tagName=e.current(),E="tag",y):(E="error",d)}function m(t,e,i){if("word"==t){var n=e.current();return i.context&&i.context.tagName!=n&&k.implicitlyClosed.hasOwnProperty(i.context.tagName)&&h(i),i.context&&i.context.tagName==n||k.matchClosing===!1?(E="tag",g):(E="tag error",v)}return E="error",v}function g(t,e,i){return"endTag"!=t?(E="error",g):(h(i),f)}function v(t,e,i){return E="error",g(t,e,i)}function y(t,e,i){if("word"==t)return E="attribute",b;if("endTag"==t||"selfcloseTag"==t){var n=i.tagName,r=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==t||k.autoSelfClosers.hasOwnProperty(n)?p(i,n):(p(i,n),i.context=new u(i,n,r==i.indented)),f}return E="error",y}function b(t,e,i){return"equals"==t?x:(k.allowMissing||(E="error"),y(t,e,i))}function x(t,e,i){return"string"==t?_:"word"==t&&k.allowUnquoted?(E="string",y):(E="error",y(t,e,i))}function _(t,e,i){return"string"==t?_:y(t,e,i)}var w=n.indentUnit,k={},C=r.htmlMode?e:i;for(var S in C)k[S]=C[S];for(var S in r)k[S]=r[S];var T,E;return o.isInText=!0,{startState:function(t){var e={tokenize:o,state:f,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;T=null;var i=e.tokenize(t,e);return(i||T)&&"comment"!=i&&(E=null,e.state=e.state(T||i,t,e),E&&(i="error"==E?i+" error":E)),i},indent:function(e,i,n){var r=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+w;if(r&&r.noIndent)return t.Pass;if(e.tokenize!=s&&e.tokenize!=o)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName)return k.multilineTagIndentPastTag!==!1?e.tagStart+e.tagName.length+2:e.tagStart+w*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var a=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(a&&a[1])for(;r;){if(r.tagName==a[2]){r=r.prev;break}if(!k.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(a)for(;r;){var l=k.contextGrabbers[r.tagName];if(!l||!l.hasOwnProperty(a[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+w:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(t){t.state==x&&(t.state=y)}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e={},i=0;i<t.length;++i)e[t[i].toLowerCase()]=!0;return e}function i(t,e){for(var i,n=!1;null!=(i=t.next());){if(n&&"/"==i){e.tokenize=null;break}n="*"==i}return["comment","comment"]}t.defineMode("css",function(e,i){function n(t,e){return d=e,t}function r(t,e){var i=t.next();if(v[i]){var r=v[i](t,e);if(r!==!1)return r}return"@"==i?(t.eatWhile(/[\w\\\-]/),n("def",t.current())):"="==i||("~"==i||"|"==i)&&t.eat("=")?n(null,"compare"):'"'==i||"'"==i?(e.tokenize=o(i),e.tokenize(t,e)):"#"==i?(t.eatWhile(/[\w\\\-]/),n("atom","hash")):"!"==i?(t.match(/^\s*\w*/),n("keyword","important")):/\d/.test(i)||"."==i&&t.eat(/\d/)?(t.eatWhile(/[\w.%]/),n("number","unit")):"-"!==i?/[,+>*\/]/.test(i)?n(null,"select-op"):"."==i&&t.match(/^-?[_a-z][_a-z0-9-]*/i)?n("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(i)?n(null,i):"u"==i&&t.match(/rl(-prefix)?\(/)||"d"==i&&t.match("omain(")||"r"==i&&t.match("egexp(")?(t.backUp(1),e.tokenize=s,n("property","word")):/[\w\\\-]/.test(i)?(t.eatWhile(/[\w\\\-]/),n("property","word")):n(null,null):/[\d.]/.test(t.peek())?(t.eatWhile(/[\w.%]/),n("number","unit")):t.match(/^-[\w\\\-]+/)?(t.eatWhile(/[\w\\\-]/),t.match(/^\s*:/,!1)?n("variable-2","variable-definition"):n("variable-2","variable")):t.match(/^\w+-/)?n("meta","meta"):void 0}function o(t){return function(e,i){for(var r,o=!1;null!=(r=e.next());){if(r==t&&!o){")"==t&&e.backUp(1);break}o=!o&&"\\"==r}return(r==t||!o&&")"!=t)&&(i.tokenize=null),n("string","string")}}function s(t,e){return t.next(),t.match(/\s*[\"\')]/,!1)?e.tokenize=null:e.tokenize=o(")"),n(null,"(")}function a(t,e,i){this.type=t,this.indent=e,this.prev=i}function l(t,e,i,n){return t.context=new a(i,e.indentation()+(n===!1?0:g),t.context),i}function c(t){return t.context.prev&&(t.context=t.context.prev),t.context.type}function u(t,e,i){return N[i.context.type](t,e,i)}function h(t,e,i,n){for(var r=n||1;r>0;r--)i.context=i.context.prev;return u(t,e,i)}function p(t){var e=t.current().toLowerCase();m=E.hasOwnProperty(e)?"atom":T.hasOwnProperty(e)?"keyword":"variable"}var f=i.inline;i.propertyKeywords||(i=t.resolveMode("text/css"));var d,m,g=e.indentUnit,v=i.tokenHooks,y=i.documentTypes||{},b=i.mediaTypes||{},x=i.mediaFeatures||{},_=i.mediaValueKeywords||{},w=i.propertyKeywords||{},k=i.nonStandardPropertyKeywords||{},C=i.fontProperties||{},S=i.counterDescriptors||{},T=i.colorKeywords||{},E=i.valueKeywords||{},A=i.allowNested,M=i.lineComment,L=i.supportsAtComponent===!0,N={};
return N.top=function(t,e,i){if("{"==t)return l(i,e,"block");if("}"==t&&i.context.prev)return c(i);if(L&&/@component/.test(t))return l(i,e,"atComponentBlock");if(/^@(-moz-)?document$/.test(t))return l(i,e,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(t))return l(i,e,"atBlock");if(/^@(font-face|counter-style)/.test(t))return i.stateArg=t,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(t))return"keyframes";if(t&&"@"==t.charAt(0))return l(i,e,"at");if("hash"==t)m="builtin";else if("word"==t)m="tag";else{if("variable-definition"==t)return"maybeprop";if("interpolation"==t)return l(i,e,"interpolation");if(":"==t)return"pseudo";if(A&&"("==t)return l(i,e,"parens")}return i.context.type},N.block=function(t,e,i){if("word"==t){var n=e.current().toLowerCase();return w.hasOwnProperty(n)?(m="property","maybeprop"):k.hasOwnProperty(n)?(m="string-2","maybeprop"):A?(m=e.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(m+=" error","maybeprop")}return"meta"==t?"block":A||"hash"!=t&&"qualifier"!=t?N.top(t,e,i):(m="error","block")},N.maybeprop=function(t,e,i){return":"==t?l(i,e,"prop"):u(t,e,i)},N.prop=function(t,e,i){if(";"==t)return c(i);if("{"==t&&A)return l(i,e,"propBlock");if("}"==t||"{"==t)return h(t,e,i);if("("==t)return l(i,e,"parens");if("hash"!=t||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(e.current())){if("word"==t)p(e);else if("interpolation"==t)return l(i,e,"interpolation")}else m+=" error";return"prop"},N.propBlock=function(t,e,i){return"}"==t?c(i):"word"==t?(m="property","maybeprop"):i.context.type},N.parens=function(t,e,i){return"{"==t||"}"==t?h(t,e,i):")"==t?c(i):"("==t?l(i,e,"parens"):"interpolation"==t?l(i,e,"interpolation"):("word"==t&&p(e),"parens")},N.pseudo=function(t,e,i){return"meta"==t?"pseudo":"word"==t?(m="variable-3",i.context.type):u(t,e,i)},N.documentTypes=function(t,e,i){return"word"==t&&y.hasOwnProperty(e.current())?(m="tag",i.context.type):N.atBlock(t,e,i)},N.atBlock=function(t,e,i){if("("==t)return l(i,e,"atBlock_parens");if("}"==t||";"==t)return h(t,e,i);if("{"==t)return c(i)&&l(i,e,A?"block":"top");if("interpolation"==t)return l(i,e,"interpolation");if("word"==t){var n=e.current().toLowerCase();m="only"==n||"not"==n||"and"==n||"or"==n?"keyword":b.hasOwnProperty(n)?"attribute":x.hasOwnProperty(n)?"property":_.hasOwnProperty(n)?"keyword":w.hasOwnProperty(n)?"property":k.hasOwnProperty(n)?"string-2":E.hasOwnProperty(n)?"atom":T.hasOwnProperty(n)?"keyword":"error"}return i.context.type},N.atComponentBlock=function(t,e,i){return"}"==t?h(t,e,i):"{"==t?c(i)&&l(i,e,A?"block":"top",!1):("word"==t&&(m="error"),i.context.type)},N.atBlock_parens=function(t,e,i){return")"==t?c(i):"{"==t||"}"==t?h(t,e,i,2):N.atBlock(t,e,i)},N.restricted_atBlock_before=function(t,e,i){return"{"==t?l(i,e,"restricted_atBlock"):"word"==t&&"@counter-style"==i.stateArg?(m="variable","restricted_atBlock_before"):u(t,e,i)},N.restricted_atBlock=function(t,e,i){return"}"==t?(i.stateArg=null,c(i)):"word"==t?(m="@font-face"==i.stateArg&&!C.hasOwnProperty(e.current().toLowerCase())||"@counter-style"==i.stateArg&&!S.hasOwnProperty(e.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},N.keyframes=function(t,e,i){return"word"==t?(m="variable","keyframes"):"{"==t?l(i,e,"top"):u(t,e,i)},N.at=function(t,e,i){return";"==t?c(i):"{"==t||"}"==t?h(t,e,i):("word"==t?m="tag":"hash"==t&&(m="builtin"),"at")},N.interpolation=function(t,e,i){return"}"==t?c(i):"{"==t||";"==t?h(t,e,i):("word"==t?m="variable":"variable"!=t&&"("!=t&&")"!=t&&(m="error"),"interpolation")},{startState:function(t){return{tokenize:null,state:f?"block":"top",stateArg:null,context:new a(f?"block":"top",t||0,null)}},token:function(t,e){if(!e.tokenize&&t.eatSpace())return null;var i=(e.tokenize||r)(t,e);return i&&"object"==typeof i&&(d=i[1],i=i[0]),m=i,e.state=N[e.state](d,t,e),m},indent:function(t,e){var i=t.context,n=e&&e.charAt(0),r=i.indent;return"prop"!=i.type||"}"!=n&&")"!=n||(i=i.prev),i.prev&&("}"!=n||"block"!=i.type&&"top"!=i.type&&"interpolation"!=i.type&&"restricted_atBlock"!=i.type?(")"!=n||"parens"!=i.type&&"atBlock_parens"!=i.type)&&("{"!=n||"at"!=i.type&&"atBlock"!=i.type)||(r=Math.max(0,i.indent-g),i=i.prev):(i=i.prev,r=i.indent)),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:M,fold:"brace"}});var n=["domain","regexp","url","url-prefix"],r=e(n),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=e(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=e(a),c=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],u=e(c),h=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],p=e(h),f=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=e(f),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],g=e(m),v=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],y=e(v),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],x=e(b),_=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],w=e(_),k=n.concat(o).concat(a).concat(c).concat(h).concat(f).concat(b).concat(_);t.registerHelper("hintWords","css",k),t.defineMIME("text/css",{documentTypes:r,mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:d,fontProperties:g,counterDescriptors:y,colorKeywords:x,valueKeywords:w,tokenHooks:{"/":function(t,e){return!!t.eat("*")&&(e.tokenize=i,i(t,e))}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:d,colorKeywords:x,valueKeywords:w,fontProperties:g,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(t,e){return t.eat("/")?(t.skipToEnd(),["comment","comment"]):t.eat("*")?(e.tokenize=i,i(t,e)):["operator","operator"]},":":function(t){return!!t.match(/\s*\{/,!1)&&[null,null]},$:function(t){return t.match(/^[\w-]+/),t.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(t){return!!t.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:d,colorKeywords:x,valueKeywords:w,fontProperties:g,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(t,e){return t.eat("/")?(t.skipToEnd(),["comment","comment"]):t.eat("*")?(e.tokenize=i,i(t,e)):["operator","operator"]},"@":function(t){return t.eat("{")?[null,"interpolation"]:!t.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(t.eatWhile(/[\w\\\-]/),t.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:s,mediaFeatures:l,propertyKeywords:p,nonStandardPropertyKeywords:d,fontProperties:g,counterDescriptors:y,colorKeywords:x,valueKeywords:w,supportsAtComponent:!0,tokenHooks:{"/":function(t,e){return!!t.eat("*")&&(e.tokenize=i,i(t,e))}},name:"css",helperType:"gss"})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,i){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(i||0)))}t.defineMode("javascript",function(i,n){function r(t){for(var e,i=!1,n=!1;null!=(e=t.next());){if(!i){if("/"==e&&!n)return;"["==e?n=!0:n&&"]"==e&&(n=!1)}i=!i&&"\\"==e}}function o(t,e,i){return St=t,Tt=i,e}function s(t,i){var n=t.next();if('"'==n||"'"==n)return i.tokenize=a(n),i.tokenize(t,i);if("."==n&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==n&&t.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return o(n);if("="==n&&t.eat(">"))return o("=>","operator");if("0"==n&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),o("number","number");if("0"==n&&t.eat(/o/i))return t.eatWhile(/[0-7]/i),o("number","number");if("0"==n&&t.eat(/b/i))return t.eatWhile(/[01]/i),o("number","number");if(/\d/.test(n))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==n)return t.eat("*")?(i.tokenize=l,l(t,i)):t.eat("/")?(t.skipToEnd(),o("comment","comment")):e(t,i,1)?(r(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(t.eatWhile(Dt),o("operator","operator",t.current()));if("`"==n)return i.tokenize=c,c(t,i);if("#"==n)return t.skipToEnd(),o("error","error");if(Dt.test(n))return">"==n&&i.lexical&&">"==i.lexical.type||t.eatWhile(Dt),o("operator","operator",t.current());if(Pt.test(n)){t.eatWhile(Pt);var s=t.current(),u=It.propertyIsEnumerable(s)&&It[s];return u&&"."!=i.lastType?o(u.type,u.style,s):o("variable","variable",s)}}function a(t){return function(e,i){var n,r=!1;if(Mt&&"@"==e.peek()&&e.match(Ot))return i.tokenize=s,o("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=t||r);)r=!r&&"\\"==n;return r||(i.tokenize=s),o("string","string")}}function l(t,e){for(var i,n=!1;i=t.next();){if("/"==i&&n){e.tokenize=s;break}n="*"==i}return o("comment","comment")}function c(t,e){for(var i,n=!1;null!=(i=t.next());){if(!n&&("`"==i||"$"==i&&t.eat("{"))){e.tokenize=s;break}n=!n&&"\\"==i}return o("quasi","string-2",t.current())}function u(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var i=t.string.indexOf("=>",t.start);if(!(i<0)){if(Nt){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,i));n&&(i=n.index)}for(var r=0,o=!1,s=i-1;s>=0;--s){var a=t.string.charAt(s),l=Rt.indexOf(a);if(l>=0&&l<3){if(!r){++s;break}if(0==--r){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++r;else if(Pt.test(a))o=!0;else{if(/["'\/]/.test(a))return;if(o&&!r){++s;break}}}o&&!r&&(e.fatArrowAt=s)}}function h(t,e,i,n,r,o){this.indented=t,this.column=e,this.type=i,this.prev=r,this.info=o,null!=n&&(this.align=n)}function p(t,e){for(var i=t.localVars;i;i=i.next)if(i.name==e)return!0;for(var n=t.context;n;n=n.prev)for(var i=n.vars;i;i=i.next)if(i.name==e)return!0}function f(t,e,i,n,r){var o=t.cc;for(Ht.state=t,Ht.stream=r,Ht.marked=null,Ht.cc=o,Ht.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var s=o.length?o.pop():Lt?k:w;if(s(i,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ht.marked?Ht.marked:"variable"==i&&p(t,n)?"variable-2":e}}}function d(){for(var t=arguments.length-1;t>=0;t--)Ht.cc.push(arguments[t])}function m(){return d.apply(null,arguments),!0}function g(t){function e(e){for(var i=e;i;i=i.next)if(i.name==t)return!0;return!1}var i=Ht.state;if(Ht.marked="def",i.context){if(e(i.localVars))return;i.localVars={name:t,next:i.localVars}}else{if(e(i.globalVars))return;n.globalVars&&(i.globalVars={name:t,next:i.globalVars})}}function v(){Ht.state.context={prev:Ht.state.context,vars:Ht.state.localVars},Ht.state.localVars=jt}function y(){Ht.state.localVars=Ht.state.context.vars,Ht.state.context=Ht.state.context.prev}function b(t,e){var i=function(){var i=Ht.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var r=i.lexical;r&&")"==r.type&&r.align;r=r.prev)n=r.indented;i.lexical=new h(n,Ht.stream.column(),t,null,i.lexical,e)};return i.lex=!0,i}function x(){var t=Ht.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function _(t){function e(i){return i==t?m():";"==t?d():m(e)}return e}function w(t,e){return"var"==t?m(b("vardef",e.length),Z,_(";"),x):"keyword a"==t?m(b("form"),S,w,x):"keyword b"==t?m(b("form"),w,x):"{"==t?m(b("}"),U,x):";"==t?m():"if"==t?("else"==Ht.state.lexical.info&&Ht.state.cc[Ht.state.cc.length-1]==x&&Ht.state.cc.pop()(),m(b("form"),S,w,x,nt)):"function"==t?m(ct):"for"==t?m(b("form"),rt,w,x):"variable"==t?Nt&&"type"==e?(Ht.marked="keyword",m(K,_("operator"),K,_(";"))):m(b("stat"),H):"switch"==t?m(b("form"),S,b("}","switch"),_("{"),U,x,x):"case"==t?m(k,_(":")):"default"==t?m(_(":")):"catch"==t?m(b("form"),v,_("("),ut,_(")"),w,x,y):"class"==t?m(b("form"),pt,x):"export"==t?m(b("stat"),gt,x):"import"==t?m(b("stat"),yt,x):"module"==t?m(b("form"),J,b("}"),_("{"),U,x,x):"async"==t?m(w):"@"==e?m(k,w):d(b("stat"),k,_(";"),x)}function k(t){return T(t,!1)}function C(t){return T(t,!0)}function S(t){return"("!=t?d():m(b(")"),k,_(")"),x)}function T(t,e){if(Ht.state.fatArrowAt==Ht.stream.start){var i=e?D:I;if("("==t)return m(v,b(")"),q(J,")"),x,_("=>"),i,y);if("variable"==t)return d(v,J,_("=>"),i,y)}var n=e?L:M;return Ft.hasOwnProperty(t)?m(n):"function"==t?m(ct,n):"class"==t?m(b("form"),ht,x):"keyword c"==t||"async"==t?m(e?A:E):"("==t?m(b(")"),E,_(")"),x,n):"operator"==t||"spread"==t?m(e?C:k):"["==t?m(b("]"),kt,x,n):"{"==t?$(z,"}",null,n):"quasi"==t?d(N,n):"new"==t?m(O(e)):m()}function E(t){return t.match(/[;\}\)\],]/)?d():d(k)}function A(t){return t.match(/[;\}\)\],]/)?d():d(C)}function M(t,e){return","==t?m(k):L(t,e,!1)}function L(t,e,i){var n=0==i?M:L,r=0==i?k:C;return"=>"==t?m(v,i?D:I,y):"operator"==t?/\+\+|--/.test(e)?m(n):"?"==e?m(k,_(":"),r):m(r):"quasi"==t?d(N,n):";"!=t?"("==t?$(C,")","call",n):"."==t?m(j,n):"["==t?m(b("]"),E,_("]"),x,n):void 0:void 0}function N(t,e){return"quasi"!=t?d():"${"!=e.slice(e.length-2)?m(N):m(k,P)}function P(t){if("}"==t)return Ht.marked="string-2",Ht.state.tokenize=c,m(N)}function I(t){return u(Ht.stream,Ht.state),d("{"==t?w:k)}function D(t){return u(Ht.stream,Ht.state),d("{"==t?w:C)}function O(t){return function(e){return"."==e?m(t?F:R):d(t?C:k)}}function R(t,e){if("target"==e)return Ht.marked="keyword",m(M)}function F(t,e){if("target"==e)return Ht.marked="keyword",m(L)}function H(t){return":"==t?m(x,w):d(M,_(";"),x)}function j(t){if("variable"==t)return Ht.marked="property",m()}function z(t,e){return"async"==t?(Ht.marked="property",m(z)):"variable"==t||"keyword"==Ht.style?(Ht.marked="property",m("get"==e||"set"==e?W:B)):"number"==t||"string"==t?(Ht.marked=Mt?"property":Ht.style+" property",m(B)):"jsonld-keyword"==t?m(B):"modifier"==t?m(z):"["==t?m(k,_("]"),B):"spread"==t?m(k):":"==t?d(B):void 0}function W(t){return"variable"!=t?d(B):(Ht.marked="property",m(ct))}function B(t){return":"==t?m(C):"("==t?d(ct):void 0}function q(t,e,i){function n(r,o){if(i?i.indexOf(r)>-1:","==r){var s=Ht.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),m(function(i,n){return i==e||n==e?d():d(t)},n)}return r==e||o==e?m():m(_(e))}return function(i,r){return i==e||r==e?m():d(t,n)}}function $(t,e,i){for(var n=3;n<arguments.length;n++)Ht.cc.push(arguments[n]);return m(b(e,i),q(t,e),x)}function U(t){return"}"==t?m():d(w,U)}function V(t,e){if(Nt){if(":"==t)return m(K);if("?"==e)return m(V)}}function K(t){return"variable"==t?(Ht.marked="variable-3",m(Q)):"string"==t||"number"==t||"atom"==t?m(Q):"{"==t?m(b("}"),q(G,"}",",;"),x):"("==t?m(q(X,")"),Y):void 0}function Y(t){if("=>"==t)return m(K)}function G(t,e){return"variable"==t||"keyword"==Ht.style?(Ht.marked="property",m(G)):"?"==e?m(G):":"==t?m(K):void 0}function X(t){return"variable"==t?m(X):":"==t?m(K):void 0}function Q(t,e){return"<"==e?m(b(">"),q(K,">"),x,Q):"|"==e||"."==t?m(K):"["==t?m(_("]"),Q):void 0}function Z(){return d(J,V,et,it)}function J(t,e){return"modifier"==t?m(J):"variable"==t?(g(e),m()):"spread"==t?m(J):"["==t?$(J,"]"):"{"==t?$(tt,"}"):void 0}function tt(t,e){return"variable"!=t||Ht.stream.match(/^\s*:/,!1)?("variable"==t&&(Ht.marked="property"),"spread"==t?m(J):"}"==t?d():m(_(":"),J,et)):(g(e),m(et))}function et(t,e){if("="==e)return m(C)}function it(t){if(","==t)return m(Z)}function nt(t,e){if("keyword b"==t&&"else"==e)return m(b("form","else"),w,x)}function rt(t){if("("==t)return m(b(")"),ot,_(")"),x)}function ot(t){return"var"==t?m(Z,_(";"),at):";"==t?m(at):"variable"==t?m(st):d(k,_(";"),at)}function st(t,e){return"in"==e||"of"==e?(Ht.marked="keyword",m(k)):m(M,at)}function at(t,e){return";"==t?m(lt):"in"==e||"of"==e?(Ht.marked="keyword",m(k)):d(k,_(";"),lt)}function lt(t){")"!=t&&m(k)}function ct(t,e){return"*"==e?(Ht.marked="keyword",m(ct)):"variable"==t?(g(e),m(ct)):"("==t?m(v,b(")"),q(ut,")"),x,V,w,y):Nt&&"<"==e?m(b(">"),q(K,">"),x,ct):void 0}function ut(t){return"spread"==t?m(ut):d(J,V,et)}function ht(t,e){return"variable"==t?pt(t,e):ft(t,e)}function pt(t,e){if("variable"==t)return g(e),m(ft)}function ft(t,e){return"<"==e?m(b(">"),q(K,">"),x,ft):"extends"==e||"implements"==e||Nt&&","==t?m(Nt?K:k,ft):"{"==t?m(b("}"),dt,x):void 0}function dt(t,e){return"variable"==t||"keyword"==Ht.style?("async"==e||"static"==e||"get"==e||"set"==e||Nt&&("public"==e||"private"==e||"protected"==e||"readonly"==e||"abstract"==e))&&Ht.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Ht.marked="keyword",m(dt)):(Ht.marked="property",m(Nt?mt:ct,dt)):"["==t?m(k,_("]"),Nt?mt:ct,dt):"*"==e?(Ht.marked="keyword",m(dt)):";"==t?m(dt):"}"==t?m():"@"==e?m(k,dt):void 0}function mt(t,e){return"?"==e?m(mt):":"==t?m(K,et):"="==e?m(C):d(ct)}function gt(t,e){return"*"==e?(Ht.marked="keyword",m(wt,_(";"))):"default"==e?(Ht.marked="keyword",m(k,_(";"))):"{"==t?m(q(vt,"}"),wt,_(";")):d(w)}function vt(t,e){return"as"==e?(Ht.marked="keyword",m(_("variable"))):"variable"==t?d(C,vt):void 0}function yt(t){
return"string"==t?m():d(bt,xt,wt)}function bt(t,e){return"{"==t?$(bt,"}"):("variable"==t&&g(e),"*"==e&&(Ht.marked="keyword"),m(_t))}function xt(t){if(","==t)return m(bt,xt)}function _t(t,e){if("as"==e)return Ht.marked="keyword",m(bt)}function wt(t,e){if("from"==e)return Ht.marked="keyword",m(k)}function kt(t){return"]"==t?m():d(q(C,"]"))}function Ct(t,e){return"operator"==t.lastType||","==t.lastType||Dt.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}var St,Tt,Et=i.indentUnit,At=n.statementIndent,Mt=n.jsonld,Lt=n.json||Mt,Nt=n.typescript,Pt=n.wordCharacters||/[\w$\xa1-\uffff]/,It=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),i=t("keyword b"),n=t("keyword c"),r=t("operator"),o={type:"atom",style:"atom"},s={"if":t("if"),"while":e,"with":e,"else":i,"do":i,"try":i,"finally":i,"return":n,"break":n,"continue":n,"new":t("new"),"delete":n,"throw":n,"debugger":n,"var":t("var"),"const":t("var"),"let":t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this"),"class":t("class"),"super":t("atom"),"yield":n,"export":t("export"),"import":t("import"),"extends":n,await:n,async:t("async")};if(Nt){var a={type:"variable",style:"variable-3"},l={"interface":t("class"),"implements":n,namespace:n,module:t("module"),"enum":t("module"),"public":t("modifier"),"private":t("modifier"),"protected":t("modifier"),"abstract":t("modifier"),as:r,string:a,number:a,"boolean":a,any:a};for(var c in l)s[c]=l[c]}return s}(),Dt=/[+\-*&%=<>!?|~^@]/,Ot=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Rt="([{}])",Ft={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ht={state:null,column:null,marked:null,cc:null},jt={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(t){var e={tokenize:s,lastType:"sof",cc:[],lexical:new h((t||0)-Et,0,"block",(!1)),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),u(t,e)),e.tokenize!=l&&t.eatSpace())return null;var i=e.tokenize(t,e);return"comment"==St?i:(e.lastType="operator"!=St||"++"!=Tt&&"--"!=Tt?St:"incdec",f(e,i,St,Tt,t))},indent:function(e,i){if(e.tokenize==l)return t.Pass;if(e.tokenize!=s)return 0;var r,o=i&&i.charAt(0),a=e.lexical;if(!/^\s*else\b/.test(i))for(var c=e.cc.length-1;c>=0;--c){var u=e.cc[c];if(u==x)a=a.prev;else if(u!=nt)break}for(;("stat"==a.type||"form"==a.type)&&("}"==o||(r=e.cc[e.cc.length-1])&&(r==M||r==L)&&!/^[,\.=+\-*:?[\(]/.test(i));)a=a.prev;At&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var h=a.type,p=o==h;return"vardef"==h?a.indented+("operator"==e.lastType||","==e.lastType?a.info+1:0):"form"==h&&"{"==o?a.indented:"form"==h?a.indented+Et:"stat"==h?a.indented+(Ct(e,i)?At||Et:0):"switch"!=a.info||p||0==n.doubleIndentSwitch?a.align?a.column+(p?0:1):a.indented+(p?0:Et):a.indented+(/^(?:case|default)\b/.test(i)?Et:2*Et)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Lt?null:"/*",blockCommentEnd:Lt?null:"*/",lineComment:Lt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Lt?"json":"javascript",jsonldMode:Mt,jsonMode:Lt,expressionAllowed:e,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=k&&e!=C||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,i){var n=t.current(),r=n.search(e);return r>-1?t.backUp(n.length-r):n.match(/<\/?$/)&&(t.backUp(n.length),t.match(e,!1)||t.match(n)),i}function i(t){var e=l[t];return e?e:l[t]=new RegExp("\\s+"+t+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function n(t,e){var n=t.match(i(e));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function r(t,e){return new RegExp((e?"^":"")+"</s*"+t+"s*>","i")}function o(t,e){for(var i in t)for(var n=e[i]||(e[i]=[]),r=t[i],o=r.length-1;o>=0;o--)n.unshift(r[o])}function s(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(!r[0]||r[1].test(n(e,r[0])))return r[2]}}var a={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},l={};t.defineMode("htmlmixed",function(i,n){function l(n,o){var a,h=c.token(n,o.htmlState),p=/\btag\b/.test(h);if(p&&!/[<>\s\/]/.test(n.current())&&(a=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&u.hasOwnProperty(a))o.inTag=a+" ";else if(o.inTag&&p&&/>$/.test(n.current())){var f=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var d=">"==n.current()&&s(u[f[1]],f[2]),m=t.getMode(i,d),g=r(f[1],!0),v=r(f[1],!1);o.token=function(t,i){return t.match(g,!1)?(i.token=l,i.localState=i.localMode=null,null):e(t,v,i.localMode.token(t,i.localState))},o.localMode=m,o.localState=t.startState(m,c.indent(o.htmlState,""))}else o.inTag&&(o.inTag+=n.current(),n.eol()&&(o.inTag+=" "));return h}var c=t.getMode(i,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),u={},h=n&&n.tags,p=n&&n.scriptTypes;if(o(a,u),h&&o(h,u),p)for(var f=p.length-1;f>=0;f--)u.script.unshift(["type",p[f].matches,p[f].mode]);return{startState:function(){var e=t.startState(c);return{token:l,inTag:null,localMode:null,localState:null,htmlState:e}},copyState:function(e){var i;return e.localState&&(i=t.copyState(e.localMode,e.localState)),{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:i,htmlState:t.copyState(c,e.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(e,i){return!e.localMode||/^\s*<\//.test(i)?c.indent(e.htmlState,i):e.localMode.indent?e.localMode.indent(e.localState,i):t.Pass},innerMode:function(t){return{state:t.localState||t.htmlState,mode:t.localMode||c}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../clike/clike")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../clike/clike"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e={},i=t.split(" "),n=0;n<i.length;++n)e[i[n]]=!0;return e}function i(t,e,r){return 0==t.length?n(e):function(o,s){for(var a=t[0],l=0;l<a.length;l++)if(o.match(a[l][0]))return s.tokenize=i(t.slice(1),e),a[l][1];return s.tokenize=n(e,r),"string"}}function n(t,e){return function(i,n){return r(i,n,t,e)}}function r(t,e,n,r){if(r!==!1&&t.match("${",!1)||t.match("{$",!1))return e.tokenize=null,"string";if(r!==!1&&t.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/))return t.match("[",!1)&&(e.tokenize=i([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],n,r)),t.match(/\-\>\w/,!1)&&(e.tokenize=i([[["->",null]],[[/[\w]+/,"variable"]]],n,r)),"variable-2";for(var o=!1;!t.eol()&&(o||r===!1||!t.match("{$",!1)&&!t.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1));){if(!o&&t.match(n)){e.tokenize=null,e.tokStack.pop(),e.tokStack.pop();break}o="\\"==t.next()&&!o}return"string"}var o="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",s="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",a="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";t.registerHelper("hintWords","php",[o,s,a].join(" ").split(" ")),t.registerHelper("wordChars","php",/[\w$]/);var l={name:"clike",helperType:"php",keywords:e(o),blockKeywords:e("catch do else elseif for foreach if switch try while finally"),defKeywords:e("class function interface namespace trait"),atoms:e(s),builtin:e(a),multiLineStrings:!0,hooks:{$:function(t){return t.eatWhile(/[\w\$_]/),"variable-2"},"<":function(t,e){var i;if(i=t.match(/<<\s*/)){var r=t.eat(/['"]/);t.eatWhile(/[\w\.]/);var o=t.current().slice(i[0].length+(r?2:1));if(r&&t.eat(r),o)return(e.tokStack||(e.tokStack=[])).push(o,0),e.tokenize=n(o,"'"!=r),"string"}return!1},"#":function(t){for(;!t.eol()&&!t.match("?>",!1);)t.next();return"comment"},"/":function(t){if(t.eat("/")){for(;!t.eol()&&!t.match("?>",!1);)t.next();return"comment"}return!1},'"':function(t,e){return(e.tokStack||(e.tokStack=[])).push('"',0),e.tokenize=n('"'),"string"},"{":function(t,e){return e.tokStack&&e.tokStack.length&&e.tokStack[e.tokStack.length-1]++,!1},"}":function(t,e){return e.tokStack&&e.tokStack.length>0&&!--e.tokStack[e.tokStack.length-1]&&(e.tokenize=n(e.tokStack[e.tokStack.length-2])),!1}}};t.defineMode("php",function(e,i){function n(e,i){var n=i.curMode==o;if(e.sol()&&i.pending&&'"'!=i.pending&&"'"!=i.pending&&(i.pending=null),n)return n&&null==i.php.tokenize&&e.match("?>")?(i.curMode=r,i.curState=i.html,i.php.context.prev||(i.php=null),"meta"):o.token(e,i.curState);if(e.match(/^<\?\w*/))return i.curMode=o,i.php||(i.php=t.startState(o,r.indent(i.html,""))),i.curState=i.php,"meta";if('"'==i.pending||"'"==i.pending){for(;!e.eol()&&e.next()!=i.pending;);var s="string"}else if(i.pending&&e.pos<i.pending.end){e.pos=i.pending.end;var s=i.pending.style}else var s=r.token(e,i.curState);i.pending&&(i.pending=null);var a,l=e.current(),c=l.search(/<\?/);return c!=-1&&("string"==s&&(a=l.match(/[\'\"]$/))&&!/\?>/.test(l)?i.pending=a[0]:i.pending={end:e.pos,style:s},e.backUp(l.length-c)),s}var r=t.getMode(e,"text/html"),o=t.getMode(e,l);return{startState:function(){var e=t.startState(r),n=i.startOpen?t.startState(o):null;return{html:e,php:n,curMode:i.startOpen?o:r,curState:i.startOpen?n:e,pending:null}},copyState:function(e){var i,n=e.html,s=t.copyState(r,n),a=e.php,l=a&&t.copyState(o,a);return i=e.curMode==r?s:l,{html:s,php:l,curMode:e.curMode,curState:i,pending:e.pending}},token:n,indent:function(t,e){return t.curMode!=o&&/^\s*<\//.test(e)||t.curMode==o&&/^\?>/.test(e)?r.indent(t.html,e):t.curMode.indent(t.curState,e)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(t){return{state:t.curState,mode:t.curMode}}}},"htmlmixed","clike"),t.defineMIME("application/x-httpd-php","php"),t.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),t.defineMIME("text/x-php",l)}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t){return new RegExp("^(("+t.join(")|(")+"))\\b")}function i(t){return t.scopes[t.scopes.length-1]}var n=e(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];t.registerHelper("hintWords","python",r.concat(o)),t.defineMode("python",function(s,a){function l(t,e){if(t.sol()&&(e.indent=t.indentation()),t.sol()&&"py"==i(e).type){var n=i(e).offset;if(t.eatSpace()){var r=t.indentation();return r>n?h(e):r<n&&f(t,e)&&"#"!=t.peek()&&(e.errorToken=!0),null}var o=c(t,e);return n>0&&f(t,e)&&(o+=" "+m),o}return c(t,e)}function c(t,e){if(t.eatSpace())return null;var i=t.peek();if("#"==i)return t.skipToEnd(),"comment";if(t.match(/^[0-9\.]/,!1)){var r=!1;if(t.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),t.match(/^[\d_]+\.\d*/)&&(r=!0),t.match(/^\.\d+/)&&(r=!0),r)return t.eat(/J/i),"number";var o=!1;if(t.match(/^0x[0-9a-f_]+/i)&&(o=!0),t.match(/^0b[01_]+/i)&&(o=!0),t.match(/^0o[0-7_]+/i)&&(o=!0),t.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(t.eat(/J/i),o=!0),t.match(/^0(?![\dx])/i)&&(o=!0),o)return t.eat(/L/i),"number"}return t.match(T)?(e.tokenize=u(t.current()),e.tokenize(t,e)):t.match(b)||t.match(y)?"punctuation":t.match(v)||t.match(C)?"operator":t.match(g)?"punctuation":"."==e.lastToken&&t.match(S)?"property":t.match(E)||t.match(n)?"keyword":t.match(A)?"builtin":t.match(/^(self|cls)\b/)?"variable-2":t.match(S)?"def"==e.lastToken||"class"==e.lastToken?"def":"variable":(t.next(),m)}function u(t){function e(e,r){for(;!e.eol();)if(e.eatWhile(/[^'"\\]/),e.eat("\\")){if(e.next(),i&&e.eol())return n}else{if(e.match(t))return r.tokenize=l,n;e.eat(/['"]/)}if(i){if(a.singleLineStringErrors)return m;r.tokenize=l}return n}for(;"rubf".indexOf(t.charAt(0).toLowerCase())>=0;)t=t.substr(1);var i=1==t.length,n="string";return e.isString=!0,e}function h(t){for(;"py"!=i(t).type;)t.scopes.pop();t.scopes.push({offset:i(t).offset+s.indentUnit,type:"py",align:null})}function p(t,e,i){var n=t.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:t.column()+1;e.scopes.push({offset:e.indent+x,type:i,align:n})}function f(t,e){for(var n=t.indentation();e.scopes.length>1&&i(e).offset>n;){if("py"!=i(e).type)return!0;e.scopes.pop()}return i(e).offset!=n}function d(t,e){t.sol()&&(e.beginningOfLine=!0);var n=e.tokenize(t,e),r=t.current();if(e.beginningOfLine&&"@"==r)return t.match(S,!1)?"meta":k?"operator":m;/\S/.test(r)&&(e.beginningOfLine=!1),"variable"!=n&&"builtin"!=n||"meta"!=e.lastToken||(n="meta"),"pass"!=r&&"return"!=r||(e.dedent+=1),"lambda"==r&&(e.lambda=!0),":"!=r||e.lambda||"py"!=i(e).type||h(e);var o=1==r.length?"[({".indexOf(r):-1;if(o!=-1&&p(t,e,"])}".slice(o,o+1)),o="])}".indexOf(r),o!=-1){if(i(e).type!=r)return m;e.indent=e.scopes.pop().offset-x}return e.dedent>0&&t.eol()&&"py"==i(e).type&&(e.scopes.length>1&&e.scopes.pop(),e.dedent-=1),n}var m="error",g=a.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.]/,v=a.doubleOperators||/^([!<>]==|<>|<<|>>|\/\/|\*\*)/,y=a.doubleDelimiters||/^(\+=|\-=|\*=|%=|\/=|&=|\|=|\^=)/,b=a.tripleDelimiters||/^(\/\/=|>>=|<<=|\*\*=)/,x=a.hangingIndent||s.indentUnit,_=r,w=o;void 0!=a.extra_keywords&&(_=_.concat(a.extra_keywords)),void 0!=a.extra_builtins&&(w=w.concat(a.extra_builtins));var k=!(a.version&&Number(a.version)<3);if(k){var C=a.singleOperators||/^[\+\-\*\/%&|\^~<>!@]/,S=a.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;_=_.concat(["nonlocal","False","True","None","async","await"]),w=w.concat(["ascii","bytes","exec","print"]);var T=new RegExp("^(([rbuf]|(br))?('{3}|\"{3}|['\"]))","i")}else{var C=a.singleOperators||/^[\+\-\*\/%&|\^~<>!]/,S=a.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;_=_.concat(["exec","print"]),w=w.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var T=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var E=e(_),A=e(w),M={startState:function(t){return{tokenize:l,scopes:[{offset:t||0,type:"py",align:null}],indent:t||0,lastToken:null,lambda:!1,dedent:0}},token:function(t,e){var i=e.errorToken;i&&(e.errorToken=!1);var n=d(t,e);return n&&"comment"!=n&&(e.lastToken="keyword"==n||"punctuation"==n?t.current():n),"punctuation"==n&&(n=null),t.eol()&&e.lambda&&(e.lambda=!1),i?n+" "+m:n},indent:function(e,n){if(e.tokenize!=l)return e.tokenize.isString?t.Pass:0;var r=i(e),o=r.type==n.charAt(0);return null!=r.align?r.align-(o?1:0):r.offset-(o?x:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return M}),t.defineMIME("text/x-python","python");var s=function(t){return t.split(" ")};t.defineMIME("text/x-cython",{name:"python",extra_keywords:s("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("ruby",function(t){function e(t){for(var e={},i=0,n=t.length;i<n;++i)e[t[i]]=!0;return e}function i(t,e,i){return i.tokenize.push(t),t(e,i)}function n(t,e){if(t.sol()&&t.match("=begin")&&t.eol())return e.tokenize.push(c),"comment";if(t.eatSpace())return null;var n,o=t.next();if("`"==o||"'"==o||'"'==o)return i(a(o,"string",'"'==o||"`"==o),t,e);if("/"==o)return r(t)?i(a(o,"string-2",!0),t,e):"operator";if("%"==o){var s="string",h=!0;t.eat("s")?s="atom":t.eat(/[WQ]/)?s="string":t.eat(/[r]/)?s="string-2":t.eat(/[wxq]/)&&(s="string",h=!1);var p=t.eat(/[^\w\s=]/);return p?(d.propertyIsEnumerable(p)&&(p=d[p]),i(a(p,s,h,!0),t,e)):"operator"}if("#"==o)return t.skipToEnd(),"comment";if("<"==o&&(n=t.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return i(l(n[1]),t,e);if("0"==o)return t.eat("x")?t.eatWhile(/[\da-fA-F]/):t.eat("b")?t.eatWhile(/[01]/):t.eatWhile(/[0-7]/),"number";if(/\d/.test(o))return t.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==o){for(;t.match(/^\\[CM]-/););return t.eat("\\")?t.eatWhile(/\w/):t.next(),"string"}if(":"==o)return t.eat("'")?i(a("'","atom",!1),t,e):t.eat('"')?i(a('"',"atom",!0),t,e):t.eat(/[\<\>]/)?(t.eat(/[\<\>]/),"atom"):t.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":t.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(t.eatWhile(/[\w$\xa1-\uffff]/),t.eat(/[\?\!\=]/),"atom"):"operator";if("@"==o&&t.match(/^@?[a-zA-Z_\xa1-\uffff]/))return t.eat("@"),t.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==o)return t.eat(/[a-zA-Z_]/)?t.eatWhile(/[\w]/):t.eat(/\d/)?t.eat(/\d/):t.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(o))return t.eatWhile(/[\w\xa1-\uffff]/),t.eat(/[\?\!]/),t.eat(":")?"atom":"ident";if("|"!=o||!e.varList&&"{"!=e.lastTok&&"do"!=e.lastTok){if(/[\(\)\[\]{}\\;]/.test(o))return u=o,null;if("-"==o&&t.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(o)){var f=t.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=o||f||(u="."),"operator"}return null}return u="|",null}function r(t){for(var e,i=t.pos,n=0,r=!1,o=!1;null!=(e=t.next());)if(o)o=!1;else{if("[{(".indexOf(e)>-1)n++;else if("]})".indexOf(e)>-1){if(n--,n<0)break}else if("/"==e&&0==n){r=!0;break}o="\\"==e}return t.backUp(t.pos-i),r}function o(t){return t||(t=1),function(e,i){if("}"==e.peek()){if(1==t)return i.tokenize.pop(),i.tokenize[i.tokenize.length-1](e,i);i.tokenize[i.tokenize.length-1]=o(t-1)}else"{"==e.peek()&&(i.tokenize[i.tokenize.length-1]=o(t+1));return n(e,i)}}function s(){var t=!1;return function(e,i){return t?(i.tokenize.pop(),i.tokenize[i.tokenize.length-1](e,i)):(t=!0,n(e,i))}}function a(t,e,i,n){return function(r,a){var l,c=!1;for("read-quoted-paused"===a.context.type&&(a.context=a.context.prev,r.eat("}"));null!=(l=r.next());){if(l==t&&(n||!c)){a.tokenize.pop();break}if(i&&"#"==l&&!c){if(r.eat("{")){"}"==t&&(a.context={prev:a.context,type:"read-quoted-paused"}),a.tokenize.push(o());break}if(/[@\$]/.test(r.peek())){a.tokenize.push(s());break}}c=!c&&"\\"==l}return e}}function l(t){return function(e,i){return e.match(t)?i.tokenize.pop():e.skipToEnd(),"string"}}function c(t,e){return t.sol()&&t.match("=end")&&t.eol()&&e.tokenize.pop(),t.skipToEnd(),"comment"}var u,h=e(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),p=e(["def","class","case","for","while","until","module","then","catch","loop","proc","begin"]),f=e(["end","until"]),d={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[n],indented:0,context:{type:"top",indented:-t.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(t,e){u=null,t.sol()&&(e.indented=t.indentation());var i,n=e.tokenize[e.tokenize.length-1](t,e),r=u;if("ident"==n){var o=t.current();n="."==e.lastTok?"property":h.propertyIsEnumerable(t.current())?"keyword":/^[A-Z]/.test(o)?"tag":"def"==e.lastTok||"class"==e.lastTok||e.varList?"def":"variable","keyword"==n&&(r=o,p.propertyIsEnumerable(o)?i="indent":f.propertyIsEnumerable(o)?i="dedent":"if"!=o&&"unless"!=o||t.column()!=t.indentation()?"do"==o&&e.context.indented<e.indented&&(i="indent"):i="indent")}return(u||n&&"comment"!=n)&&(e.lastTok=r),"|"==u&&(e.varList=!e.varList),"indent"==i||/[\(\[\{]/.test(u)?e.context={prev:e.context,type:u||n,indented:e.indented}:("dedent"==i||/[\)\]\}]/.test(u))&&e.context.prev&&(e.context=e.context.prev),t.eol()&&(e.continuedLine="\\"==u||"operator"==n),n},indent:function(e,i){if(e.tokenize[e.tokenize.length-1]!=n)return 0;var r=i&&i.charAt(0),o=e.context,s=o.type==d[r]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(i);return o.indented+(s?0:t.indentUnit)+(e.continuedLine?t.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#"}}),t.defineMIME("text/x-ruby","ruby")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror);
}(function(t){"use strict";t.defineMode("vb",function(e,i){function n(t){return new RegExp("^(("+t.join(")|(")+"))\\b","i")}function r(t,e){e.currentIndent++}function o(t,e){e.currentIndent--}function s(t,e){if(t.eatSpace())return null;var i=t.peek();if("'"===i)return t.skipToEnd(),"comment";if(t.match(/^((&H)|(&O))?[0-9\.a-f]/i,!1)){var n=!1;if(t.match(/^\d*\.\d+F?/i)?n=!0:t.match(/^\d+\.\d*F?/)?n=!0:t.match(/^\.\d+F?/)&&(n=!0),n)return t.eat(/J/i),"number";var s=!1;if(t.match(/^&H[0-9a-f]+/i)?s=!0:t.match(/^&O[0-7]+/i)?s=!0:t.match(/^[1-9]\d*F?/)?(t.eat(/J/i),s=!0):t.match(/^0(?![\dx])/i)&&(s=!0),s)return t.eat(/L/i),"number"}return t.match(S)?(e.tokenize=a(t.current()),e.tokenize(t,e)):t.match(d)||t.match(f)?null:t.match(p)||t.match(u)||t.match(x)?"operator":t.match(h)?null:t.match(L)?(r(t,e),e.doInCurrentLine=!0,"keyword"):t.match(T)?(e.doInCurrentLine?e.doInCurrentLine=!1:r(t,e),"keyword"):t.match(E)?"keyword":t.match(M)?(o(t,e),o(t,e),"keyword"):t.match(A)?(o(t,e),"keyword"):t.match(C)?"keyword":t.match(k)?"keyword":t.match(m)?"variable":(t.next(),c)}function a(t){var e=1==t.length,n="string";return function(r,o){for(;!r.eol();){if(r.eatWhile(/[^'"]/),r.match(t))return o.tokenize=s,n;r.eat(/['"]/)}if(e){if(i.singleLineStringErrors)return c;o.tokenize=s}return n}}function l(t,e){var i=e.tokenize(t,e),n=t.current();if("."===n)return i=e.tokenize(t,e),n=t.current(),"variable"===i?"variable":c;var s="[({".indexOf(n);return s!==-1&&r(t,e),"dedent"===N&&o(t,e)?c:(s="])}".indexOf(n),s!==-1&&o(t,e)?c:i)}var c="error",u=new RegExp("^[\\+\\-\\*/%&\\\\|\\^~<>!]"),h=new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),p=new RegExp("^((==)|(<>)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),f=new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),d=new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),m=new RegExp("^[_A-Za-z][_A-Za-z0-9]*"),g=["class","module","sub","enum","select","while","if","function","get","set","property","try"],v=["else","elseif","case","catch"],y=["next","loop"],b=["and","or","not","xor","in"],x=n(b),_=["as","dim","break","continue","optional","then","until","goto","byval","byref","new","handles","property","return","const","private","protected","friend","public","shared","static","true","false"],w=["integer","string","double","decimal","boolean","short","char","float","single"],k=n(_),C=n(w),S='"',T=n(g),E=n(v),A=n(y),M=n(["end"]),L=n(["do"]),N=null;t.registerHelper("hintWords","vb",g.concat(v).concat(y).concat(b).concat(_).concat(w));var P={electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:s,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1}},token:function(t,e){t.sol()&&(e.currentIndent+=e.nextLineIndent,e.nextLineIndent=0,e.doInCurrentLine=0);var i=l(t,e);return e.lastToken={style:i,content:t.current()},i},indent:function(t,i){var n=i.replace(/^\s+|\s+$/g,"");return n.match(A)||n.match(M)||n.match(E)?e.indentUnit*(t.currentIndent-1):t.currentIndent<0?0:t.currentIndent*e.indentUnit},lineComment:"'"};return P}),t.defineMIME("text/x-vb","vb")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){return t.string.charAt(t.pos+(e||0))}function i(t,e){if(e){var i=t.pos-e;return t.string.substr(i>=0?i:0,e)}return t.string.substr(0,t.pos-1)}function n(t,e){var i=t.string.length,n=i-t.pos+1;return t.string.substr(t.pos,e&&e<i?e:n)}function r(t,e){var i,n=t.pos+e;n<=0?t.pos=0:n>=(i=t.string.length-1)?t.pos=i:t.pos=n}t.defineMode("perl",function(){function t(t,e,i,n,r){return e.chain=null,e.style=null,e.tail=null,e.tokenize=function(t,e){for(var o,a=!1,l=0;o=t.next();){if(o===i[l]&&!a)return void 0!==i[++l]?(e.chain=i[l],e.style=n,e.tail=r):r&&t.eatWhile(r),e.tokenize=s,n;a=!a&&"\\"==o}return n},e.tokenize(t,e)}function o(t,e,i){return e.tokenize=function(t,e){return t.string==i&&(e.tokenize=s),t.skipToEnd(),"string"},e.tokenize(t,e)}function s(s,u){if(s.eatSpace())return null;if(u.chain)return t(s,u,u.chain,u.style,u.tail);if(s.match(/^\-?[\d\.]/,!1)&&s.match(/^(\-?(\d*\.\d+(e[+-]?\d+)?|\d+\.\d*)|0x[\da-fA-F]+|0b[01]+|\d+(e[+-]?\d+)?)/))return"number";if(s.match(/^<<(?=\w)/))return s.eatWhile(/\w/),o(s,u,s.current().substr(2));if(s.sol()&&s.match(/^\=item(?!\w)/))return o(s,u,"=cut");var h=s.next();if('"'==h||"'"==h){if(i(s,3)=="<<"+h){var p=s.pos;s.eatWhile(/\w/);var f=s.current().substr(1);if(f&&s.eat(h))return o(s,u,f);s.pos=p}return t(s,u,[h],"string")}if("q"==h){var d=e(s,-2);if(!d||!/\w/.test(d))if(d=e(s,0),"x"==d){if(d=e(s,1),"("==d)return r(s,2),t(s,u,[")"],l,c);if("["==d)return r(s,2),t(s,u,["]"],l,c);if("{"==d)return r(s,2),t(s,u,["}"],l,c);if("<"==d)return r(s,2),t(s,u,[">"],l,c);if(/[\^'"!~\/]/.test(d))return r(s,1),t(s,u,[s.eat(d)],l,c)}else if("q"==d){if(d=e(s,1),"("==d)return r(s,2),t(s,u,[")"],"string");if("["==d)return r(s,2),t(s,u,["]"],"string");if("{"==d)return r(s,2),t(s,u,["}"],"string");if("<"==d)return r(s,2),t(s,u,[">"],"string");if(/[\^'"!~\/]/.test(d))return r(s,1),t(s,u,[s.eat(d)],"string")}else if("w"==d){if(d=e(s,1),"("==d)return r(s,2),t(s,u,[")"],"bracket");if("["==d)return r(s,2),t(s,u,["]"],"bracket");if("{"==d)return r(s,2),t(s,u,["}"],"bracket");if("<"==d)return r(s,2),t(s,u,[">"],"bracket");if(/[\^'"!~\/]/.test(d))return r(s,1),t(s,u,[s.eat(d)],"bracket")}else if("r"==d){if(d=e(s,1),"("==d)return r(s,2),t(s,u,[")"],l,c);if("["==d)return r(s,2),t(s,u,["]"],l,c);if("{"==d)return r(s,2),t(s,u,["}"],l,c);if("<"==d)return r(s,2),t(s,u,[">"],l,c);if(/[\^'"!~\/]/.test(d))return r(s,1),t(s,u,[s.eat(d)],l,c)}else if(/[\^'"!~\/(\[{<]/.test(d)){if("("==d)return r(s,1),t(s,u,[")"],"string");if("["==d)return r(s,1),t(s,u,["]"],"string");if("{"==d)return r(s,1),t(s,u,["}"],"string");if("<"==d)return r(s,1),t(s,u,[">"],"string");if(/[\^'"!~\/]/.test(d))return t(s,u,[s.eat(d)],"string")}}if("m"==h){var d=e(s,-2);if((!d||!/\w/.test(d))&&(d=s.eat(/[(\[{<\^'"!~\/]/))){if(/[\^'"!~\/]/.test(d))return t(s,u,[d],l,c);if("("==d)return t(s,u,[")"],l,c);if("["==d)return t(s,u,["]"],l,c);if("{"==d)return t(s,u,["}"],l,c);if("<"==d)return t(s,u,[">"],l,c)}}if("s"==h){var d=/[\/>\]})\w]/.test(e(s,-2));if(!d&&(d=s.eat(/[(\[{<\^'"!~\/]/)))return"["==d?t(s,u,["]","]"],l,c):"{"==d?t(s,u,["}","}"],l,c):"<"==d?t(s,u,[">",">"],l,c):"("==d?t(s,u,[")",")"],l,c):t(s,u,[d,d],l,c)}if("y"==h){var d=/[\/>\]})\w]/.test(e(s,-2));if(!d&&(d=s.eat(/[(\[{<\^'"!~\/]/)))return"["==d?t(s,u,["]","]"],l,c):"{"==d?t(s,u,["}","}"],l,c):"<"==d?t(s,u,[">",">"],l,c):"("==d?t(s,u,[")",")"],l,c):t(s,u,[d,d],l,c)}if("t"==h){var d=/[\/>\]})\w]/.test(e(s,-2));if(!d&&(d=s.eat("r"),d&&(d=s.eat(/[(\[{<\^'"!~\/]/))))return"["==d?t(s,u,["]","]"],l,c):"{"==d?t(s,u,["}","}"],l,c):"<"==d?t(s,u,[">",">"],l,c):"("==d?t(s,u,[")",")"],l,c):t(s,u,[d,d],l,c)}if("`"==h)return t(s,u,[h],"variable-2");if("/"==h)return/~\s*$/.test(i(s))?t(s,u,[h],l,c):"operator";if("$"==h){var p=s.pos;if(s.eatWhile(/\d/)||s.eat("{")&&s.eatWhile(/\d/)&&s.eat("}"))return"variable-2";s.pos=p}if(/[$@%]/.test(h)){var p=s.pos;if(s.eat("^")&&s.eat(/[A-Z]/)||!/[@$%&]/.test(e(s,-2))&&s.eat(/[=|\\\-#?@;:&`~\^!\[\]*'"$+.,\/<>()]/)){var d=s.current();if(a[d])return"variable-2"}s.pos=p}if(/[$@%&]/.test(h)&&(s.eatWhile(/[\w$\[\]]/)||s.eat("{")&&s.eatWhile(/[\w$\[\]]/)&&s.eat("}"))){var d=s.current();return a[d]?"variable-2":"variable"}if("#"==h&&"$"!=e(s,-2))return s.skipToEnd(),"comment";if(/[:+\-\^*$&%@=<>!?|\/~\.]/.test(h)){var p=s.pos;if(s.eatWhile(/[:+\-\^*$&%@=<>!?|\/~\.]/),a[s.current()])return"operator";s.pos=p}if("_"==h&&1==s.pos){if("_END__"==n(s,6))return t(s,u,["\0"],"comment");if("_DATA__"==n(s,7))return t(s,u,["\0"],"variable-2");if("_C__"==n(s,7))return t(s,u,["\0"],"string")}if(/\w/.test(h)){var p=s.pos;if("{"==e(s,-2)&&("}"==e(s,0)||s.eatWhile(/\w/)&&"}"==e(s,0)))return"string";s.pos=p}if(/[A-Z]/.test(h)){var m=e(s,-2),p=s.pos;if(s.eatWhile(/[A-Z_]/),!/[\da-z]/.test(e(s,0))){var d=a[s.current()];return d?(d[1]&&(d=d[0]),":"!=m?1==d?"keyword":2==d?"def":3==d?"atom":4==d?"operator":5==d?"variable-2":"meta":"meta"):"meta"}s.pos=p}if(/[a-zA-Z_]/.test(h)){var m=e(s,-2);s.eatWhile(/\w/);var d=a[s.current()];return d?(d[1]&&(d=d[0]),":"!=m?1==d?"keyword":2==d?"def":3==d?"atom":4==d?"operator":5==d?"variable-2":"meta":"meta"):"meta"}return null}var a={"->":4,"++":4,"--":4,"**":4,"=~":4,"!~":4,"*":4,"/":4,"%":4,x:4,"+":4,"-":4,".":4,"<<":4,">>":4,"<":4,">":4,"<=":4,">=":4,lt:4,gt:4,le:4,ge:4,"==":4,"!=":4,"<=>":4,eq:4,ne:4,cmp:4,"~~":4,"&":4,"|":4,"^":4,"&&":4,"||":4,"//":4,"..":4,"...":4,"?":4,":":4,"=":4,"+=":4,"-=":4,"*=":4,",":4,"=>":4,"::":4,not:4,and:4,or:4,xor:4,BEGIN:[5,1],END:[5,1],PRINT:[5,1],PRINTF:[5,1],GETC:[5,1],READ:[5,1],READLINE:[5,1],DESTROY:[5,1],TIE:[5,1],TIEHANDLE:[5,1],UNTIE:[5,1],STDIN:5,STDIN_TOP:5,STDOUT:5,STDOUT_TOP:5,STDERR:5,STDERR_TOP:5,$ARG:5,$_:5,"@ARG":5,"@_":5,$LIST_SEPARATOR:5,'$"':5,$PROCESS_ID:5,$PID:5,$$:5,$REAL_GROUP_ID:5,$GID:5,"$(":5,$EFFECTIVE_GROUP_ID:5,$EGID:5,"$)":5,$PROGRAM_NAME:5,$0:5,$SUBSCRIPT_SEPARATOR:5,$SUBSEP:5,"$;":5,$REAL_USER_ID:5,$UID:5,"$<":5,$EFFECTIVE_USER_ID:5,$EUID:5,"$>":5,$a:5,$b:5,$COMPILING:5,"$^C":5,$DEBUGGING:5,"$^D":5,"${^ENCODING}":5,$ENV:5,"%ENV":5,$SYSTEM_FD_MAX:5,"$^F":5,"@F":5,"${^GLOBAL_PHASE}":5,"$^H":5,"%^H":5,"@INC":5,"%INC":5,$INPLACE_EDIT:5,"$^I":5,"$^M":5,$OSNAME:5,"$^O":5,"${^OPEN}":5,$PERLDB:5,"$^P":5,$SIG:5,"%SIG":5,$BASETIME:5,"$^T":5,"${^TAINT}":5,"${^UNICODE}":5,"${^UTF8CACHE}":5,"${^UTF8LOCALE}":5,$PERL_VERSION:5,"$^V":5,"${^WIN32_SLOPPY_STAT}":5,$EXECUTABLE_NAME:5,"$^X":5,$1:5,$MATCH:5,"$&":5,"${^MATCH}":5,$PREMATCH:5,"$`":5,"${^PREMATCH}":5,$POSTMATCH:5,"$'":5,"${^POSTMATCH}":5,$LAST_PAREN_MATCH:5,"$+":5,$LAST_SUBMATCH_RESULT:5,"$^N":5,"@LAST_MATCH_END":5,"@+":5,"%LAST_PAREN_MATCH":5,"%+":5,"@LAST_MATCH_START":5,"@-":5,"%LAST_MATCH_START":5,"%-":5,$LAST_REGEXP_CODE_RESULT:5,"$^R":5,"${^RE_DEBUG_FLAGS}":5,"${^RE_TRIE_MAXBUF}":5,$ARGV:5,"@ARGV":5,ARGV:5,ARGVOUT:5,$OUTPUT_FIELD_SEPARATOR:5,$OFS:5,"$,":5,$INPUT_LINE_NUMBER:5,$NR:5,"$.":5,$INPUT_RECORD_SEPARATOR:5,$RS:5,"$/":5,$OUTPUT_RECORD_SEPARATOR:5,$ORS:5,"$\\":5,$OUTPUT_AUTOFLUSH:5,"$|":5,$ACCUMULATOR:5,"$^A":5,$FORMAT_FORMFEED:5,"$^L":5,$FORMAT_PAGE_NUMBER:5,"$%":5,$FORMAT_LINES_LEFT:5,"$-":5,$FORMAT_LINE_BREAK_CHARACTERS:5,"$:":5,$FORMAT_LINES_PER_PAGE:5,"$=":5,$FORMAT_TOP_NAME:5,"$^":5,$FORMAT_NAME:5,"$~":5,"${^CHILD_ERROR_NATIVE}":5,$EXTENDED_OS_ERROR:5,"$^E":5,$EXCEPTIONS_BEING_CAUGHT:5,"$^S":5,$WARNING:5,"$^W":5,"${^WARNING_BITS}":5,$OS_ERROR:5,$ERRNO:5,"$!":5,"%OS_ERROR":5,"%ERRNO":5,"%!":5,$CHILD_ERROR:5,"$?":5,$EVAL_ERROR:5,"$@":5,$OFMT:5,"$#":5,"$*":5,$ARRAY_BASE:5,"$[":5,$OLD_PERL_VERSION:5,"$]":5,"if":[1,1],elsif:[1,1],"else":[1,1],"while":[1,1],unless:[1,1],"for":[1,1],foreach:[1,1],abs:1,accept:1,alarm:1,atan2:1,bind:1,binmode:1,bless:1,bootstrap:1,"break":1,caller:1,chdir:1,chmod:1,chomp:1,chop:1,chown:1,chr:1,chroot:1,close:1,closedir:1,connect:1,"continue":[1,1],cos:1,crypt:1,dbmclose:1,dbmopen:1,"default":1,defined:1,"delete":1,die:1,"do":1,dump:1,each:1,endgrent:1,endhostent:1,endnetent:1,endprotoent:1,endpwent:1,endservent:1,eof:1,eval:1,exec:1,exists:1,exit:1,exp:1,fcntl:1,fileno:1,flock:1,fork:1,format:1,formline:1,getc:1,getgrent:1,getgrgid:1,getgrnam:1,gethostbyaddr:1,gethostbyname:1,gethostent:1,getlogin:1,getnetbyaddr:1,getnetbyname:1,getnetent:1,getpeername:1,getpgrp:1,getppid:1,getpriority:1,getprotobyname:1,getprotobynumber:1,getprotoent:1,getpwent:1,getpwnam:1,getpwuid:1,getservbyname:1,getservbyport:1,getservent:1,getsockname:1,getsockopt:1,given:1,glob:1,gmtime:1,"goto":1,grep:1,hex:1,"import":1,index:1,"int":1,ioctl:1,join:1,keys:1,kill:1,last:1,lc:1,lcfirst:1,length:1,link:1,listen:1,local:2,localtime:1,lock:1,log:1,lstat:1,m:null,map:1,mkdir:1,msgctl:1,msgget:1,msgrcv:1,msgsnd:1,my:2,"new":1,next:1,no:1,oct:1,open:1,opendir:1,ord:1,our:2,pack:1,"package":1,pipe:1,pop:1,pos:1,print:1,printf:1,prototype:1,push:1,q:null,qq:null,qr:null,quotemeta:null,qw:null,qx:null,rand:1,read:1,readdir:1,readline:1,readlink:1,readpipe:1,recv:1,redo:1,ref:1,rename:1,require:1,reset:1,"return":1,reverse:1,rewinddir:1,rindex:1,rmdir:1,s:null,say:1,scalar:1,seek:1,seekdir:1,select:1,semctl:1,semget:1,semop:1,send:1,setgrent:1,sethostent:1,setnetent:1,setpgrp:1,setpriority:1,setprotoent:1,setpwent:1,setservent:1,setsockopt:1,shift:1,shmctl:1,shmget:1,shmread:1,shmwrite:1,shutdown:1,sin:1,sleep:1,socket:1,socketpair:1,sort:1,splice:1,split:1,sprintf:1,sqrt:1,srand:1,stat:1,state:1,study:1,sub:1,substr:1,symlink:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,tell:1,telldir:1,tie:1,tied:1,time:1,times:1,tr:null,truncate:1,uc:1,ucfirst:1,umask:1,undef:1,unlink:1,unpack:1,unshift:1,untie:1,use:1,utime:1,values:1,vec:1,wait:1,waitpid:1,wantarray:1,warn:1,when:1,write:1,y:null},l="string-2",c=/[goseximacplud]/;return{startState:function(){return{tokenize:s,chain:null,style:null,tail:null}},token:function(t,e){return(e.tokenize||s)(t,e)},lineComment:"#"}}),t.registerHelper("wordChars","perl",/[\w$]/),t.defineMIME("text/x-perl","perl")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=!0;return e}function i(t,e,i){if(t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;var n=t.peek();if("/"==n){if(t.match("//"))return t.skipToEnd(),"comment";if(t.match("/*"))return e.tokenize.push(o),o(t,e)}if(t.match(_))return"builtin";if(t.match(w))return"attribute";if(t.match(m))return"number";if(t.match(g))return"number";if(t.match(v))return"number";if(t.match(y))return"number";if(t.match(x))return"property";if(f.indexOf(n)>-1)return t.next(),"operator";if(d.indexOf(n)>-1)return t.next(),t.match(".."),"punctuation";if('"'==n||"'"==n){t.next();var s=r(n);return e.tokenize.push(s),s(t,e)}if(t.match(b)){var a=t.current();return p.hasOwnProperty(a)?"variable-2":h.hasOwnProperty(a)?"atom":c.hasOwnProperty(a)?(u.hasOwnProperty(a)&&(e.prev="define"),"keyword"):"define"==i?"def":"variable"}return t.next(),null}function n(){var t=0;return function(e,n,r){var o=i(e,n,r);if("punctuation"==o)if("("==e.current())++t;else if(")"==e.current()){if(0==t)return e.backUp(1),n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n);--t}return o}}function r(t){return function(e,i){for(var r,o=!1;r=e.next();)if(o){if("("==r)return i.tokenize.push(n()),"string";o=!1}else{if(r==t)break;o="\\"==r}return i.tokenize.pop(),"string"}}function o(t,e){return t.match(/^(?:[^*]|\*(?!\/))*/),t.match("*/")&&e.tokenize.pop(),"comment"}function s(t,e,i){this.prev=t,this.align=e,this.indented=i}function a(t,e){var i=e.match(/^\s*($|\/[\/\*])/,!1)?null:e.column()+1;t.context=new s(t.context,i,t.indented)}function l(t){t.context&&(t.indented=t.context.indented,t.context=t.context.prev)}var c=e(["_","var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","catch","do","rethrows","throw","throws","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]),u=e(["var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]),h=e(["true","false","nil","self","super","_"]),p=e(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]),f="+-/*%=|&<>~^?!",d=":;,.(){}[]",m=/^\-?0b[01][01_]*/,g=/^\-?0o[0-7][0-7_]*/,v=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,y=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,b=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,x=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,_=/^\#[A-Za-z]+/,w=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;t.defineMode("swift",function(t){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(t,e){var n=e.prev;e.prev=null;var r=e.tokenize[e.tokenize.length-1]||i,o=r(t,e,n);if(o&&"comment"!=o?e.prev||(e.prev=o):e.prev=n,"punctuation"==o){var s=/[\(\[\{]|([\]\)\}])/.exec(t.current());s&&(s[1]?l:a)(e,t)}return o},indent:function(e,i){var n=e.context;if(!n)return 0;var r=/^[\]\}\)]/.test(i);return null!=n.align?n.align-(r?1:0):n.indented+(r?0:t.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}}),t.defineMIME("text/x-swift","swift")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../xml/xml"),require("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("markdown",function(e,i){function n(i){if(t.findModeByName){var n=t.findModeByName(i);n&&(i=n.mime||n.mimes[0])}var r=t.getMode(e,i);return"null"==r.name?null:r}function r(t,e,i){return e.f=e.inline=i,i(t,e)}function o(t,e,i){return e.f=e.block=i,i(t,e)}function s(t){return!t||!/\S/.test(t.string)}function a(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==c&&(t.f=f,t.block=l),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine=null,null}function l(e,o){var a=e.sol(),l=o.list!==!1,c=o.indentedCode;o.indentedCode=!1,l&&(o.indentationDiff>=0?(o.indentationDiff<4&&(o.indentation-=o.indentationDiff),o.list=null):o.indentation>0?o.list=null:o.list=!1);var p=null;if(o.indentationDiff>=4)return e.skipToEnd(),c||s(o.prevLine)?(o.indentation-=4,o.indentedCode=!0,w.code):null;if(e.eatSpace())return null;if((p=e.match(E))&&p[1].length<=6)return o.header=p[1].length,i.highlightFormatting&&(o.formatting="header"),o.f=o.inline,h(o);if(!(s(o.prevLine)||o.quote||l||c)&&(p=e.match(A)))return o.header="="==p[0].charAt(0)?1:2,i.highlightFormatting&&(o.formatting="header"),o.f=o.inline,h(o);if(e.eat(">"))return o.quote=a?1:o.quote+1,i.highlightFormatting&&(o.formatting="quote"),e.eatSpace(),h(o);if("["===e.peek())return r(e,o,v);if(e.match(C,!0))return o.hr=!0,w.hr;if(p=e.match(S)){var f=p[1]?"ol":"ul";for(o.indentation=e.column()+e.current().length,o.list=!0;o.listStack&&e.column()<o.listStack[o.listStack.length-1];)o.listStack.pop();return o.listStack.push(o.indentation),i.taskLists&&e.match(T,!1)&&(o.taskList=!0),o.f=o.inline,i.highlightFormatting&&(o.formatting=["list","list-"+f]),h(o)}return i.fencedCodeBlocks&&(p=e.match(L,!0))?(o.fencedChars=p[1],o.localMode=n(p[2]),o.localMode&&(o.localState=t.startState(o.localMode)),o.f=o.block=u,i.highlightFormatting&&(o.formatting="code-block"),o.code=-1,h(o)):r(e,o,o.inline)}function c(e,i){var n=x.token(e,i.htmlState);if(!_){var r=t.innerMode(x,i.htmlState);("xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText||i.md_inside&&e.current().indexOf(">")>-1)&&(i.f=f,i.block=l,i.htmlState=null)}return n}function u(t,e){if(e.fencedChars&&t.match(e.fencedChars)){i.highlightFormatting&&(e.formatting="code-block");var n=h(e);return e.localMode=e.localState=null,e.block=l,e.f=f,e.fencedChars=null,e.code=0,n}return e.fencedChars&&t.skipTo(e.fencedChars)?"comment":e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),w.code)}function h(t){var e=[];if(t.formatting){e.push(w.formatting),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var n=0;n<t.formatting.length;n++)e.push(w.formatting+"-"+t.formatting[n]),"header"===t.formatting[n]&&e.push(w.formatting+"-"+t.formatting[n]+"-"+t.header),"quote"===t.formatting[n]&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=t.quote?e.push(w.formatting+"-"+t.formatting[n]+"-"+t.quote):e.push("error"))}if(t.taskOpen)return e.push("meta"),e.length?e.join(" "):null;if(t.taskClosed)return e.push("property"),e.length?e.join(" "):null;if(t.linkHref?e.push(w.linkHref,"url"):(t.strong&&e.push(w.strong),t.em&&e.push(w.em),t.strikethrough&&e.push(w.strikethrough),t.linkText&&e.push(w.linkText),t.code&&e.push(w.code),t.image&&e.push(w.image),t.imageAltText&&e.push(w.imageAltText,"link"),t.imageMarker&&e.push(w.imageMarker)),t.header&&e.push(w.header,w.header+"-"+t.header),t.quote&&(e.push(w.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=t.quote?e.push(w.quote+"-"+t.quote):e.push(w.quote+"-"+i.maxBlockquoteDepth)),t.list!==!1){var r=(t.listStack.length-1)%3;r?1===r?e.push(w.list2):e.push(w.list3):e.push(w.list1)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function p(t,e){if(t.match(M,!0))return h(e)}function f(e,n){var r=n.text(e,n);if("undefined"!=typeof r)return r;if(n.list)return n.list=null,h(n);if(n.taskList){var s="x"!==e.match(T,!0)[1];return s?n.taskOpen=!0:n.taskClosed=!0,i.highlightFormatting&&(n.formatting="task"),n.taskList=!1,h(n)}if(n.taskOpen=!1,n.taskClosed=!1,n.header&&e.match(/^#+$/,!0))return i.highlightFormatting&&(n.formatting="header"),h(n);var a=e.next();if(n.linkTitle){n.linkTitle=!1;var l=a;"("===a&&(l=")"),l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var u="^\\s*(?:[^"+l+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(e.match(new RegExp(u),!0))return w.linkHref}if("`"===a){var p=n.formatting;i.highlightFormatting&&(n.formatting="code"),e.eatWhile("`");var f=e.current().length;if(0==n.code)return n.code=f,h(n);if(f==n.code){var g=h(n);return n.code=0,g}return n.formatting=p,h(n)}if(n.code)return h(n);if("\\"===a&&(e.next(),i.highlightFormatting)){var v=h(n),y=w.formatting+"-escape";return v?v+" "+y:y}if("!"===a&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return n.imageMarker=!0,n.image=!0,i.highlightFormatting&&(n.formatting="image"),h(n);if("["===a&&n.imageMarker&&e.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return n.imageMarker=!1,n.imageAltText=!0,i.highlightFormatting&&(n.formatting="image"),h(n);if("]"===a&&n.imageAltText){i.highlightFormatting&&(n.formatting="image");var v=h(n);return n.imageAltText=!1,n.image=!1,n.inline=n.f=m,v}if("["===a&&e.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1)&&!n.image)return n.linkText=!0,i.highlightFormatting&&(n.formatting="link"),h(n);if("]"===a&&n.linkText&&e.match(/\(.*?\)| ?\[.*?\]/,!1)){i.highlightFormatting&&(n.formatting="link");var v=h(n);return n.linkText=!1,n.inline=n.f=m,v}if("<"===a&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){n.f=n.inline=d,i.highlightFormatting&&(n.formatting="link");var v=h(n);return v?v+=" ":v="",v+w.linkInline}if("<"===a&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){n.f=n.inline=d,i.highlightFormatting&&(n.formatting="link");var v=h(n);return v?v+=" ":v="",v+w.linkEmail}if("<"===a&&e.match(/^(!--|[a-z]+(?:\s+[a-z_:.\-]+(?:\s*=\s*[^ >]+)?)*\s*>)/i,!1)){var b=e.string.indexOf(">",e.pos);if(b!=-1){var _=e.string.substring(e.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(_)&&(n.md_inside=!0)}return e.backUp(1),n.htmlState=t.startState(x),o(e,n,c)}if("<"===a&&e.match(/^\/\w*?>/))return n.md_inside=!1,"tag";if("*"===a||"_"===a){for(var k=1,C=1==e.pos?" ":e.string.charAt(e.pos-2);k<3&&e.eat(a);)k++;var S=e.peek()||" ",E=!/\s/.test(S)&&(!N.test(S)||/\s/.test(C)||N.test(C)),A=!/\s/.test(C)&&(!N.test(C)||/\s/.test(S)||N.test(S)),M=null,L=null;if(k%2&&(n.em||!E||"*"!==a&&A&&!N.test(C)?n.em!=a||!A||"*"!==a&&E&&!N.test(S)||(M=!1):M=!0),k>1&&(n.strong||!E||"*"!==a&&A&&!N.test(C)?n.strong!=a||!A||"*"!==a&&E&&!N.test(S)||(L=!1):L=!0),null!=L||null!=M){i.highlightFormatting&&(n.formatting=null==M?"strong":null==L?"em":"strong em"),M===!0&&(n.em=a),L===!0&&(n.strong=a);var g=h(n);return M===!1&&(n.em=!1),L===!1&&(n.strong=!1),g}}else if(" "===a&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return h(n);e.backUp(1)}if(i.strikethrough)if("~"===a&&e.eatWhile(a)){if(n.strikethrough){i.highlightFormatting&&(n.formatting="strikethrough");var g=h(n);return n.strikethrough=!1,g}if(e.match(/^[^\s]/,!1))return n.strikethrough=!0,i.highlightFormatting&&(n.formatting="strikethrough"),h(n)}else if(" "===a&&e.match(/^~~/,!0)){if(" "===e.peek())return h(n);e.backUp(2)}return" "===a&&(e.match(/ +$/,!1)?n.trailingSpace++:n.trailingSpace&&(n.trailingSpaceNewLine=!0)),h(n)}function d(t,e){var n=t.next();if(">"===n){e.f=e.inline=f,i.highlightFormatting&&(e.formatting="link");var r=h(e);return r?r+=" ":r="",r+w.linkInline}return t.match(/^[^>]+/,!0),w.linkInline}function m(t,e){if(t.eatSpace())return null;var n=t.next();return"("===n||"["===n?(e.f=e.inline=g("("===n?")":"]",0),i.highlightFormatting&&(e.formatting="link-string"),e.linkHref=!0,h(e)):"error"}function g(t){return function(e,n){var r=e.next();if(r===t){n.f=n.inline=f,i.highlightFormatting&&(n.formatting="link-string");var o=h(n);return n.linkHref=!1,o}return e.match(P[t]),n.linkHref=!0,h(n)}}function v(t,e){return t.match(/^([^\]\\]|\\.)*\]:/,!1)?(e.f=y,t.next(),i.highlightFormatting&&(e.formatting="link"),e.linkText=!0,h(e)):r(t,e,f)}function y(t,e){if(t.match(/^\]:/,!0)){e.f=e.inline=b,i.highlightFormatting&&(e.formatting="link");var n=h(e);return e.linkText=!1,n}return t.match(/^([^\]\\]|\\.)+/,!0),w.linkText}function b(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=f,w.linkHref+" url")}var x=t.getMode(e,"text/html"),_="null"==x.name;void 0===i.highlightFormatting&&(i.highlightFormatting=!1),void 0===i.maxBlockquoteDepth&&(i.maxBlockquoteDepth=0),void 0===i.taskLists&&(i.taskLists=!1),void 0===i.strikethrough&&(i.strikethrough=!1),void 0===i.tokenTypeOverrides&&(i.tokenTypeOverrides={});var w={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var k in w)w.hasOwnProperty(k)&&i.tokenTypeOverrides[k]&&(w[k]=i.tokenTypeOverrides[k]);var C=/^([*\-_])(?:\s*\1){2,}\s*$/,S=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,T=/^\[(x| )\](?=\s)/,E=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,A=/^ *(?:\={1,}|-{1,})\s*$/,M=/^[^#!\[\]*_\\<>` "'(~]+/,L=new RegExp("^("+(i.fencedCodeBlocks===!0?"~~~+|```+":i.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),N=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~—]/,P={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},I={startState:function(){return{f:l,prevLine:null,thisLine:null,block:l,htmlState:null,indentation:0,inline:f,text:p,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&t.copyState(x,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?t.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkTitle:e.linkTitle,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,header:e.header,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedChars:e.fencedChars}},token:function(t,e){if(e.formatting=!1,t!=e.thisLine){var i=e.header||e.hr;if(e.header=0,e.hr=!1,t.match(/^\s*$/,!0)||i){if(a(e),!i)return null;e.prevLine=null}e.prevLine=e.thisLine,e.thisLine=t,e.taskList=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.f=e.block;var n=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(e.indentationDiff=Math.min(n-e.indentation,4),e.indentation=e.indentation+e.indentationDiff,n>0)return null}return e.f(t,e)},innerMode:function(t){return t.block==c?{state:t.htmlState,mode:x}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:I}},blankLine:a,getType:h,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return I},"xml"),t.defineMIME("text/x-markdown","markdown")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("shell",function(){function t(t,e){for(var i=e.split(" "),n=0;n<i.length;n++)r[i[n]]=t}function e(t,e){if(t.eatSpace())return null;var s=t.sol(),a=t.next();if("\\"===a)return t.next(),null;if("'"===a||'"'===a||"`"===a)return e.tokens.unshift(i(a,"`"===a?"quote":"string")),n(t,e);if("#"===a)return s&&t.eat("!")?(t.skipToEnd(),"meta"):(t.skipToEnd(),"comment");if("$"===a)return e.tokens.unshift(o),n(t,e);if("+"===a||"="===a)return"operator";if("-"===a)return t.eat("-"),t.eatWhile(/\w/),"attribute";if(/\d/.test(a)&&(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek())))return"number";t.eatWhile(/[\w-]/);var l=t.current();return"="===t.peek()&&/\w+/.test(l)?"def":r.hasOwnProperty(l)?r[l]:null}function i(t,e){var r="("==t?")":"{"==t?"}":t;return function(s,a){for(var l,c=!1,u=!1;null!=(l=s.next());){if(l===r&&!u){c=!0;break}if("$"===l&&!u&&"'"!==t){u=!0,s.backUp(1),a.tokens.unshift(o);break}if(!u&&l===t&&t!==r)return a.tokens.unshift(i(t,e)),n(s,a);u=!u&&"\\"===l}return!c&&u||a.tokens.shift(),e}}function n(t,i){return(i.tokens[0]||e)(t,i)}var r={};t("atom","true false"),t("keyword","if then do else elif while until for in esac fi fin fil done exit set unset export function"),t("builtin","ab awk bash beep cat cc cd chown chmod chroot clear cp curl cut diff echo find gawk gcc get git grep kill killall ln ls make mkdir openssl mv nc node npm ping ps restart rm rmdir sed service sh shopt shred source sort sleep ssh start stop su sudo tee telnet top touch vi vim wall wc wget who write yes zsh");var o=function(t,e){e.tokens.length>1&&t.eat("$");var r=t.next();return/['"({]/.test(r)?(e.tokens[0]=i(r,"("==r?"quote":"{"==r?"def":"string"),n(t,e)):(/\d/.test(r)||t.eatWhile(/\w/),e.tokens.shift(),"def")};return{startState:function(){return{tokens:[]}},token:function(t,e){return n(t,e)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),t.defineMIME("text/x-sh","shell")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMIME("text/x-erlang","erlang"),t.defineMode("erlang",function(e){function i(t,e){if(e.in_string)return e.in_string=!o(t),u(e,t,"string");if(e.in_atom)return e.in_atom=!s(t),u(e,t,"atom");if(t.eatSpace())return u(e,t,"whitespace");if(!d(e)&&t.match(/-\s*[a-zß-öø-ÿ][\wØ-ÞÀ-Öß-öø-ÿ]*/))return c(t.current(),T)?u(e,t,"type"):u(e,t,"attribute");var i=t.next();if("%"==i)return t.skipToEnd(),u(e,t,"comment");if(":"==i)return u(e,t,"colon");if("?"==i)return t.eatSpace(),t.eatWhile(j),u(e,t,"macro");if("#"==i)return t.eatSpace(),t.eatWhile(j),u(e,t,"record");if("$"==i)return"\\"!=t.next()||t.match(z)?u(e,t,"number"):u(e,t,"error");if("."==i)return u(e,t,"dot");if("'"==i){if(!(e.in_atom=!s(t))){if(t.match(/\s*\/\s*[0-9]/,!1))return t.match(/\s*\/\s*[0-9]/,!0),u(e,t,"fun");if(t.match(/\s*\(/,!1)||t.match(/\s*:/,!1))return u(e,t,"function")}return u(e,t,"atom")}if('"'==i)return e.in_string=!o(t),
u(e,t,"string");if(/[A-Z_Ø-ÞÀ-Ö]/.test(i))return t.eatWhile(j),u(e,t,"variable");if(/[a-z_ß-öø-ÿ]/.test(i)){if(t.eatWhile(j),t.match(/\s*\/\s*[0-9]/,!1))return t.match(/\s*\/\s*[0-9]/,!0),u(e,t,"fun");var a=t.current();return c(a,E)?u(e,t,"keyword"):c(a,L)?u(e,t,"operator"):t.match(/\s*\(/,!1)?!c(a,H)||":"==d(e).token&&"erlang"!=d(e,2).token?c(a,F)?u(e,t,"guard"):u(e,t,"function"):u(e,t,"builtin"):":"==l(t)?"erlang"==a?u(e,t,"builtin"):u(e,t,"function"):c(a,["true","false"])?u(e,t,"boolean"):u(e,t,"atom")}var h=/[0-9]/,p=/[0-9a-zA-Z]/;return h.test(i)?(t.eatWhile(h),t.eat("#")?t.eatWhile(p)||t.backUp(1):t.eat(".")&&(t.eatWhile(h)?t.eat(/[eE]/)&&(t.eat(/[-+]/)?t.eatWhile(h)||t.backUp(2):t.eatWhile(h)||t.backUp(1)):t.backUp(1)),u(e,t,"number")):n(t,I,D)?u(e,t,"open_paren"):n(t,O,R)?u(e,t,"close_paren"):r(t,A,M)?u(e,t,"separator"):r(t,N,P)?u(e,t,"operator"):u(e,t,null)}function n(t,e,i){if(1==t.current().length&&e.test(t.current())){for(t.backUp(1);e.test(t.peek());)if(t.next(),c(t.current(),i))return!0;t.backUp(t.current().length-1)}return!1}function r(t,e,i){if(1==t.current().length&&e.test(t.current())){for(;e.test(t.peek());)t.next();for(;0<t.current().length;){if(c(t.current(),i))return!0;t.backUp(1)}t.next()}return!1}function o(t){return a(t,'"',"\\")}function s(t){return a(t,"'","\\")}function a(t,e,i){for(;!t.eol();){var n=t.next();if(n==e)return!0;n==i&&t.next()}return!1}function l(t){var e=t.match(/([\n\s]+|%[^\n]*\n)*(.)/,!1);return e?e.pop():""}function c(t,e){return-1<e.indexOf(t)}function u(t,e,i){switch(m(t,p(i,e)),i){case"atom":return"atom";case"attribute":return"attribute";case"boolean":return"atom";case"builtin":return"builtin";case"close_paren":return null;case"colon":return null;case"comment":return"comment";case"dot":return null;case"error":return"error";case"fun":return"meta";case"function":return"tag";case"guard":return"property";case"keyword":return"keyword";case"macro":return"variable-2";case"number":return"number";case"open_paren":return null;case"operator":return"operator";case"record":return"bracket";case"separator":return null;case"string":return"string";case"type":return"def";case"variable":return"variable";default:return null}}function h(t,e,i,n){return{token:t,column:e,indent:i,type:n}}function p(t,e){return h(e.current(),e.column(),e.indentation(),t)}function f(t){return h(t,0,0,t)}function d(t,e){var i=t.tokenStack.length,n=e?e:1;return!(i<n)&&t.tokenStack[i-n]}function m(t,e){"comment"!=e.type&&"whitespace"!=e.type&&(t.tokenStack=g(t.tokenStack,e),t.tokenStack=v(t.tokenStack))}function g(t,e){var i=t.length-1;return 0<i&&"record"===t[i].type&&"dot"===e.type?t.pop():0<i&&"group"===t[i].type?(t.pop(),t.push(e)):t.push(e),t}function v(t){if(!t.length)return t;var e=t.length-1;if("dot"===t[e].type)return[];if(e>1&&"fun"===t[e].type&&"fun"===t[e-1].token)return t.slice(0,e-1);switch(t[e].token){case"}":return y(t,{g:["{"]});case"]":return y(t,{i:["["]});case")":return y(t,{i:["("]});case">>":return y(t,{i:["<<"]});case"end":return y(t,{i:["begin","case","fun","if","receive","try"]});case",":return y(t,{e:["begin","try","when","->",",","(","[","{","<<"]});case"->":return y(t,{r:["when"],m:["try","if","case","receive"]});case";":return y(t,{E:["case","fun","if","receive","try","when"]});case"catch":return y(t,{e:["try"]});case"of":return y(t,{e:["case"]});case"after":return y(t,{e:["receive","try"]});default:return t}}function y(t,e){for(var i in e)for(var n=t.length-1,r=e[i],o=n-1;-1<o;o--)if(c(t[o].token,r)){var s=t.slice(0,o);switch(i){case"m":return s.concat(t[o]).concat(t[n]);case"r":return s.concat(t[n]);case"i":return s;case"g":return s.concat(f("group"));case"E":return s.concat(t[o]);case"e":return s.concat(t[o])}}return"E"==i?[]:t}function b(i,n){var r,o=e.indentUnit,s=x(n),a=d(i,1),l=d(i,2);return i.in_string||i.in_atom?t.Pass:l?"when"==a.token?a.column+o:"when"===s&&"function"===l.type?l.indent+o:"("===s&&"fun"===a.token?a.column+3:"catch"===s&&(r=k(i,["try"]))?r.column:c(s,["end","after","of"])?(r=k(i,["begin","case","fun","if","receive","try"]),r?r.column:t.Pass):c(s,R)?(r=k(i,D),r?r.column:t.Pass):c(a.token,[",","|","||"])||c(s,[",","|","||"])?(r=_(i),r?r.column+r.token.length:o):"->"==a.token?c(l.token,["receive","case","if","try"])?l.column+o+o:l.column+o:c(a.token,D)?a.column+a.token.length:(r=w(i),S(r)?r.column+o:0):0}function x(t){var e=t.match(/,|[a-z]+|\}|\]|\)|>>|\|+|\(/);return S(e)&&0===e.index?e[0]:""}function _(t){var e=t.tokenStack.slice(0,-1),i=C(e,"type",["open_paren"]);return!!S(e[i])&&e[i]}function w(t){var e=t.tokenStack,i=C(e,"type",["open_paren","separator","keyword"]),n=C(e,"type",["operator"]);return S(i)&&S(n)&&i<n?e[i+1]:!!S(i)&&e[i]}function k(t,e){var i=t.tokenStack,n=C(i,"token",e);return!!S(i[n])&&i[n]}function C(t,e,i){for(var n=t.length-1;-1<n;n--)if(c(t[n][e],i))return n;return!1}function S(t){return t!==!1&&null!=t}var T=["-type","-spec","-export_type","-opaque"],E=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"],A=/[\->,;]/,M=["->",";",","],L=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"],N=/[\+\-\*\/<>=\|:!]/,P=["=","+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-","!"],I=/[<\(\[\{]/,D=["<<","(","[","{"],O=/[>\)\]\}]/,R=["}","]",")",">>"],F=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"],H=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"],j=/[\w@Ø-ÞÀ-Öß-öø-ÿ]/,z=/[0-7]{1,3}|[bdefnrstv\\"']|\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}/;return{startState:function(){return{tokenStack:[],in_string:!1,in_atom:!1}},token:function(t,e){return i(t,e)},indent:function(t,e){return b(t,e)},lineComment:"%"}})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("codemirror")):"function"==typeof define&&define.amd?define(["codemirror"],e):e(t.CodeMirror)}(this,function(t){"use strict";t="default"in t?t["default"]:t,t.defineMode("elixir",function(t){var e=function(t){for(var e={},i=0,n=t.length;i<n;++i)e[t[i]]=!0;return e},i=e(["alias","case","cond","def","defmodule","defp","defstruct","defprotocol","defimpl","defmacro","quote","unquote","receive","fn","do","else","else if","end","false","if","in","next","rescue","for","true","unless","when","nil","raise","throw","try","catch","after","with","require","use","__MODULE__","__FILE__","__DIR__","__ENV__","__CALLER__"]),n=e(["def","defmodule","defp","case","cond","rescue","try","catch","->"]),r=e(["end"]),o={"[":"]","{":"}","(":")"},s=void 0,a=function(t,e,i){return i.tokenize.push(t),t(e,i)},l=function(t,e){if(t.sol()&&t.match('"""')&&t.eol())return e.tokenize.push(f),"comment";if(t.eatSpace())return null;var i=t.next(),n=void 0;if("'"===i||'"'===i)return a(h(i,"string",'"'===i),t,e);if("/"===i){var r=t.current().length;if(t.skipTo("/")){var l=t.current().length,c=0;for(t.backUp(t.current().length-r);t.current().length<l;){var u=t.next();if("("===u?c+=1:")"===u&&(c-=1),c<0)break}if(t.backUp(t.current().length-r),0===c)return a(h(i,"string-2",!0),t,e)}return"operator"}if("%"===i){var d="string",m=!0;t.eat("s")?d="atom":t.eat(/[WQ]/)?d="string":t.eat(/[r]/)?d="string-2":t.eat(/[wxq]/)&&(d="string",m=!1);var g=t.eat(/[^\w\s=]/);return g?(o.propertyIsEnumerable(g)&&(g=o[g]),a(h(g,d,m,!0),t,e)):"operator"}if("#"===i)return t.skipToEnd(),"comment";if("<"===i&&(n=t.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return a(p(n[1]),t,e);if("0"===i)return t.eat("x")?t.eatWhile(/[\da-fA-F]/):t.eat("b")?t.eatWhile(/[01]/):t.eatWhile(/[0-7]/),"number";if(/\d/.test(i))return t.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"===i){for(;t.match(/^\\[CM]-/););return t.eat("\\")?t.eatWhile(/\w/):t.next(),"string"}return":"===i?t.eat("'")?a(h("'","atom",!1),t,e):t.eat('"')?a(h('"',"atom",!0),t,e):t.eat(/[\<\>]/)?(t.eat(/[\<\>]/),"atom"):t.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":t.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(t.eatWhile(/[\w$\xa1-\uffff]/),t.eat(/[\?\!\=]/),"atom"):"operator":"@"===i&&t.match(/^@?[a-zA-Z_\xa1-\uffff]/)?(t.eat("@"),t.eatWhile(/[\w\xa1-\uffff]/),"variable-2"):"$"===i?(t.eat(/[a-zA-Z_]/)?t.eatWhile(/[\w]/):t.eat(/\d/)?t.eat(/\d/):t.next(),"variable-3"):/[a-zA-Z_\xa1-\uffff]/.test(i)?(t.eatWhile(/[\w\xa1-\uffff]/),t.eat(/[\?\!]/),t.eat(":")?"atom":"ident"):"|"!==i||!e.varList&&"{"!==e.lastTok&&"do"!==e.lastTok?/[\(\)\[\]{}\\;]/.test(i)?(s=i,null):"-"===i&&t.eat(">")?"arrow":"|"===i&&t.eat(">")?"pipe":/[=+\-\/*:\.^%<>~|]/.test(i)?("."!==i||t.eatWhile(/[=+\-\/*:\.^%<>~|]/)||(s="."),"operator"):null:(s="|",null)},c=function d(t){return t||(t=1),function(e,i){if("}"===e.peek()){if(1===t)return i.tokenize.pop(),i.tokenize[i.tokenize.length-1](e,i);i.tokenize[i.tokenize.length-1]=d(t-1)}else"{"===e.peek()&&(i.tokenize[i.tokenize.length-1]=d(t+1));return l(e,i)}},u=function(){var t=!1;return function(e,i){return t?(i.tokenize.pop(),i.tokenize[i.tokenize.length-1](e,i)):(t=!0,l(e,i))}},h=function(t,e,i,n){return function(r,o){var s=!1,a=void 0;for("read-quoted-paused"===o.context.type&&(o.context=o.context.prev,r.eat("}"));null!=(a=r.next());){if(a===t&&(n||!s)){o.tokenize.pop();break}if(i&&"#"===a&&!s){if(r.eat("{")){"}"===t&&(o.context={prev:o.context,type:"read-quoted-paused"}),o.tokenize.push(c());break}if(/[@\$]/.test(r.peek())){o.tokenize.push(u());break}}s=!s&&"\\"===a}return e}},p=function(t){return function(e,i){return e.match(t)?i.tokenize.pop():e.skipToEnd(),"string"}},f=function(t,e){return t.sol()&&t.match('"""')&&t.eol()&&e.tokenize.pop(),t.skipToEnd(),"comment"};return{startState:function(){return{tokenize:[l],indented:0,context:{type:"top",indented:-t.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(t,e){s=null;var o=e.tokenize[e.tokenize.length-1](t,e),a=void 0,l=s;if("ident"===o){var c=t.current();o="."===e.lastTok?"property":i.propertyIsEnumerable(t.current())?"keyword":/^[A-Z]/.test(c)?"tag":"def"===e.lastTok||"class"===e.lastTok||e.varList?"def":"variable";var u=t.column()===t.indentation();"keyword"===o&&(l=c,n.propertyIsEnumerable(c)?a="indent":r.propertyIsEnumerable(c)?a="dedent":"if"!==c&&"unless"!==c||!u?"do"===c&&e.context.indented<e.indented&&(a="indent"):a="indent")}return(s||o&&"comment"!==o)&&(e.lastTok=l),"|"===s&&(e.varList=!e.varList),"indent"===a||/[\(\[\{]/.test(s)?e.context={prev:e.context,type:s||o,indented:e.indented}:("dedent"===a||/[\)\]\}]/.test(s))&&e.context.prev&&(e.context=e.context.prev),t.eol()&&(e.continuedLine="\\"===s||"operator"===o),o},electricInput:/^\s*(?:end|rescue|else if|else|catch\})$/,lineComment:"#"}}),t.defineMIME("text/x-elixir","elixir")}),function(t){"use strict";"object"==typeof exports&&"object"==typeof module?t(require("codemirror")):"function"==typeof define&&define.amd?define(["codemirror"],t):t(window.CodeMirror)}(function(t){"use strict";t.defineMode("powershell",function(){function t(t,e){e=e||{};for(var i=void 0!==e.prefix?e.prefix:"^",n=void 0!==e.suffix?e.suffix:"\\b",r=0;r<t.length;r++)t[r]instanceof RegExp?t[r]=t[r].source:t[r]=t[r].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new RegExp(i+"("+t.join("|")+")"+n,"i")}function e(t,e){var r=e.returnStack[e.returnStack.length-1];if(r&&r.shouldReturnFrom(e))return e.tokenize=r.tokenize,e.returnStack.pop(),e.tokenize(t,e);if(t.eatSpace())return null;if(t.eat("("))return e.bracketNesting+=1,"punctuation";if(t.eat(")"))return e.bracketNesting-=1,"punctuation";for(var o in S)if(t.match(S[o]))return o;var s=t.next();if("'"===s)return i(t,e);if("$"===s)return c(t,e);if('"'===s)return n(t,e);if("<"===s&&t.eat("#"))return e.tokenize=l,l(t,e);if("#"===s)return t.skipToEnd(),"comment";if("@"===s){var a=t.eat(/["']/);if(a&&t.eol())return e.tokenize=h,e.startQuote=a[0],h(t,e);if(t.eol())return"error";if(t.peek().match(/[({]/))return"punctuation";if(t.peek().match(f))return c(t,e)}return"error"}function i(t,i){for(var n;null!=(n=t.peek());)if(t.next(),"'"===n&&!t.eat("'"))return i.tokenize=e,"string";return"error"}function n(t,i){for(var n;null!=(n=t.peek());){if("$"===n)return i.tokenize=r,"string";if(t.next(),"`"!==n){if('"'===n&&!t.eat('"'))return i.tokenize=e,"string"}else t.next()}return"error"}function r(t,e){return a(t,e,n)}function o(t,e){return e.tokenize=h,e.startQuote='"',h(t,e)}function s(t,e){return a(t,e,o)}function a(t,i,n){if(t.match("$(")){var r=i.bracketNesting;return i.returnStack.push({shouldReturnFrom:function(t){return t.bracketNesting===r},tokenize:n}),i.tokenize=e,i.bracketNesting+=1,"punctuation"}return t.next(),i.returnStack.push({shouldReturnFrom:function(){return!0},tokenize:n}),i.tokenize=c,i.tokenize(t,i)}function l(t,i){for(var n,r=!1;null!=(n=t.next());){if(r&&">"==n){i.tokenize=e;break}r="#"===n}return"comment"}function c(t,i){var n=t.peek();return t.eat("{")?(i.tokenize=u,u(t,i)):void 0!=n&&n.match(f)?(t.eatWhile(f),i.tokenize=e,"variable-2"):(i.tokenize=e,"error")}function u(t,i){for(var n;null!=(n=t.next());)if("}"===n){i.tokenize=e;break}return"variable-2"}function h(t,i){var n=i.startQuote;if(t.sol()&&t.match(new RegExp(n+"@")))i.tokenize=e;else if('"'===n)for(;!t.eol();){var r=t.peek();if("$"===r)return i.tokenize=s,"string";t.next(),"`"===r&&t.next()}else t.skipToEnd();return"string"}var p="(?=[^A-Za-z\\d\\-_]|$)",f=/[\w\-:]/,d=t([/begin|break|catch|continue|data|default|do|dynamicparam/,/else|elseif|end|exit|filter|finally|for|foreach|from|function|if|in/,/param|process|return|switch|throw|trap|try|until|where|while/],{suffix:p}),m=/[\[\]{},;`\.]|@[({]/,g=t(["f",/b?not/,/[ic]?split/,"join",/is(not)?/,"as",/[ic]?(eq|ne|[gl][te])/,/[ic]?(not)?(like|match|contains)/,/[ic]?replace/,/b?(and|or|xor)/],{prefix:"-"}),v=/[+\-*\/%]=|\+\+|--|\.\.|[+\-*&^%:=!|\/]|<(?!#)|(?!#)>/,y=t([g,v],{suffix:""}),b=/^((0x[\da-f]+)|((\d+\.\d+|\d\.|\.\d+|\d+)(e[\+\-]?\d+)?))[ld]?([kmgtp]b)?/i,x=/^[A-Za-z\_][A-Za-z\-\_\d]*\b/,_=/[A-Z]:|%|\?/i,w=t([/Add-(Computer|Content|History|Member|PSSnapin|Type)/,/Checkpoint-Computer/,/Clear-(Content|EventLog|History|Host|Item(Property)?|Variable)/,/Compare-Object/,/Complete-Transaction/,/Connect-PSSession/,/ConvertFrom-(Csv|Json|SecureString|StringData)/,/Convert-Path/,/ConvertTo-(Csv|Html|Json|SecureString|Xml)/,/Copy-Item(Property)?/,/Debug-Process/,/Disable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)/,/Disconnect-PSSession/,/Enable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)/,/(Enter|Exit)-PSSession/,/Export-(Alias|Clixml|Console|Counter|Csv|FormatData|ModuleMember|PSSession)/,/ForEach-Object/,/Format-(Custom|List|Table|Wide)/,new RegExp("Get-(Acl|Alias|AuthenticodeSignature|ChildItem|Command|ComputerRestorePoint|Content|ControlPanelItem|Counter|Credential|Culture|Date|Event|EventLog|EventSubscriber|ExecutionPolicy|FormatData|Help|History|Host|HotFix|Item|ItemProperty|Job|Location|Member|Module|PfxCertificate|Process|PSBreakpoint|PSCallStack|PSDrive|PSProvider|PSSession|PSSessionConfiguration|PSSnapin|Random|Service|TraceSource|Transaction|TypeData|UICulture|Unique|Variable|Verb|WinEvent|WmiObject)"),/Group-Object/,/Import-(Alias|Clixml|Counter|Csv|LocalizedData|Module|PSSession)/,/ImportSystemModules/,/Invoke-(Command|Expression|History|Item|RestMethod|WebRequest|WmiMethod)/,/Join-Path/,/Limit-EventLog/,/Measure-(Command|Object)/,/Move-Item(Property)?/,new RegExp("New-(Alias|Event|EventLog|Item(Property)?|Module|ModuleManifest|Object|PSDrive|PSSession|PSSessionConfigurationFile|PSSessionOption|PSTransportOption|Service|TimeSpan|Variable|WebServiceProxy|WinEvent)"),/Out-(Default|File|GridView|Host|Null|Printer|String)/,/Pause/,/(Pop|Push)-Location/,/Read-Host/,/Receive-(Job|PSSession)/,/Register-(EngineEvent|ObjectEvent|PSSessionConfiguration|WmiEvent)/,/Remove-(Computer|Event|EventLog|Item(Property)?|Job|Module|PSBreakpoint|PSDrive|PSSession|PSSnapin|TypeData|Variable|WmiObject)/,/Rename-(Computer|Item(Property)?)/,/Reset-ComputerMachinePassword/,/Resolve-Path/,/Restart-(Computer|Service)/,/Restore-Computer/,/Resume-(Job|Service)/,/Save-Help/,/Select-(Object|String|Xml)/,/Send-MailMessage/,new RegExp("Set-(Acl|Alias|AuthenticodeSignature|Content|Date|ExecutionPolicy|Item(Property)?|Location|PSBreakpoint|PSDebug|PSSessionConfiguration|Service|StrictMode|TraceSource|Variable|WmiInstance)"),/Show-(Command|ControlPanelItem|EventLog)/,/Sort-Object/,/Split-Path/,/Start-(Job|Process|Service|Sleep|Transaction|Transcript)/,/Stop-(Computer|Job|Process|Service|Transcript)/,/Suspend-(Job|Service)/,/TabExpansion2/,/Tee-Object/,/Test-(ComputerSecureChannel|Connection|ModuleManifest|Path|PSSessionConfigurationFile)/,/Trace-Command/,/Unblock-File/,/Undo-Transaction/,/Unregister-(Event|PSSessionConfiguration)/,/Update-(FormatData|Help|List|TypeData)/,/Use-Transaction/,/Wait-(Event|Job|Process)/,/Where-Object/,/Write-(Debug|Error|EventLog|Host|Output|Progress|Verbose|Warning)/,/cd|help|mkdir|more|oss|prompt/,/ac|asnp|cat|cd|chdir|clc|clear|clhy|cli|clp|cls|clv|cnsn|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|dnsn|ebp/,/echo|epal|epcsv|epsn|erase|etsn|exsn|fc|fl|foreach|ft|fw|gal|gbp|gc|gci|gcm|gcs|gdr|ghy|gi|gjb|gl|gm|gmo|gp|gps/,/group|gsn|gsnp|gsv|gu|gv|gwmi|h|history|icm|iex|ihy|ii|ipal|ipcsv|ipmo|ipsn|irm|ise|iwmi|iwr|kill|lp|ls|man|md/,/measure|mi|mount|move|mp|mv|nal|ndr|ni|nmo|npssc|nsn|nv|ogv|oh|popd|ps|pushd|pwd|r|rbp|rcjb|rcsn|rd|rdr|ren|ri/,/rjb|rm|rmdir|rmo|rni|rnp|rp|rsn|rsnp|rujb|rv|rvpa|rwmi|sajb|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls/,/sort|sp|spjb|spps|spsv|start|sujb|sv|swmi|tee|trcm|type|where|wjb|write/],{prefix:"",suffix:""}),k=t([/[$?^_]|Args|ConfirmPreference|ConsoleFileName|DebugPreference|Error|ErrorActionPreference|ErrorView|ExecutionContext/,/FormatEnumerationLimit|Home|Host|Input|MaximumAliasCount|MaximumDriveCount|MaximumErrorCount|MaximumFunctionCount/,/MaximumHistoryCount|MaximumVariableCount|MyInvocation|NestedPromptLevel|OutputEncoding|Pid|Profile|ProgressPreference/,/PSBoundParameters|PSCommandPath|PSCulture|PSDefaultParameterValues|PSEmailServer|PSHome|PSScriptRoot|PSSessionApplicationName/,/PSSessionConfigurationName|PSSessionOption|PSUICulture|PSVersionTable|Pwd|ShellId|StackTrace|VerbosePreference/,/WarningPreference|WhatIfPreference/,/Event|EventArgs|EventSubscriber|Sender/,/Matches|Ofs|ForEach|LastExitCode|PSCmdlet|PSItem|PSSenderInfo|This/,/true|false|null/],{prefix:"\\$",suffix:""}),C=t([_,w,k],{suffix:p}),S={keyword:d,number:b,operator:y,builtin:C,punctuation:m,identifier:x},T={startState:function(){return{returnStack:[],bracketNesting:0,tokenize:e}},token:function(t,e){return e.tokenize(t,e)},blockCommentStart:"<#",blockCommentEnd:"#>",lineComment:"#",fold:"brace"};return T}),t.defineMIME("application/x-powershell","powershell")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../../addon/mode/simple")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],t):t(CodeMirror)}(function(t){"use strict";t.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\]|\\(?:[nrt0'"]|x[\da-fA-F]{2}|u\{[\da-fA-F]{6}\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\(?:['\\nrt0]|x[\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\s+mut)?|fn|enum|mod|struct|type)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|box|break|continue|const|crate|do|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|unsafe|unsized|use|virtual|where|while|yield)\b/,token:"keyword"},{regex:/\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\b/,token:"atom"},{regex:/\b(?:true|false|Some|None|Ok|Err)\b/,token:"builtin"},{regex:/\b(fn)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\[.*\]/,token:"meta"},{regex:/\/\/.*/,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\w*/,token:"variable"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\"]|\\(?:.|$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\s*\}$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),t.defineMIME("text/x-rustsrc","rust")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("haskell",function(t,e){function i(t,e,i){return e(i),i(t,e)}function n(t,e){if(t.eatWhile(m))return null;var n=t.next();if(d.test(n)){if("{"==n&&t.eat("-")){var s="comment";return t.eat("#")&&(s="meta"),i(t,e,r(s,1))}return null}if("'"==n)return t.eat("\\")?t.next():t.next(),t.eat("'")?"string":"string error";if('"'==n)return i(t,e,o);if(l.test(n))return t.eatWhile(p),t.eat(".")?"qualifier":"variable-2";if(a.test(n))return t.eatWhile(p),"variable";if(c.test(n)){if("0"==n){if(t.eat(/[xX]/))return t.eatWhile(u),"integer";if(t.eat(/[oO]/))return t.eatWhile(h),"number"}t.eatWhile(c);var s="number";return t.match(/^\.\d+/)&&(s="number"),t.eat(/[eE]/)&&(s="number",t.eat(/[-+]/),t.eatWhile(c)),s}if("."==n&&t.eat("."))return"keyword";if(f.test(n)){if("-"==n&&t.eat(/-/)&&(t.eatWhile(/-/),!t.eat(f)))return t.skipToEnd(),"comment";var s="variable";return":"==n&&(s="variable-2"),t.eatWhile(f),s}return"error"}function r(t,e){return 0==e?n:function(i,o){for(var s=e;!i.eol();){var a=i.next();if("{"==a&&i.eat("-"))++s;else if("-"==a&&i.eat("}")&&(--s,0==s))return o(n),t}return o(r(t,s)),t}}function o(t,e){for(;!t.eol();){var i=t.next();if('"'==i)return e(n),"string";if("\\"==i){if(t.eol()||t.eat(m))return e(s),"string";t.eat("&")||t.next()}}return e(n),"string error"}function s(t,e){return t.eat("\\")?i(t,e,o):(t.next(),e(n),"error")}var a=/[a-z_]/,l=/[A-Z]/,c=/\d/,u=/[0-9A-Fa-f]/,h=/[0-7]/,p=/[a-z_A-Z0-9'\xa1-\uffff]/,f=/[-!#$%&*+.\/<=>?@\\^|~:]/,d=/[(),;[\]`{}]/,m=/[ \t\v\f]/,g=function(){function t(t){return function(){for(var e=0;e<arguments.length;e++)i[arguments[e]]=t}}var i={};t("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_"),t("keyword")("..",":","::","=","\\","<-","->","@","~","=>"),t("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<=","=<<","==",">",">=",">>",">>=","^","^^","||","*","**"),t("builtin")("Bool","Bounded","Char","Double","EQ","Either","Enum","Eq","False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True"),t("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap","const","cos","cosh","curry","cycle","decodeFloat","div","divMod","drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN","isNegativeZero","iterate","last","lcm","length","lex","lines","log","logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl","scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar","showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3");var n=e.overrideKeywords;if(n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i}();return{startState:function(){return{f:n}},copyState:function(t){return{f:t.f}},token:function(t,e){var i=e.f(t,function(t){e.f=t}),n=t.current();return g.hasOwnProperty(n)?g[n]:i},blockCommentStart:"{-",blockCommentEnd:"-}",lineComment:"--"}}),t.defineMIME("text/x-haskell","haskell")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var i=this;t.on("cursorActivity",this.activityFunc=function(){i.cursorActivity()})}function i(e,i){var n=t.cmpPos(i.from,e.from);return n>0&&e.to.ch-e.from.ch!=i.to.ch-i.from.ch}function n(t,e,i){var n=t.options.hintOptions,r={};for(var o in m)r[o]=m[o];if(n)for(var o in n)void 0!==n[o]&&(r[o]=n[o]);if(i)for(var o in i)void 0!==i[o]&&(r[o]=i[o]);return r.hint.resolve&&(r.hint=r.hint.resolve(t,e)),r}function r(t){return"string"==typeof t?t:t.text}function o(t,e){function i(t,i){var r;r="string"!=typeof i?function(t){return i(t,e)}:n.hasOwnProperty(i)?n[i]:i,o[t]=r}var n={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(-e.menuSize()+1,!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close},r=t.options.customKeys,o=r?{}:n;if(r)for(var s in r)r.hasOwnProperty(s)&&i(s,r[s]);var a=t.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&i(s,a[s]);return o}function s(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function a(e,i){this.completion=e,this.data=i,this.picked=!1;var n=this,a=e.cm,l=this.hints=document.createElement("ul");l.className="CodeMirror-hints",this.selectedHint=i.selectedHint||0;for(var c=i.list,u=0;u<c.length;++u){var f=l.appendChild(document.createElement("li")),d=c[u],m=h+(u!=this.selectedHint?"":" "+p);null!=d.className&&(m=d.className+" "+m),f.className=m,d.render?d.render(f,i,d):f.appendChild(document.createTextNode(d.displayText||r(d))),f.hintId=u}var g=a.cursorCoords(e.options.alignWithWord?i.from:null),v=g.left,y=g.bottom,b=!0;l.style.left=v+"px",l.style.top=y+"px";var x=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),_=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(e.options.container||document.body).appendChild(l);var w=l.getBoundingClientRect(),k=w.bottom-_,C=l.scrollHeight>l.clientHeight+1,S=a.getScrollInfo();if(k>0){var T=w.bottom-w.top,E=g.top-(g.bottom-w.top);if(E-T>0)l.style.top=(y=g.top-T)+"px",b=!1;else if(T>_){l.style.height=_-5+"px",l.style.top=(y=g.bottom-w.top)+"px";var A=a.getCursor();i.from.ch!=A.ch&&(g=a.cursorCoords(A),l.style.left=(v=g.left)+"px",w=l.getBoundingClientRect())}}var M=w.right-x;if(M>0&&(w.right-w.left>x&&(l.style.width=x-5+"px",M-=w.right-w.left-x),l.style.left=(v=g.left-M)+"px"),C)for(var L=l.firstChild;L;L=L.nextSibling)L.style.paddingRight=a.display.nativeBarWidth+"px";if(a.addKeyMap(this.keyMap=o(e,{moveFocus:function(t,e){n.changeActive(n.selectedHint+t,e)},setFocus:function(t){n.changeActive(t)},menuSize:function(){return n.screenAmount()},length:c.length,close:function(){e.close()},pick:function(){n.pick()},data:i})),e.options.closeOnUnfocus){var N;a.on("blur",this.onBlur=function(){N=setTimeout(function(){e.close()},100)}),a.on("focus",this.onFocus=function(){clearTimeout(N)})}return a.on("scroll",this.onScroll=function(){var t=a.getScrollInfo(),i=a.getWrapperElement().getBoundingClientRect(),n=y+S.top-t.top,r=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return b||(r+=l.offsetHeight),r<=i.top||r>=i.bottom?e.close():(l.style.top=n+"px",void(l.style.left=v+S.left-t.left+"px"))}),t.on(l,"dblclick",function(t){var e=s(l,t.target||t.srcElement);e&&null!=e.hintId&&(n.changeActive(e.hintId),n.pick())}),t.on(l,"click",function(t){var i=s(l,t.target||t.srcElement);i&&null!=i.hintId&&(n.changeActive(i.hintId),e.options.completeOnSingleClick&&n.pick())}),t.on(l,"mousedown",function(){setTimeout(function(){a.focus()},20)}),t.signal(i,"select",c[0],l.firstChild),!0}function l(t,e){if(!t.somethingSelected())return e;for(var i=[],n=0;n<e.length;n++)e[n].supportsSelection&&i.push(e[n]);return i}function c(t,e,i,n){if(t.async)t(e,n,i);else{var r=t(e,i);r&&r.then?r.then(n):n(r)}}function u(e,i){var n,r=e.getHelpers(i,"hint");if(r.length){var o=function(t,e,i){function n(r){return r==o.length?e(null):void c(o[r],t,i,function(t){t&&t.list.length>0?e(t):n(r+1)})}var o=l(t,r);n(0)};return o.async=!0,o.supportsSelection=!0,o}return(n=e.getHelper(e.getCursor(),"hintWords"))?function(e){return t.hint.fromList(e,{words:n})}:t.hint.anyword?function(e,i){return t.hint.anyword(e,i)}:function(){}}var h="CodeMirror-hint",p="CodeMirror-hint-active";t.showHint=function(t,e,i){if(!e)return t.showHint(i);i&&i.async&&(e.async=!0);var n={hint:e};if(i)for(var r in i)n[r]=i[r];return t.showHint(n)},t.defineExtension("showHint",function(i){
i=n(this,this.getCursor("start"),i);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!i.hint.supportsSelection)return;for(var o=0;o<r.length;o++)if(r[o].head.line!=r[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var s=this.state.completionActive=new e(this,i);s.options.hint&&(t.signal(this,"startCompletion",this),s.update(!0))}});var f=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},d=window.cancelAnimationFrame||clearTimeout;e.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,i){var n=e.list[i];n.hint?n.hint(this.cm,e,n):this.cm.replaceRange(r(n),n.from||e.from,n.to||e.to,"complete"),t.signal(e,"pick",n),this.close()},cursorActivity:function(){this.debounce&&(d(this.debounce),this.debounce=0);var t=this.cm.getCursor(),e=this.cm.getLine(t.line);if(t.line!=this.startPos.line||e.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(e.charAt(t.ch-1)))this.close();else{var i=this;this.debounce=f(function(){i.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var e=this,i=++this.tick;c(this.options.hint,this.cm,this.options,function(n){e.tick==i&&e.finishUpdate(n,t)})}},finishUpdate:function(e,n){this.data&&t.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),e&&this.data&&i(this.data,e)||(this.data=e,e&&e.list.length&&(r&&1==e.list.length?this.pick(e,0):(this.widget=new a(this,e),t.signal(e,"shown"))))}},a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,i){if(e>=this.data.list.length?e=i?this.data.list.length-1:0:e<0&&(e=i?0:this.data.list.length-1),this.selectedHint!=e){var n=this.hints.childNodes[this.selectedHint];n.className=n.className.replace(" "+p,""),n=this.hints.childNodes[this.selectedHint=e],n.className+=" "+p,n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],n)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:u}),t.registerHelper("hint","fromList",function(e,i){var n=e.getCursor(),r=e.getTokenAt(n),o=t.Pos(n.line,r.end);if(r.string&&/\w/.test(r.string[r.string.length-1]))var s=r.string,a=t.Pos(n.line,r.start);else var s="",a=o;for(var l=[],c=0;c<i.words.length;c++){var u=i.words[c];u.slice(0,s.length)==s&&l.push(u)}if(l.length)return{list:l,from:a,to:o}}),t.commands.autocomplete=t.showHint;var m={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";var e=/[\w$]+/,i=500;t.registerHelper("hint","anyword",function(n,r){for(var o=r&&r.word||e,s=r&&r.range||i,a=n.getCursor(),l=n.getLine(a.line),c=a.ch,u=c;u&&o.test(l.charAt(u-1));)--u;for(var h=u!=c&&l.slice(u,c),p=r&&r.list||[],f={},d=new RegExp(o.source,"g"),m=-1;m<=1;m+=2)for(var g=a.line,v=Math.min(Math.max(g+m*s,n.firstLine()),n.lastLine())+m;g!=v;g+=m)for(var y,b=n.getLine(g);y=d.exec(b);)g==a.line&&y[0]===h||h&&0!=y[0].lastIndexOf(h,0)||Object.prototype.hasOwnProperty.call(f,y[0])||(f[y[0]]=!0,p.push(y[0]));return{list:p,from:t.Pos(a.line,u),to:t.Pos(a.line,c)}})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../../mode/css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../mode/css/css"],t):t(CodeMirror)}(function(t){"use strict";var e={link:1,visited:1,active:1,hover:1,focus:1,"first-letter":1,"first-line":1,"first-child":1,before:1,after:1,lang:1};t.registerHelper("hint","css",function(i){function n(t){for(var e in t)c&&0!=e.lastIndexOf(c,0)||h.push(e)}var r=i.getCursor(),o=i.getTokenAt(r),s=t.innerMode(i.getMode(),o.state);if("css"==s.mode.name){if("keyword"==o.type&&0=="!important".indexOf(o.string))return{list:["!important"],from:t.Pos(r.line,o.start),to:t.Pos(r.line,o.end)};var a=o.start,l=r.ch,c=o.string.slice(0,l-a);/[^\w$_-]/.test(c)&&(c="",a=l=r.ch);var u=t.resolveMode("text/css"),h=[],p=s.state.state;return"pseudo"==p||"variable-3"==o.type?n(e):"block"==p||"maybeprop"==p?n(u.propertyKeywords):"prop"==p||"parens"==p||"at"==p||"params"==p?(n(u.valueKeywords),n(u.colorKeywords)):"media"!=p&&"media_parens"!=p||(n(u.mediaTypes),n(u.mediaFeatures)),h.length?{list:h,from:t.Pos(r.line,a),to:t.Pos(r.line,l)}:void 0}})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(e,n){var r=n&&n.schemaInfo,o=n&&n.quoteChar||'"';if(r){var s=e.getCursor(),a=e.getTokenAt(s);a.end>s.ch&&(a.end=s.ch,a.string=a.string.slice(0,s.ch-a.start));var l=t.innerMode(e.getMode(),a.state);if("xml"==l.mode.name){var c,u,h=[],p=!1,f=/\btag\b/.test(a.type)&&!/>$/.test(a.string),d=f&&/^\w/.test(a.string);if(d){var m=e.getLine(s.line).slice(Math.max(0,a.start-2),a.start),g=/<\/$/.test(m)?"close":/<$/.test(m)?"open":null;g&&(u=a.start-("close"==g?2:1))}else f&&"<"==a.string?g="open":f&&"</"==a.string&&(g="close");if(!f&&!l.state.tagName||g){d&&(c=a.string),p=g;var v=l.state.context,y=v&&r[v.tagName],b=v?y&&y.children:r["!top"];if(b&&"close"!=g)for(var x=0;x<b.length;++x)c&&0!=b[x].lastIndexOf(c,0)||h.push("<"+b[x]);else if("close"!=g)for(var _ in r)!r.hasOwnProperty(_)||"!top"==_||"!attrs"==_||c&&0!=_.lastIndexOf(c,0)||h.push("<"+_);v&&(!c||"close"==g&&0==v.tagName.lastIndexOf(c,0))&&h.push("</"+v.tagName+">")}else{var y=r[l.state.tagName],w=y&&y.attrs,k=r["!attrs"];if(!w&&!k)return;if(w){if(k){var C={};for(var S in k)k.hasOwnProperty(S)&&(C[S]=k[S]);for(var S in w)w.hasOwnProperty(S)&&(C[S]=w[S]);w=C}}else w=k;if("string"==a.type||"="==a.string){var T,m=e.getRange(i(s.line,Math.max(0,s.ch-60)),i(s.line,"string"==a.type?a.start:a.end)),E=m.match(/([^\s\u00a0=<>\"\']+)=$/);if(!E||!w.hasOwnProperty(E[1])||!(T=w[E[1]]))return;if("function"==typeof T&&(T=T.call(this,e)),"string"==a.type){c=a.string;var A=0;/['"]/.test(a.string.charAt(0))&&(o=a.string.charAt(0),c=a.string.slice(1),A++);var M=a.string.length;/['"]/.test(a.string.charAt(M-1))&&(o=a.string.charAt(M-1),c=a.string.substr(A,M-2)),p=!0}for(var x=0;x<T.length;++x)c&&0!=T[x].lastIndexOf(c,0)||h.push(o+T[x]+o)}else{"attribute"==a.type&&(c=a.string,p=!0);for(var L in w)!w.hasOwnProperty(L)||c&&0!=L.lastIndexOf(c,0)||h.push(L)}}return{list:h,from:p?i(s.line,null==u?a.start:u):s,to:p?i(s.line,a.end):s}}}}var i=t.Pos;t.registerHelper("hint","xml",e)}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("./xml-hint")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./xml-hint"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e in h)h.hasOwnProperty(e)&&(t.attrs[e]=h[e])}function i(e,i){var n={schemaInfo:u};if(i)for(var r in i)n[r]=i[r];return t.hint.xml(e,n)}var n="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),r=["_blank","_self","_top","_parent"],o=["ascii","utf-8","utf-16","latin1","latin1"],s=["get","post","put","delete"],a=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],l=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"],c={attrs:{}},u={a:{attrs:{href:null,ping:null,type:null,media:l,target:r,hreflang:n}},abbr:c,acronym:c,address:c,applet:c,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:l,hreflang:n,type:null,shape:["default","rect","circle","poly"]}},article:c,aside:c,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:c,base:{attrs:{href:null,target:r}},basefont:c,bdi:c,bdo:c,big:c,blockquote:{attrs:{cite:null}},body:c,br:c,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:a,formmethod:s,formnovalidate:["","novalidate"],formtarget:r,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:c,center:c,cite:c,code:c,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:c,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:c,dir:c,div:c,dl:c,dt:c,em:c,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:c,figure:c,font:c,footer:c,form:{attrs:{action:null,name:null,"accept-charset":o,autocomplete:["on","off"],enctype:a,method:s,novalidate:["","novalidate"],target:r}},frame:c,frameset:c,h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:c,hgroup:c,hr:c,html:{attrs:{manifest:null},children:["head","body"]},i:c,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:a,formmethod:s,formnovalidate:["","novalidate"],formtarget:r,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:c,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:c,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:n,media:l,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:c,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:o,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:c,noframes:c,noscript:c,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:c,param:{attrs:{name:null,value:null}},pre:c,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:c,rt:c,ruby:c,s:c,samp:c,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:o}},section:c,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:c,source:{attrs:{src:null,type:null,media:null}},span:c,strike:c,strong:c,style:{attrs:{type:["text/css"],media:l,scoped:null}},sub:c,summary:c,sup:c,table:c,tbody:c,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:c,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:c,time:{attrs:{datetime:null}},title:c,tr:c,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:n}},tt:c,u:c,ul:c,"var":c,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:c},h={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};e(c);for(var p in u)u.hasOwnProperty(p)&&u[p]!=c&&e(u[p]);t.htmlSchema=u,t.registerHelper("hint","html",i)}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){function e(t,e,i){var n,r=t.getWrapperElement();return n=r.appendChild(document.createElement("div")),i?n.className="CodeMirror-dialog CodeMirror-dialog-bottom":n.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof e?n.innerHTML=e:n.appendChild(e),n}function i(t,e){t.state.currentNotificationClose&&t.state.currentNotificationClose(),t.state.currentNotificationClose=e}t.defineExtension("openDialog",function(n,r,o){function s(t){if("string"==typeof t)h.value=t;else{if(c)return;c=!0,l.parentNode.removeChild(l),u.focus(),o.onClose&&o.onClose(l)}}o||(o={}),i(this,null);var a,l=e(this,n,o.bottom),c=!1,u=this,h=l.getElementsByTagName("input")[0];return h?(h.focus(),o.value&&(h.value=o.value,o.selectValueOnOpen!==!1&&h.select()),o.onInput&&t.on(h,"input",function(t){o.onInput(t,h.value,s)}),o.onKeyUp&&t.on(h,"keyup",function(t){o.onKeyUp(t,h.value,s)}),t.on(h,"keydown",function(e){o&&o.onKeyDown&&o.onKeyDown(e,h.value,s)||((27==e.keyCode||o.closeOnEnter!==!1&&13==e.keyCode)&&(h.blur(),t.e_stop(e),s()),13==e.keyCode&&r(h.value,e))}),o.closeOnBlur!==!1&&t.on(h,"blur",s)):(a=l.getElementsByTagName("button")[0])&&(t.on(a,"click",function(){s(),u.focus()}),o.closeOnBlur!==!1&&t.on(a,"blur",s),a.focus()),s}),t.defineExtension("openConfirm",function(n,r,o){function s(){c||(c=!0,a.parentNode.removeChild(a),u.focus())}i(this,null);var a=e(this,n,o&&o.bottom),l=a.getElementsByTagName("button"),c=!1,u=this,h=1;l[0].focus();for(var p=0;p<l.length;++p){var f=l[p];!function(e){t.on(f,"click",function(i){t.e_preventDefault(i),s(),e&&e(u)})}(r[p]),t.on(f,"blur",function(){--h,setTimeout(function(){h<=0&&s()},200)}),t.on(f,"focus",function(){++h})}}),t.defineExtension("openNotification",function(n,r){function o(){l||(l=!0,clearTimeout(s),a.parentNode.removeChild(a))}i(this,o);var s,a=e(this,n,r&&r.bottom),l=!1,c=r&&"undefined"!=typeof r.duration?r.duration:5e3;return t.on(a,"click",function(e){t.e_preventDefault(e),o()}),c&&(s=setTimeout(o,c)),o})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,i){var n=t.docs[e];n?i(L(t,n)):t.options.getFile?t.options.getFile(e,i):i(null)}function i(t,e,i){for(var n in t.docs){var r=t.docs[n];if(r.doc==e)return r}if(!i)for(var o=0;;++o)if(n="[doc"+(o||"")+"]",!t.docs[n]){i=n;break}return t.addDoc(i,e)}function n(e,n){return"string"==typeof n?e.docs[n]:(n instanceof t&&(n=n.getDoc()),n instanceof t.Doc?i(e,n):void 0)}function r(t,e,n){var r=i(t,e),s=t.cachedArgHints;s&&s.doc==e&&R(s.start,n.to)>=0&&(t.cachedArgHints=null);var a=r.changed;null==a&&(r.changed=a={from:n.from.line,to:n.from.line});var l=n.from.line+(n.text.length-1);n.from.line<a.to&&(a.to=a.to-(n.to.line-l)),l>=a.to&&(a.to=l+1),a.from>n.from.line&&(a.from=n.from.line),e.lineCount()>D&&n.to-a.from>100&&setTimeout(function(){r.changed&&r.changed.to-r.changed.from>100&&o(t,r)},200)}function o(t,e){t.server.request({files:[{type:"full",name:e.name,text:L(t,e)}]},function(t){t?window.console.error(t):e.changed=null})}function s(e,i,n){e.request(i,{type:"completions",types:!0,docs:!0,urls:!0},function(r,o){if(r)return A(e,i,r);var s=[],l="",c=o.start,u=o.end;'["'==i.getRange(P(c.line,c.ch-2),c)&&'"]'!=i.getRange(u,P(u.line,u.ch+2))&&(l='"]');for(var h=0;h<o.completions.length;++h){var p=o.completions[h],f=a(p.type);o.guess&&(f+=" "+I+"guess"),s.push({text:p.name+l,displayText:p.displayName||p.name,className:f,data:p})}var d={from:c,to:u,list:s},m=null;t.on(d,"close",function(){T(m)}),t.on(d,"update",function(){T(m)}),t.on(d,"select",function(t,i){T(m);var n=e.options.completionTip?e.options.completionTip(t.data):t.data.doc;n&&(m=S(i.parentNode.getBoundingClientRect().right+window.pageXOffset,i.getBoundingClientRect().top+window.pageYOffset,n),m.className+=" "+I+"hint-doc")}),n(d)})}function a(t){var e;return e="?"==t?"unknown":"number"==t||"string"==t||"bool"==t?t:/^fn\(/.test(t)?"fn":/^\[/.test(t)?"array":"object",I+"completion "+I+"completion-"+e}function l(t,e,i,n,r){t.request(e,n,function(i,n){if(i)return A(t,e,i);if(t.options.typeTip)var o=t.options.typeTip(n);else{var o=w("span",null,w("strong",null,n.type||"not found"));if(n.doc&&o.appendChild(document.createTextNode(" — "+n.doc)),n.url){o.appendChild(document.createTextNode(" "));var s=o.appendChild(w("a",null,"[docs]"));s.href=n.url,s.target="_blank"}}C(e,o,t),r&&r()},i)}function c(e,i){if(M(e),!i.somethingSelected()){var n=i.getTokenAt(i.getCursor()).state,r=t.innerMode(i.getMode(),n);if("javascript"==r.mode.name){var o=r.state.lexical;if("call"==o.info){for(var s,a=o.pos||0,l=i.getOption("tabSize"),c=i.getCursor().line,p=Math.max(0,c-9),f=!1;c>=p;--c){for(var d=i.getLine(c),m=0,g=0;;){var v=d.indexOf("\t",g);if(v==-1)break;m+=l-(v+m)%l-1,g=v+1}if(s=o.column-m,"("==d.charAt(s)){f=!0;break}}if(f){var y=P(c,s),b=e.cachedArgHints;return b&&b.doc==i.getDoc()&&0==R(y,b.start)?u(e,i,a):void e.request(i,{type:"type",preferFunction:!0,end:y},function(t,n){!t&&n.type&&/^fn\(/.test(n.type)&&(e.cachedArgHints={start:y,type:h(n.type),name:n.exprName||n.name||"fn",guess:n.guess,doc:i.getDoc()},u(e,i,a))})}}}}}function u(t,e,i){M(t);for(var n=t.cachedArgHints,r=n.type,o=w("span",n.guess?I+"fhint-guess":null,w("span",I+"fname",n.name),"("),s=0;s<r.args.length;++s){s&&o.appendChild(document.createTextNode(", "));var a=r.args[s];o.appendChild(w("span",I+"farg"+(s==i?" "+I+"farg-current":""),a.name||"?")),"?"!=a.type&&(o.appendChild(document.createTextNode(": ")),o.appendChild(w("span",I+"type",a.type)))}o.appendChild(document.createTextNode(r.rettype?") -> ":")")),r.rettype&&o.appendChild(w("span",I+"type",r.rettype));var l=e.cursorCoords(null,"page");t.activeArgHints=S(l.right+1,l.bottom,o)}function h(t){function e(e){for(var i=0,r=n;;){var o=t.charAt(n);if(e.test(o)&&!i)return t.slice(r,n);/[{\[\(]/.test(o)?++i:/[}\]\)]/.test(o)&&--i,++n}}var i=[],n=3;if(")"!=t.charAt(n))for(;;){var r=t.slice(n).match(/^([^, \(\[\{]+): /);if(r&&(n+=r[0].length,r=r[1]),i.push({name:r,type:e(/[\),]/)}),")"==t.charAt(n))break;n+=2}var o=t.slice(n).match(/^\) -> (.*)$/);return{args:i,rettype:o&&o[1]}}function p(t,e){function n(n){var r={type:"definition",variable:n||null},o=i(t,e.getDoc());t.server.request(x(t,o,r),function(i,n){if(i)return A(t,e,i);if(!n.file&&n.url)return void window.open(n.url);if(n.file){var r,s=t.docs[n.file];if(s&&(r=m(s.doc,n)))return t.jumpStack.push({file:o.name,start:e.getCursor("from"),end:e.getCursor("to")}),void d(t,o,s,r.start,r.end)}A(t,e,"Could not find a definition.")})}g(e)?n():k(e,"Jump to variable",function(t){t&&n(t)})}function f(t,e){var n=t.jumpStack.pop(),r=n&&t.docs[n.file];r&&d(t,i(t,e.getDoc()),r,n.start,n.end)}function d(t,e,i,n,r){i.doc.setSelection(n,r),e!=i&&t.options.switchToDoc&&(M(t),t.options.switchToDoc(i.name,i.doc))}function m(t,e){for(var i=e.context.slice(0,e.contextOffset).split("\n"),n=e.start.line-(i.length-1),r=P(n,(1==i.length?e.start.ch:t.getLine(n).length)-i[0].length),o=t.getLine(n).slice(r.ch),s=n+1;s<t.lineCount()&&o.length<e.context.length;++s)o+="\n"+t.getLine(s);if(o.slice(0,e.context.length)==e.context)return e;for(var a,l=t.getSearchCursor(e.context,0,!1),c=1/0;l.findNext();){var u=l.from(),h=1e4*Math.abs(u.line-r.line);h||(h=Math.abs(u.ch-r.ch)),h<c&&(a=u,c=h)}if(!a)return null;if(1==i.length?a.ch+=i[0].length:a=P(a.line+(i.length-1),i[i.length-1].length),e.start.line==e.end.line)var p=P(a.line,a.ch+(e.end.ch-e.start.ch));else var p=P(a.line+(e.end.line-e.start.line),e.end.ch);return{start:a,end:p}}function g(t){var e=t.getCursor("end"),i=t.getTokenAt(e);return!(i.start<e.ch&&"comment"==i.type)&&/[\w)\]]/.test(t.getLine(e.line).slice(Math.max(e.ch-1,0),e.ch+1))}function v(t,e){var i=e.getTokenAt(e.getCursor());return/\w/.test(i.string)?void k(e,"New name for "+i.string,function(i){t.request(e,{type:"rename",newName:i,fullDocs:!0},function(i,n){return i?A(t,e,i):void b(t,n.changes)})}):A(t,e,"Not at a variable")}function y(t,e){var n=i(t,e.doc).name;t.request(e,{type:"refs"},function(i,r){if(i)return A(t,e,i);for(var o=[],s=0,a=e.getCursor(),l=0;l<r.refs.length;l++){var c=r.refs[l];c.file==n&&(o.push({anchor:c.start,head:c.end}),R(a,c.start)>=0&&R(a,c.end)<=0&&(s=o.length-1))}e.setSelections(o,s)})}function b(t,e){for(var i=Object.create(null),n=0;n<e.length;++n){var r=e[n];(i[r.file]||(i[r.file]=[])).push(r)}for(var o in i){var s=t.docs[o],a=i[o];if(s){a.sort(function(t,e){return R(e.start,t.start)});for(var l="*rename"+ ++O,n=0;n<a.length;++n){var r=a[n];s.doc.replaceRange(r.text,r.start,r.end,l)}}}}function x(t,e,i,n){var r=[],o=0,s=!i.fullDocs;s||delete i.fullDocs,"string"==typeof i&&(i={type:i}),i.lineCharPositions=!0,null==i.end&&(i.end=n||e.doc.getCursor("end"),e.doc.somethingSelected()&&(i.start=e.doc.getCursor("start")));var a=i.start||i.end;if(e.changed)if(e.doc.lineCount()>D&&s!==!1&&e.changed.to-e.changed.from<100&&e.changed.from<=a.line&&e.changed.to>i.end.line){r.push(_(e,a,i.end)),i.file="#0";var o=r[0].offsetLines;null!=i.start&&(i.start=P(i.start.line- -o,i.start.ch)),i.end=P(i.end.line-o,i.end.ch)}else r.push({type:"full",name:e.name,text:L(t,e)}),i.file=e.name,e.changed=null;else i.file=e.name;for(var l in t.docs){var c=t.docs[l];c.changed&&c!=e&&(r.push({type:"full",name:c.name,text:L(t,c)}),c.changed=null)}return{query:i,files:r}}function _(e,i,n){for(var r,o=e.doc,s=null,a=null,l=4,c=i.line-1,u=Math.max(0,c-50);c>=u;--c){var h=o.getLine(c),p=h.search(/\bfunction\b/);if(!(p<0)){var f=t.countColumn(h,null,l);null!=s&&s<=f||(s=f,a=c)}}null==a&&(a=u);var d=Math.min(o.lastLine(),n.line+20);if(null==s||s==t.countColumn(o.getLine(i.line),null,l))r=d;else for(r=n.line+1;r<d;++r){var f=t.countColumn(o.getLine(r),null,l);if(f<=s)break}var m=P(a,0);return{type:"part",name:e.name,offsetLines:m.line,text:o.getRange(m,P(r,0))}}function w(t,e){var i=document.createElement(t);e&&(i.className=e);for(var n=2;n<arguments.length;++n){var r=arguments[n];"string"==typeof r&&(r=document.createTextNode(r)),i.appendChild(r)}return i}function k(t,e,i){t.openDialog?t.openDialog(e+": <input type=text>",i):i(prompt(e,""))}function C(e,i,n){function r(){c=!0,l||o()}function o(){e.state.ternTooltip=null,a.parentNode&&(e.off("cursorActivity",o),e.off("blur",o),e.off("scroll",o),E(a))}e.state.ternTooltip&&T(e.state.ternTooltip);var s=e.cursorCoords(),a=e.state.ternTooltip=S(s.right+1,s.bottom,i),l=!1,c=!1;t.on(a,"mousemove",function(){l=!0}),t.on(a,"mouseout",function(e){t.contains(a,e.relatedTarget||e.toElement)||(c?o():l=!1)}),setTimeout(r,n.options.hintDelay?n.options.hintDelay:1700),e.on("cursorActivity",o),e.on("blur",o),e.on("scroll",o)}function S(t,e,i){var n=w("div",I+"tooltip",i);return n.style.left=t+"px",n.style.top=e+"px",document.body.appendChild(n),n}function T(t){var e=t&&t.parentNode;e&&e.removeChild(t)}function E(t){t.style.opacity="0",setTimeout(function(){T(t)},1100)}function A(t,e,i){t.options.showError?t.options.showError(e,i):C(e,String(i),t)}function M(t){t.activeArgHints&&(T(t.activeArgHints),t.activeArgHints=null)}function L(t,e){var i=e.doc.getValue();return t.options.fileFilter&&(i=t.options.fileFilter(i,e.name,e.doc)),i}function N(t){function i(t,e){e&&(t.id=++r,o[r]=e),n.postMessage(t)}var n=t.worker=new Worker(t.options.workerScript);n.postMessage({type:"init",defs:t.options.defs,plugins:t.options.plugins,scripts:t.options.workerDeps});var r=0,o={};n.onmessage=function(n){var r=n.data;"getFile"==r.type?e(t,r.name,function(t,e){i({type:"getFile",err:String(t),text:e,id:r.id})}):"debug"==r.type?window.console.log(r.message):r.id&&o[r.id]&&(o[r.id](r.err,r.body),delete o[r.id])},n.onerror=function(t){for(var e in o)o[e](t);o={}},this.addFile=function(t,e){i({type:"add",name:t,text:e})},this.delFile=function(t){i({type:"del",name:t})},this.request=function(t,e){i({type:"req",body:t},e)}}t.TernServer=function(t){var i=this;this.options=t||{};var n=this.options.plugins||(this.options.plugins={});n.doc_comment||(n.doc_comment=!0),this.docs=Object.create(null),this.options.useWorker?this.server=new N(this):this.server=new tern.Server({getFile:function(t,n){return e(i,t,n)},async:!0,defs:this.options.defs||[],plugins:n}),this.trackChange=function(t,e){r(i,t,e)},this.cachedArgHints=null,this.activeArgHints=null,this.jumpStack=[],this.getHint=function(t,e){return s(i,t,e)},this.getHint.async=!0},t.TernServer.prototype={addDoc:function(e,i){var n={doc:i,name:e,changed:null};return this.server.addFile(e,L(this,n)),t.on(i,"change",this.trackChange),this.docs[e]=n},delDoc:function(e){var i=n(this,e);i&&(t.off(i.doc,"change",this.trackChange),delete this.docs[i.name],this.server.delFile(i.name))},hideDoc:function(t){M(this);var e=n(this,t);e&&e.changed&&o(this,e)},complete:function(t){t.showHint({hint:this.getHint})},showType:function(t,e,i){l(this,t,e,"type",i)},showDocs:function(t,e,i){l(this,t,e,"documentation",i)},updateArgHints:function(t){c(this,t)},jumpToDef:function(t){p(this,t)},jumpBack:function(t){f(this,t)},rename:function(t){v(this,t)},selectName:function(t){y(this,t)},request:function(t,e,n,r){var o=this,s=i(this,t.getDoc()),a=x(this,s,e,r),l=a.query&&this.options.queryOptions&&this.options.queryOptions[a.query.type];if(l)for(var c in l)a.query[c]=l[c];this.server.request(a,function(t,i){!t&&o.options.responseFilter&&(i=o.options.responseFilter(s,e,a,t,i)),n(t,i)})},destroy:function(){M(this),this.worker&&(this.worker.terminate(),this.worker=null)}};var P=t.Pos,I="CodeMirror-Tern-",D=250,O=0,R=t.cmpPos}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],t):t(CodeMirror)}(function(t){"use strict";function e(e,i,n){if(n<0&&0==i.ch)return e.clipPos(f(i.line-1));var r=e.getLine(i.line);if(n>0&&i.ch>=r.length)return e.clipPos(f(i.line+1,0));for(var o,s="start",a=i.ch,l=n<0?0:r.length,c=0;a!=l;a+=n,c++){var u=r.charAt(n<0?a-1:a),h="_"!=u&&t.isWordChar(u)?"w":"o";if("w"==h&&u.toUpperCase()==u&&(h="W"),"start"==s)"o"!=h&&(s="in",o=h);else if("in"==s&&o!=h){if("w"==o&&"W"==h&&n<0&&a--,"W"==o&&"w"==h&&n>0){o="w";continue}break}}return f(i.line,a)}function i(t,i){t.extendSelectionsBy(function(n){return t.display.shift||t.doc.extend||n.empty()?e(t.doc,n.head,i):i<0?n.from():n.to()})}function n(e,i){return e.isReadOnly()?t.Pass:(e.operation(function(){for(var t=e.listSelections().length,n=[],r=-1,o=0;o<t;o++){var s=e.listSelections()[o].head;if(!(s.line<=r)){var a=f(s.line+(i?0:1),0);e.replaceRange("\n",a,null,"+insertLine"),e.indentLine(a.line,null,!0),n.push({head:a,anchor:a}),r=s.line+1}}e.setSelections(n)}),void e.execCommand("indentAuto"))}function r(e,i){for(var n=i.ch,r=n,o=e.getLine(i.line);n&&t.isWordChar(o.charAt(n-1));)--n;for(;r<o.length&&t.isWordChar(o.charAt(r));)++r;return{from:f(i.line,n),to:f(i.line,r),word:o.slice(n,r)}}function o(t,e,i){for(var n=0;n<t.length;n++)if(t[n].from()==e&&t[n].to()==i)return!0;return!1}function s(t){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++){var r=e[n],o=r.head,s=t.scanForBracket(o,-1);if(!s)return!1;for(;;){var a=t.scanForBracket(o,1);if(!a)return!1;if(a.ch==y.charAt(y.indexOf(s.ch)+1)){i.push({anchor:f(s.pos.line,s.pos.ch+1),head:a.pos});break}o=f(a.pos.line,a.pos.ch+1)}}return t.setSelections(i),!0}function a(e,i){if(e.isReadOnly())return t.Pass;for(var n,r=e.listSelections(),o=[],s=0;s<r.length;s++){var a=r[s];if(!a.empty()){for(var l=a.from().line,c=a.to().line;s<r.length-1&&r[s+1].from().line==c;)c=r[++s].to().line;r[s].to().ch||c--,o.push(l,c)}}o.length?n=!0:o.push(e.firstLine(),e.lastLine()),e.operation(function(){for(var t=[],r=0;r<o.length;r+=2){var s=o[r],a=o[r+1],l=f(s,0),c=f(a),u=e.getRange(l,c,!1);i?u.sort():u.sort(function(t,e){var i=t.toUpperCase(),n=e.toUpperCase();return i!=n&&(t=i,e=n),t<e?-1:t==e?0:1}),e.replaceRange(u,l,c),n&&t.push({anchor:l,head:f(a+1,0)})}n&&e.setSelections(t,0)})}function l(e,i){e.operation(function(){for(var n=e.listSelections(),o=[],s=[],a=0;a<n.length;a++){var l=n[a];l.empty()?(o.push(a),s.push("")):s.push(i(e.getRange(l.from(),l.to())));
}e.replaceSelections(s,"around","case");for(var c,a=o.length-1;a>=0;a--){var l=n[o[a]];if(!(c&&t.cmpPos(l.head,c)>0)){var u=r(e,l.head);c=u.from,e.replaceRange(i(u.word),u.from,u.to)}}})}function c(e){var i=e.getCursor("from"),n=e.getCursor("to");if(0==t.cmpPos(i,n)){var o=r(e,i);if(!o.word)return;i=o.from,n=o.to}return{from:i,to:n,query:e.getRange(i,n),word:o}}function u(t,e){var i=c(t);if(i){var n=i.query,r=t.getSearchCursor(n,e?i.to:i.from);(e?r.findNext():r.findPrevious())?t.setSelection(r.from(),r.to()):(r=t.getSearchCursor(n,e?f(t.firstLine(),0):t.clipPos(f(t.lastLine()))),(e?r.findNext():r.findPrevious())?t.setSelection(r.from(),r.to()):i.word&&t.setSelection(i.from,i.to))}}var h=t.keyMap.sublime={fallthrough:"default"},p=t.commands,f=t.Pos,d=t.keyMap["default"]==t.keyMap.macDefault,m=d?"Cmd-":"Ctrl-",g=d?"Ctrl-":"Alt-";p[h[g+"Left"]="goSubwordLeft"]=function(t){i(t,-1)},p[h[g+"Right"]="goSubwordRight"]=function(t){i(t,1)},d&&(h["Cmd-Left"]="goLineStartSmart");var v=d?"Ctrl-Alt-":"Ctrl-";p[h[v+"Up"]="scrollLineUp"]=function(t){var e=t.getScrollInfo();if(!t.somethingSelected()){var i=t.lineAtHeight(e.top+e.clientHeight,"local");t.getCursor().line>=i&&t.execCommand("goLineUp")}t.scrollTo(null,e.top-t.defaultTextHeight())},p[h[v+"Down"]="scrollLineDown"]=function(t){var e=t.getScrollInfo();if(!t.somethingSelected()){var i=t.lineAtHeight(e.top,"local")+1;t.getCursor().line<=i&&t.execCommand("goLineDown")}t.scrollTo(null,e.top+t.defaultTextHeight())},p[h["Shift-"+m+"L"]="splitSelectionByLine"]=function(t){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)for(var r=e[n].from(),o=e[n].to(),s=r.line;s<=o.line;++s)o.line>r.line&&s==o.line&&0==o.ch||i.push({anchor:s==r.line?r:f(s,0),head:s==o.line?o:f(s)});t.setSelections(i,0)},h["Shift-Tab"]="indentLess",p[h.Esc="singleSelectionTop"]=function(t){var e=t.listSelections()[0];t.setSelection(e.anchor,e.head,{scroll:!1})},p[h[m+"L"]="selectLine"]=function(t){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++){var r=e[n];i.push({anchor:f(r.from().line,0),head:f(r.to().line+1,0)})}t.setSelections(i)},h["Shift-Ctrl-K"]="deleteLine",p[h[m+"Enter"]="insertLineAfter"]=function(t){return n(t,!1)},p[h["Shift-"+m+"Enter"]="insertLineBefore"]=function(t){return n(t,!0)},p[h[m+"D"]="selectNextOccurrence"]=function(e){var i=e.getCursor("from"),n=e.getCursor("to"),s=e.state.sublimeFindFullWord==e.doc.sel;if(0==t.cmpPos(i,n)){var a=r(e,i);if(!a.word)return;e.setSelection(a.from,a.to),s=!0}else{var l=e.getRange(i,n),c=s?new RegExp("\\b"+l+"\\b"):l,u=e.getSearchCursor(c,n),h=u.findNext();if(h||(u=e.getSearchCursor(c,f(e.firstLine(),0)),h=u.findNext()),!h||o(e.listSelections(),u.from(),u.to()))return t.Pass;e.addSelection(u.from(),u.to())}s&&(e.state.sublimeFindFullWord=e.doc.sel)};var y="(){}[]";p[h["Shift-"+m+"Space"]="selectScope"]=function(t){s(t)||t.execCommand("selectAll")},p[h["Shift-"+m+"M"]="selectBetweenBrackets"]=function(e){if(!s(e))return t.Pass},p[h[m+"M"]="goToBracket"]=function(e){e.extendSelectionsBy(function(i){var n=e.scanForBracket(i.head,1);if(n&&0!=t.cmpPos(n.pos,i.head))return n.pos;var r=e.scanForBracket(i.head,-1);return r&&f(r.pos.line,r.pos.ch+1)||i.head})};var b=d?"Cmd-Ctrl-":"Shift-Ctrl-";p[h[b+"Up"]="swapLineUp"]=function(e){if(e.isReadOnly())return t.Pass;for(var i=e.listSelections(),n=[],r=e.firstLine()-1,o=[],s=0;s<i.length;s++){var a=i[s],l=a.from().line-1,c=a.to().line;o.push({anchor:f(a.anchor.line-1,a.anchor.ch),head:f(a.head.line-1,a.head.ch)}),0!=a.to().ch||a.empty()||--c,l>r?n.push(l,c):n.length&&(n[n.length-1]=c),r=c}e.operation(function(){for(var t=0;t<n.length;t+=2){var i=n[t],r=n[t+1],s=e.getLine(i);e.replaceRange("",f(i,0),f(i+1,0),"+swapLine"),r>e.lastLine()?e.replaceRange("\n"+s,f(e.lastLine()),null,"+swapLine"):e.replaceRange(s+"\n",f(r,0),null,"+swapLine")}e.setSelections(o),e.scrollIntoView()})},p[h[b+"Down"]="swapLineDown"]=function(e){if(e.isReadOnly())return t.Pass;for(var i=e.listSelections(),n=[],r=e.lastLine()+1,o=i.length-1;o>=0;o--){var s=i[o],a=s.to().line+1,l=s.from().line;0!=s.to().ch||s.empty()||a--,a<r?n.push(a,l):n.length&&(n[n.length-1]=l),r=l}e.operation(function(){for(var t=n.length-2;t>=0;t-=2){var i=n[t],r=n[t+1],o=e.getLine(i);i==e.lastLine()?e.replaceRange("",f(i-1),f(i),"+swapLine"):e.replaceRange("",f(i,0),f(i+1,0),"+swapLine"),e.replaceRange(o+"\n",f(r,0),null,"+swapLine")}e.scrollIntoView()})},p[h[m+"/"]="toggleCommentIndented"]=function(t){t.toggleComment({indent:!0})},p[h[m+"J"]="joinLines"]=function(t){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++){for(var r=e[n],o=r.from(),s=o.line,a=r.to().line;n<e.length-1&&e[n+1].from().line==a;)a=e[++n].to().line;i.push({start:s,end:a,anchor:!r.empty()&&o})}t.operation(function(){for(var e=0,n=[],r=0;r<i.length;r++){for(var o,s=i[r],a=s.anchor&&f(s.anchor.line-e,s.anchor.ch),l=s.start;l<=s.end;l++){var c=l-e;l==s.end&&(o=f(c,t.getLine(c).length+1)),c<t.lastLine()&&(t.replaceRange(" ",f(c),f(c+1,/^\s*/.exec(t.getLine(c+1))[0].length)),++e)}n.push({anchor:a||o,head:o})}t.setSelections(n,0)})},p[h["Shift-"+m+"D"]="duplicateLine"]=function(t){t.operation(function(){for(var e=t.listSelections().length,i=0;i<e;i++){var n=t.listSelections()[i];n.empty()?t.replaceRange(t.getLine(n.head.line)+"\n",f(n.head.line,0)):t.replaceRange(t.getRange(n.from(),n.to()),n.from())}t.scrollIntoView()})},d||(h[m+"T"]="transposeChars"),p[h.F9="sortLines"]=function(t){a(t,!0)},p[h[m+"F9"]="sortLinesInsensitive"]=function(t){a(t,!1)},p[h.F2="nextBookmark"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(;e.length;){var i=e.shift(),n=i.find();if(n)return e.push(i),t.setSelection(n.from,n.to)}},p[h["Shift-F2"]="prevBookmark"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(;e.length;){e.unshift(e.pop());var i=e[e.length-1].find();if(i)return t.setSelection(i.from,i.to);e.pop()}},p[h[m+"F2"]="toggleBookmark"]=function(t){for(var e=t.listSelections(),i=t.state.sublimeBookmarks||(t.state.sublimeBookmarks=[]),n=0;n<e.length;n++){for(var r=e[n].from(),o=e[n].to(),s=t.findMarks(r,o),a=0;a<s.length;a++)if(s[a].sublimeBookmark){s[a].clear();for(var l=0;l<i.length;l++)i[l]==s[a]&&i.splice(l--,1);break}a==s.length&&i.push(t.markText(r,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},p[h["Shift-"+m+"F2"]="clearBookmarks"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(var i=0;i<e.length;i++)e[i].clear();e.length=0},p[h["Alt-F2"]="selectBookmarks"]=function(t){var e=t.state.sublimeBookmarks,i=[];if(e)for(var n=0;n<e.length;n++){var r=e[n].find();r?i.push({anchor:r.from,head:r.to}):e.splice(n--,0)}i.length&&t.setSelections(i,0)},h["Alt-Q"]="wrapLines";var x=m+"K ";h[x+m+"Backspace"]="delLineLeft",p[h.Backspace="smartBackspace"]=function(e){return e.somethingSelected()?t.Pass:void e.operation(function(){for(var i=e.listSelections(),n=e.getOption("indentUnit"),r=i.length-1;r>=0;r--){var o=i[r].head,s=e.getRange({line:o.line,ch:0},o),a=t.countColumn(s,null,e.getOption("tabSize")),l=e.findPosH(o,-1,"char",!1);if(s&&!/\S/.test(s)&&a%n==0){var c=new f(o.line,t.findColumn(s,a-n,n));c.ch!=o.ch&&(l=c)}e.replaceRange("",l,o,"+delete")}})},p[h[x+m+"K"]="delLineRight"]=function(t){t.operation(function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange("",e[i].anchor,f(e[i].to().line),"+delete");t.scrollIntoView()})},p[h[x+m+"U"]="upcaseAtCursor"]=function(t){l(t,function(t){return t.toUpperCase()})},p[h[x+m+"L"]="downcaseAtCursor"]=function(t){l(t,function(t){return t.toLowerCase()})},p[h[x+m+"Space"]="setSublimeMark"]=function(t){t.state.sublimeMark&&t.state.sublimeMark.clear(),t.state.sublimeMark=t.setBookmark(t.getCursor())},p[h[x+m+"A"]="selectToSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();e&&t.setSelection(t.getCursor(),e)},p[h[x+m+"W"]="deleteToSublimeMark"]=function(e){var i=e.state.sublimeMark&&e.state.sublimeMark.find();if(i){var n=e.getCursor(),r=i;if(t.cmpPos(n,r)>0){var o=r;r=n,n=o}e.state.sublimeKilled=e.getRange(n,r),e.replaceRange("",n,r)}},p[h[x+m+"X"]="swapWithSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();e&&(t.state.sublimeMark.clear(),t.state.sublimeMark=t.setBookmark(t.getCursor()),t.setCursor(e))},p[h[x+m+"Y"]="sublimeYank"]=function(t){null!=t.state.sublimeKilled&&t.replaceSelection(t.state.sublimeKilled,null,"paste")},h[x+m+"G"]="clearBookmarks",p[h[x+m+"C"]="showInCenter"]=function(t){var e=t.cursorCoords(null,"local");t.scrollTo(null,(e.top+e.bottom)/2-t.getScrollInfo().clientHeight/2)};var _=d?"Ctrl-Shift-":"Ctrl-Alt-";p[h[_+"Up"]="selectLinesUpward"]=function(t){t.operation(function(){for(var e=t.listSelections(),i=0;i<e.length;i++){var n=e[i];n.head.line>t.firstLine()&&t.addSelection(f(n.head.line-1,n.head.ch))}})},p[h[_+"Down"]="selectLinesDownward"]=function(t){t.operation(function(){for(var e=t.listSelections(),i=0;i<e.length;i++){var n=e[i];n.head.line<t.lastLine()&&t.addSelection(f(n.head.line+1,n.head.ch))}})},p[h[m+"F3"]="findUnder"]=function(t){u(t,!0)},p[h["Shift-"+m+"F3"]="findUnderPrevious"]=function(t){u(t,!1)},p[h["Alt-F3"]="findAllUnder"]=function(t){var e=c(t);if(e){for(var i=t.getSearchCursor(e.query),n=[],r=-1;i.findNext();)n.push({anchor:i.from(),head:i.to()}),i.from().line<=e.from.line&&i.from().ch<=e.from.ch&&r++;t.setSelections(n,r)}},h["Shift-"+m+"["]="fold",h["Shift-"+m+"]"]="unfold",h[x+m+"0"]=h[x+m+"J"]="unfoldAll",h[m+"I"]="findIncremental",h["Shift-"+m+"I"]="findIncrementalReverse",h[m+"H"]="replace",h.F3="findNext",h["Shift-F3"]="findPrev",t.normalizeKeyMap(h)}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/dialog/dialog"),require("../addon/edit/matchbrackets.js")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/dialog/dialog","../addon/edit/matchbrackets"],t):t(CodeMirror)}(function(t){"use strict";var e=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0}},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],i=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"global",shortName:"g"}],n=t.Pos,r=function(){function r(e){e.setOption("disableInput",!0),e.setOption("showCursorWhenSelecting",!1),t.signal(e,"vim-mode-change",{mode:"normal"}),e.on("cursorActivity",ee),k(e),t.on(e.getInputField(),"paste",u(e))}function o(e){e.setOption("disableInput",!1),e.off("cursorActivity",ee),t.off(e.getInputField(),"paste",u(e)),e.state.vim=null}function s(e,i){this==t.keyMap.vim&&t.rmClass(e.getWrapperElement(),"cm-fat-cursor"),i&&i.attach==a||o(e,!1)}function a(e,i){this==t.keyMap.vim&&t.addClass(e.getWrapperElement(),"cm-fat-cursor"),i&&i.attach==a||r(e)}function l(e,i){if(i){if(this[e])return this[e];var n=c(e);if(!n)return!1;var r=t.Vim.findKey(i,n);return"function"==typeof r&&t.signal(i,"vim-keypress",n),r}}function c(t){if("'"==t.charAt(0))return t.charAt(1);var e=t.split(/-(?!$)/),i=e[e.length-1];if(1==e.length&&1==e[0].length)return!1;if(2==e.length&&"Shift"==e[0]&&1==i.length)return!1;for(var n=!1,r=0;r<e.length;r++){var o=e[r];o in le?e[r]=le[o]:n=!0,o in ce&&(e[r]=ce[o])}return!!n&&(g(i)&&(e[e.length-1]=i.toLowerCase()),"<"+e.join("-")+">")}function u(t){var e=t.state.vim;return e.onPasteFn||(e.onPasteFn=function(){e.insertMode||(t.setCursor(F(t.getCursor(),0,1)),Ee.enterInsertMode(t,{},e))}),e.onPasteFn}function h(t,e){for(var i=[],n=t;n<t+e;n++)i.push(String.fromCharCode(n));return i}function p(t,e){return e>=t.firstLine()&&e<=t.lastLine()}function f(t){return/^[a-z]$/.test(t)}function d(t){return"()[]{}".indexOf(t)!=-1}function m(t){return ue.test(t)}function g(t){return/^[A-Z]$/.test(t)}function v(t){return/^\s*$/.test(t)}function y(t,e){for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1}function b(t,e,i,n,r){if(void 0===e&&!r)throw Error("defaultValue is required unless callback is provided");if(i||(i="string"),ye[t]={type:i,defaultValue:e,callback:r},n)for(var o=0;o<n.length;o++)ye[n[o]]=ye[t];e&&x(t,e)}function x(t,e,i,n){var r=ye[t];n=n||{};var o=n.scope;if(!r)throw Error("Unknown option: "+t);if("boolean"==r.type){if(e&&e!==!0)throw Error("Invalid argument: "+t+"="+e);e!==!1&&(e=!0)}r.callback?("local"!==o&&r.callback(e,void 0),"global"!==o&&i&&r.callback(e,i)):("local"!==o&&(r.value="boolean"==r.type?!!e:e),"global"!==o&&i&&(i.state.vim.options[t]={value:e}))}function _(t,e,i){var n=ye[t];i=i||{};var r=i.scope;if(!n)throw Error("Unknown option: "+t);{if(!n.callback){var o="global"!==r&&e&&e.state.vim.options[t];return(o||"local"!==r&&n||{}).value}var o=e&&n.callback(void 0,e);if("global"!==r&&void 0!==o)return o;if("local"!==r)return n.callback()}}function w(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=xe()}function k(t){return t.state.vim||(t.state.vim={inputState:new S,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),t.state.vim}function C(){_e={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:be(),macroModeState:new w,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new M({}),searchHistoryController:new L({}),exCommandHistoryController:new L({})};for(var t in ye){var e=ye[t];e.value=e.defaultValue}}function S(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function T(e,i){e.state.vim.inputState=new S,t.signal(e,"vim-command-done",i)}function E(t,e,i){this.clear(),this.keyBuffer=[t||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!e,this.blockwise=!!i}function A(t,e){var i=_e.registerController.registers[t];if(!t||1!=t.length)throw Error("Register name must be 1 character");if(i[t])throw Error("Register already defined "+t);i[t]=e,ve.push(t)}function M(t){this.registers=t,this.unnamedRegister=t['"']=new E,t["."]=new E,t[":"]=new E,t["/"]=new E}function L(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}function N(t,e){Se[t]=e}function P(t,e){for(var i=[],n=0;n<e;n++)i.push(t);return i}function I(t,e){Te[t]=e}function D(t,e){Ee[t]=e}function O(t,e,i){var r=Math.min(Math.max(t.firstLine(),e.line),t.lastLine()),o=G(t,r)-1;o=i?o+1:o;var s=Math.min(Math.max(0,e.ch),o);return n(r,s)}function R(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function F(t,e,i){return"object"==typeof e&&(i=e.ch,e=e.line),n(t.line+e,t.ch+i)}function H(t,e){return{line:e.line-t.line,ch:e.line-t.line}}function j(t,e,i,n){for(var r,o=[],s=[],a=0;a<e.length;a++){var l=e[a];"insert"==i&&"insert"!=l.context||l.context&&l.context!=i||n.operator&&"action"==l.type||!(r=z(t,l.keys))||("partial"==r&&o.push(l),"full"==r&&s.push(l))}return{partial:o.length&&o,full:s.length&&s}}function z(t,e){if("<character>"==e.slice(-11)){var i=e.length-11,n=t.slice(0,i),r=e.slice(0,i);return n==r&&t.length>i?"full":0==r.indexOf(n)&&"partial"}return t==e?"full":0==e.indexOf(t)&&"partial"}function W(t){var e=/^.*(<[\w\-]+>)$/.exec(t),i=e?e[1]:t.slice(-1);if(i.length>1)switch(i){case"<CR>":i="\n";break;case"<Space>":i=" "}return i}function B(t,e,i){return function(){for(var n=0;n<i;n++)e(t)}}function q(t){return n(t.line,t.ch)}function $(t,e){return t.ch==e.ch&&t.line==e.line}function U(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function V(t,e){return arguments.length>2&&(e=V.apply(void 0,Array.prototype.slice.call(arguments,1))),U(t,e)?t:e}function K(t,e){return arguments.length>2&&(e=K.apply(void 0,Array.prototype.slice.call(arguments,1))),U(t,e)?e:t}function Y(t,e,i){var n=U(t,e),r=U(e,i);return n&&r}function G(t,e){return t.getLine(e).length}function X(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Q(t){return t.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function Z(t,e,i){var r=G(t,e),o=new Array(i-r+1).join(" ");t.setCursor(n(e,r)),t.replaceRange(o,t.getCursor())}function J(t,e){var i=[],r=t.listSelections(),o=q(t.clipPos(e)),s=!$(e,o),a=t.getCursor("head"),l=et(r,a),c=$(r[l].head,r[l].anchor),u=r.length-1,h=u-l>l?u:0,p=r[h].anchor,f=Math.min(p.line,o.line),d=Math.max(p.line,o.line),m=p.ch,g=o.ch,v=r[h].head.ch-m,y=g-m;v>0&&y<=0?(m++,s||g--):v<0&&y>=0?(m--,c||g++):v<0&&y==-1&&(m--,g++);for(var b=f;b<=d;b++){var x={anchor:new n(b,m),head:new n(b,g)};i.push(x)}return l=o.line==d?i.length-1:0,t.setSelections(i),e.ch=g,p.ch=m,p}function tt(t,e,i){for(var n=[],r=0;r<i;r++){var o=F(e,r,0);n.push({anchor:o,head:o})}t.setSelections(n,0)}function et(t,e,i){for(var n=0;n<t.length;n++){var r="head"!=i&&$(t[n].anchor,e),o="anchor"!=i&&$(t[n].head,e);if(r||o)return n}return-1}function it(t,e){var i=e.lastSelection,r=function(){var e=t.listSelections(),i=e[0],n=e[e.length-1],r=U(i.anchor,i.head)?i.anchor:i.head,o=U(n.anchor,n.head)?n.head:n.anchor;return[r,o]},o=function(){var e=t.getCursor(),r=t.getCursor(),o=i.visualBlock;if(o){var s=o.width,a=o.height;r=n(e.line+a,e.ch+s);for(var l=[],c=e.line;c<r.line;c++){var u=n(c,e.ch),h=n(c,r.ch),p={anchor:u,head:h};l.push(p)}t.setSelections(l)}else{var f=i.anchorMark.find(),d=i.headMark.find(),m=d.line-f.line,g=d.ch-f.ch;r={line:r.line+m,ch:m?r.ch:g+r.ch},i.visualLine&&(e=n(e.line,0),r=n(r.line,G(t,r.line))),t.setSelection(e,r)}return[e,r]};return e.visualMode?r():o()}function nt(t,e){var i=e.sel.anchor,n=e.sel.head;e.lastPastedText&&(n=t.posFromIndex(t.indexFromPos(i)+e.lastPastedText.length),e.lastPastedText=null),e.lastSelection={anchorMark:t.setBookmark(i),headMark:t.setBookmark(n),anchor:q(i),head:q(n),visualMode:e.visualMode,visualLine:e.visualLine,visualBlock:e.visualBlock}}function rt(t,e,i){var r,o=t.state.vim.sel,s=o.head,a=o.anchor;return U(i,e)&&(r=i,i=e,e=r),U(s,a)?(s=V(e,s),a=K(a,i)):(a=V(e,a),s=K(s,i),s=F(s,0,-1),s.ch==-1&&s.line!=t.firstLine()&&(s=n(s.line-1,G(t,s.line-1)))),[a,s]}function ot(t,e,i){var n=t.state.vim;e=e||n.sel;var i=i||n.visualLine?"line":n.visualBlock?"block":"char",r=st(t,e,i);t.setSelections(r.ranges,r.primary),ie(t)}function st(t,e,i,r){var o=q(e.head),s=q(e.anchor);if("char"==i){var a=r||U(e.head,e.anchor)?0:1,l=U(e.head,e.anchor)?1:0;return o=F(e.head,0,a),s=F(e.anchor,0,l),{ranges:[{anchor:s,head:o}],primary:0}}if("line"==i){if(U(e.head,e.anchor))o.ch=0,s.ch=G(t,s.line);else{s.ch=0;var c=t.lastLine();o.line>c&&(o.line=c),o.ch=G(t,o.line)}return{ranges:[{anchor:s,head:o}],primary:0}}if("block"==i){for(var u=Math.min(s.line,o.line),h=Math.min(s.ch,o.ch),p=Math.max(s.line,o.line),f=Math.max(s.ch,o.ch)+1,d=p-u+1,m=o.line==u?0:d-1,g=[],v=0;v<d;v++)g.push({anchor:n(u+v,h),head:n(u+v,f)});return{ranges:g,primary:m}}}function at(t){var e=t.getCursor("head");return 1==t.getSelection().length&&(e=V(e,t.getCursor("anchor"))),e}function lt(e,i){var n=e.state.vim;i!==!1&&e.setCursor(O(e,n.sel.head)),nt(e,n),n.visualMode=!1,n.visualLine=!1,n.visualBlock=!1,t.signal(e,"vim-mode-change",{mode:"normal"}),n.fakeCursor&&n.fakeCursor.clear()}function ct(t,e,i){var n=t.getRange(e,i);if(/\n\s*$/.test(n)){var r=n.split("\n");r.pop();for(var o,o=r.pop();r.length>0&&o&&v(o);o=r.pop())i.line--,i.ch=0;o?(i.line--,i.ch=G(t,i.line)):i.ch=0}}function ut(t,e,i){e.ch=0,i.ch=0,i.line++}function ht(t){if(!t)return 0;var e=t.search(/\S/);return e==-1?t.length:e}function pt(t,e,i,r,o){for(var s=at(t),a=t.getLine(s.line),l=s.ch,c=o?he[0]:pe[0];!c(a.charAt(l));)if(l++,l>=a.length)return null;r?c=pe[0]:(c=he[0],c(a.charAt(l))||(c=he[1]));
for(var u=l,h=l;c(a.charAt(u))&&u<a.length;)u++;for(;c(a.charAt(h))&&h>=0;)h--;if(h++,e){for(var p=u;/\s/.test(a.charAt(u))&&u<a.length;)u++;if(p==u){for(var f=h;/\s/.test(a.charAt(h-1))&&h>0;)h--;h||(h=f)}}return{start:n(s.line,h),end:n(s.line,u)}}function ft(t,e,i){$(e,i)||_e.jumpList.add(t,e,i)}function dt(t,e){_e.lastCharacterSearch.increment=t,_e.lastCharacterSearch.forward=e.forward,_e.lastCharacterSearch.selectedCharacter=e.selectedCharacter}function mt(t,e,i,r){var o=q(t.getCursor()),s=i?1:-1,a=i?t.lineCount():-1,l=o.ch,c=o.line,u=t.getLine(c),h={lineText:u,nextCh:u.charAt(l),lastCh:null,index:l,symb:r,reverseSymb:(i?{")":"(","}":"{"}:{"(":")","{":"}"})[r],forward:i,depth:0,curMoveThrough:!1},p=Ae[r];if(!p)return o;var f=Me[p].init,d=Me[p].isComplete;for(f&&f(h);c!==a&&e;){if(h.index+=s,h.nextCh=h.lineText.charAt(h.index),!h.nextCh){if(c+=s,h.lineText=t.getLine(c)||"",s>0)h.index=0;else{var m=h.lineText.length;h.index=m>0?m-1:0}h.nextCh=h.lineText.charAt(h.index)}d(h)&&(o.line=c,o.ch=h.index,e--)}return h.nextCh||h.curMoveThrough?n(c,h.index):o}function gt(t,e,i,n,r){var o=e.line,s=e.ch,a=t.getLine(o),l=i?1:-1,c=n?pe:he;if(r&&""==a){if(o+=l,a=t.getLine(o),!p(t,o))return null;s=i?0:a.length}for(;;){if(r&&""==a)return{from:0,to:0,line:o};for(var u=l>0?a.length:-1,h=u,f=u;s!=u;){for(var d=!1,m=0;m<c.length&&!d;++m)if(c[m](a.charAt(s))){for(h=s;s!=u&&c[m](a.charAt(s));)s+=l;if(f=s,d=h!=f,h==e.ch&&o==e.line&&f==h+l)continue;return{from:Math.min(h,f+1),to:Math.max(h,f),line:o}}d||(s+=l)}if(o+=l,!p(t,o))return null;a=t.getLine(o),s=l>0?0:a.length}}function vt(t,e,i,r,o,s){var a=q(e),l=[];(r&&!o||!r&&o)&&i++;for(var c=!(r&&o),u=0;u<i;u++){var h=gt(t,e,r,s,c);if(!h){var p=G(t,t.lastLine());l.push(r?{line:t.lastLine(),from:p,to:p}:{line:0,from:0,to:0});break}l.push(h),e=n(h.line,r?h.to-1:h.from)}var f=l.length!=i,d=l[0],m=l.pop();return r&&!o?(f||d.from==a.ch&&d.line==a.line||(m=l.pop()),n(m.line,m.from)):r&&o?n(m.line,m.to-1):!r&&o?(f||d.to==a.ch&&d.line==a.line||(m=l.pop()),n(m.line,m.to)):n(m.line,m.from)}function yt(t,e,i,r){for(var o,s=t.getCursor(),a=s.ch,l=0;l<e;l++){var c=t.getLine(s.line);if(o=_t(a,c,r,i,!0),o==-1)return null;a=o}return n(t.getCursor().line,o)}function bt(t,e){var i=t.getCursor().line;return O(t,n(i,e-1))}function xt(t,e,i,n){y(i,ge)&&(e.marks[i]&&e.marks[i].clear(),e.marks[i]=t.setBookmark(n))}function _t(t,e,i,n,r){var o;return n?(o=e.indexOf(i,t+1),o==-1||r||(o-=1)):(o=e.lastIndexOf(i,t-1),o==-1||r||(o+=1)),o}function wt(t,e,i,r,o){function s(e){return!t.getLine(e)}function a(t,e,i){return i?s(t)!=s(t+e):!s(t)&&s(t+e)}var l,c,u=e.line,h=t.firstLine(),p=t.lastLine(),f=u;if(r){for(;h<=f&&f<=p&&i>0;)a(f,r)&&i--,f+=r;return new n(f,0)}var d=t.state.vim;if(d.visualLine&&a(u,1,!0)){var m=d.sel.anchor;a(m.line,-1,!0)&&(o&&m.line==u||(u+=1))}var g=s(u);for(f=u;f<=p&&i;f++)a(f,1,!0)&&(o&&s(f)==g||i--);for(c=new n(f,0),f>p&&!g?g=!0:o=!1,f=u;f>h&&(o&&s(f)!=g&&f!=u||!a(f,-1,!0));f--);return l=new n(f,0),{start:l,end:c}}function kt(t,e,i,r){var o,s,a=e,l={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/}[i],c={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"}[i],u=t.getLine(a.line).charAt(a.ch),h=u===c?1:0;if(o=t.scanForBracket(n(a.line,a.ch+h),-1,null,{bracketRegex:l}),s=t.scanForBracket(n(a.line,a.ch+h),1,null,{bracketRegex:l}),!o||!s)return{start:a,end:a};if(o=o.pos,s=s.pos,o.line==s.line&&o.ch>s.ch||o.line>s.line){var p=o;o=s,s=p}return r?s.ch+=1:o.ch+=1,{start:o,end:s}}function Ct(t,e,i,r){var o,s,a,l,c=q(e),u=t.getLine(c.line),h=u.split(""),p=h.indexOf(i);if(c.ch<p?c.ch=p:p<c.ch&&h[c.ch]==i&&(s=c.ch,--c.ch),h[c.ch]!=i||s)for(a=c.ch;a>-1&&!o;a--)h[a]==i&&(o=a+1);else o=c.ch+1;if(o&&!s)for(a=o,l=h.length;a<l&&!s;a++)h[a]==i&&(s=a);return o&&s?(r&&(--o,++s),{start:n(c.line,o),end:n(c.line,s)}):{start:c,end:c}}function St(){}function Tt(t){var e=t.state.vim;return e.searchState_||(e.searchState_=new St)}function Et(t,e,i,n,r){t.openDialog?t.openDialog(e,n,{bottom:!0,value:r.value,onKeyDown:r.onKeyDown,onKeyUp:r.onKeyUp,selectValueOnOpen:!1}):n(prompt(i,""))}function At(t){var e=Mt(t)||[];if(!e.length)return[];var i=[];if(0===e[0]){for(var n=0;n<e.length;n++)"number"==typeof e[n]&&i.push(t.substring(e[n]+1,e[n+1]));return i}}function Mt(t){for(var e=!1,i=[],n=0;n<t.length;n++){var r=t.charAt(n);e||"/"!=r||i.push(n),e=!e&&"\\"==r}return i}function Lt(t){for(var e="|(){",i="}",n=!1,r=[],o=-1;o<t.length;o++){var s=t.charAt(o)||"",a=t.charAt(o+1)||"",l=a&&e.indexOf(a)!=-1;n?("\\"===s&&l||r.push(s),n=!1):"\\"===s?(n=!0,a&&i.indexOf(a)!=-1&&(l=!0),l&&"\\"!==a||r.push(s)):(r.push(s),l&&"\\"!==a&&r.push("\\"))}return r.join("")}function Nt(t){for(var e=!1,i=[],n=-1;n<t.length;n++){var r=t.charAt(n)||"",o=t.charAt(n+1)||"";Le[r+o]?(i.push(Le[r+o]),n++):e?(i.push(r),e=!1):"\\"===r?(e=!0,m(o)||"$"===o?i.push("$"):"/"!==o&&"\\"!==o&&i.push("\\")):("$"===r&&i.push("$"),i.push(r),"/"===o&&i.push("\\"))}return i.join("")}function Pt(e){for(var i=new t.StringStream(e),n=[];!i.eol();){for(;i.peek()&&"\\"!=i.peek();)n.push(i.next());var r=!1;for(var o in Ne)if(i.match(o,!0)){r=!0,n.push(Ne[o]);break}r||n.push(i.next())}return n.join("")}function It(t,e,i){var n=_e.registerController.getRegister("/");if(n.setText(t),t instanceof RegExp)return t;var r,o,s=Mt(t);if(s.length){r=t.substring(0,s[0]);var a=t.substring(s[0]);o=a.indexOf("i")!=-1}else r=t;if(!r)return null;_("pcre")||(r=Lt(r)),i&&(e=/^[^A-Z]*$/.test(r));var l=new RegExp(r,e||o?"i":void 0);return l}function Dt(t,e){t.openNotification?t.openNotification('<span style="color: red">'+e+"</span>",{bottom:!0,duration:5e3}):alert(e)}function Ot(t,e){var i='<span style="font-family: monospace; white-space: pre">'+(t||"")+'<input type="text"></span>';return e&&(i+=' <span style="color: #888">'+e+"</span>"),i}function Rt(t,e){var i=(e.prefix||"")+" "+(e.desc||""),n=Ot(e.prefix,e.desc);Et(t,n,i,e.onClose,e)}function Ft(t,e){if(t instanceof RegExp&&e instanceof RegExp){for(var i=["global","multiline","ignoreCase","source"],n=0;n<i.length;n++){var r=i[n];if(t[r]!==e[r])return!1}return!0}return!1}function Ht(t,e,i,n){if(e){var r=Tt(t),o=It(e,!!i,!!n);if(o)return zt(t,o),Ft(o,r.getQuery())?o:(r.setQuery(o),o)}}function jt(t){if("^"==t.source.charAt(0))var e=!0;return{token:function(i){if(e&&!i.sol())return void i.skipToEnd();var n=i.match(t,!1);if(n)return 0==n[0].length?(i.next(),"searching"):i.sol()||(i.backUp(1),t.exec(i.next()+n[0]))?(i.match(t),"searching"):(i.next(),null);for(;!i.eol()&&(i.next(),!i.match(t,!1)););},query:t}}function zt(t,e){var i=Tt(t),n=i.getOverlay();n&&e==n.query||(n&&t.removeOverlay(n),n=jt(e),t.addOverlay(n),t.showMatchesOnScrollbar&&(i.getScrollbarAnnotate()&&i.getScrollbarAnnotate().clear(),i.setScrollbarAnnotate(t.showMatchesOnScrollbar(e))),i.setOverlay(n))}function Wt(t,e,i,r){return void 0===r&&(r=1),t.operation(function(){for(var o=t.getCursor(),s=t.getSearchCursor(i,o),a=0;a<r;a++){var l=s.find(e);if(0==a&&l&&$(s.from(),o)&&(l=s.find(e)),!l&&(s=t.getSearchCursor(i,e?n(t.lastLine()):n(t.firstLine(),0)),!s.find(e)))return}return s.from()})}function Bt(t){var e=Tt(t);t.removeOverlay(Tt(t).getOverlay()),e.setOverlay(null),e.getScrollbarAnnotate()&&(e.getScrollbarAnnotate().clear(),e.setScrollbarAnnotate(null))}function qt(t,e,i){return"number"!=typeof t&&(t=t.line),e instanceof Array?y(t,e):i?t>=e&&t<=i:t==e}function $t(t){var e=t.getScrollInfo(),i=6,n=10,r=t.coordsChar({left:0,top:i+e.top},"local"),o=e.clientHeight-n+e.top,s=t.coordsChar({left:0,top:o},"local");return{top:r.line,bottom:s.line}}function Ut(t,e,i){if("'"==i){var n=t.doc.history.done,r=n[n.length-2];return r&&r.ranges&&r.ranges[0].head}var o=e.marks[i];return o&&o.find()}function Vt(e,i,n,r,o,s,a,l,c){function u(){e.operation(function(){for(;!m;)h(),p();f()})}function h(){var t=e.getRange(s.from(),s.to()),i=t.replace(a,l);s.replace(i)}function p(){for(;s.findNext()&&qt(s.from(),r,o);)if(n||!g||s.from().line!=g.line)return e.scrollIntoView(s.from(),30),e.setSelection(s.from(),s.to()),g=s.from(),void(m=!1);m=!0}function f(t){if(t&&t(),e.focus(),g){e.setCursor(g);var i=e.state.vim;i.exMode=!1,i.lastHPos=i.lastHSPos=g.ch}c&&c()}function d(i,n,r){t.e_stop(i);var o=t.keyName(i);switch(o){case"Y":h(),p();break;case"N":p();break;case"A":var s=c;c=void 0,e.operation(u),c=s;break;case"L":h();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":f(r)}return m&&f(r),!0}e.state.vim.exMode=!0;var m=!1,g=s.from();return p(),m?void Dt(e,"No matches for "+a.source):i?void Rt(e,{prefix:"replace with <strong>"+l+"</strong> (y/n/a/q/l)",onKeyDown:d}):(u(),void(c&&c()))}function Kt(e){var i=e.state.vim,n=_e.macroModeState,r=_e.registerController.getRegister("."),o=n.isPlaying,s=n.lastInsertModeChanges,a=[];if(!o){for(var l=s.inVisualBlock?i.lastSelection.visualBlock.height:1,c=s.changes,a=[],u=0;u<c.length;)a.push(c[u]),c[u]instanceof re?u++:u+=l;s.changes=a,e.off("change",te),t.off(e.getInputField(),"keydown",oe)}!o&&i.insertModeRepeat>1&&(se(e,i,i.insertModeRepeat-1,!0),i.lastEditInputState.repeatOverride=i.insertModeRepeat),delete i.insertModeRepeat,i.insertMode=!1,e.setCursor(e.getCursor().line,e.getCursor().ch-1),e.setOption("keyMap","vim"),e.setOption("disableInput",!0),e.toggleOverwrite(!1),r.setText(s.changes.join("")),t.signal(e,"vim-mode-change",{mode:"normal"}),n.isRecording&&Zt(n)}function Yt(t){e.unshift(t)}function Gt(t,e,i,n,r){var o={keys:t,type:e};o[e]=i,o[e+"Args"]=n;for(var s in r)o[s]=r[s];Yt(o)}function Xt(e,i,n,r){var o=_e.registerController.getRegister(r);if(":"==r)return o.keyBuffer[0]&&Oe.processCommand(e,o.keyBuffer[0]),void(n.isPlaying=!1);var s=o.keyBuffer,a=0;n.isPlaying=!0,n.replaySearchQueries=o.searchQueries.slice(0);for(var l=0;l<s.length;l++)for(var c,u,h=s[l];h;)if(c=/<\w+-.+?>|<\w+>|./.exec(h),u=c[0],h=h.substring(c.index+u.length),t.Vim.handleKey(e,u,"macro"),i.insertMode){var p=o.insertModeChanges[a++].changes;_e.macroModeState.lastInsertModeChanges.changes=p,ae(e,p,1),Kt(e)}n.isPlaying=!1}function Qt(t,e){if(!t.isPlaying){var i=t.latestRegister,n=_e.registerController.getRegister(i);n&&n.pushText(e)}}function Zt(t){if(!t.isPlaying){var e=t.latestRegister,i=_e.registerController.getRegister(e);i&&i.pushInsertModeChanges&&i.pushInsertModeChanges(t.lastInsertModeChanges)}}function Jt(t,e){if(!t.isPlaying){var i=t.latestRegister,n=_e.registerController.getRegister(i);n&&n.pushSearchQuery&&n.pushSearchQuery(e)}}function te(t,e){var i=_e.macroModeState,n=i.lastInsertModeChanges;if(!i.isPlaying)for(;e;){if(n.expectCursorActivityForChange=!0,"+input"==e.origin||"paste"==e.origin||void 0===e.origin){var r=e.text.join("\n");n.maybeReset&&(n.changes=[],n.maybeReset=!1),n.changes.push(r)}e=e.next}}function ee(t){var e=t.state.vim;if(e.insertMode){var i=_e.macroModeState;if(i.isPlaying)return;var n=i.lastInsertModeChanges;n.expectCursorActivityForChange?n.expectCursorActivityForChange=!1:n.maybeReset=!0}else t.curOp.isVimOp||ne(t,e);e.visualMode&&ie(t)}function ie(t){var e=t.state.vim,i=O(t,q(e.sel.head)),n=F(i,0,1);e.fakeCursor&&e.fakeCursor.clear(),e.fakeCursor=t.markText(i,n,{className:"cm-animate-fat-cursor"})}function ne(e,i){var n=e.getCursor("anchor"),r=e.getCursor("head");if(i.visualMode&&!e.somethingSelected()?lt(e,!1):i.visualMode||i.insertMode||!e.somethingSelected()||(i.visualMode=!0,i.visualLine=!1,t.signal(e,"vim-mode-change",{mode:"visual"})),i.visualMode){var o=U(r,n)?0:-1,s=U(r,n)?-1:0;r=F(r,0,o),n=F(n,0,s),i.sel={anchor:n,head:r},xt(e,i,"<",V(r,n)),xt(e,i,">",K(r,n))}else i.insertMode||(i.lastHPos=e.getCursor().ch)}function re(t){this.keyName=t}function oe(e){function i(){return r.maybeReset&&(r.changes=[],r.maybeReset=!1),r.changes.push(new re(o)),!0}var n=_e.macroModeState,r=n.lastInsertModeChanges,o=t.keyName(e);o&&(o.indexOf("Delete")==-1&&o.indexOf("Backspace")==-1||t.lookupKey(o,"vim-insert",i))}function se(t,e,i,n){function r(){a?Ce.processAction(t,e,e.lastEditActionCommand):Ce.evalInput(t,e)}function o(i){if(s.lastInsertModeChanges.changes.length>0){i=e.lastEditActionCommand?i:1;var n=s.lastInsertModeChanges;ae(t,n.changes,i)}}var s=_e.macroModeState;s.isPlaying=!0;var a=!!e.lastEditActionCommand,l=e.inputState;if(e.inputState=e.lastEditInputState,a&&e.lastEditActionCommand.interlaceInsertRepeat)for(var c=0;c<i;c++)r(),o(1);else n||r(),o(i);e.inputState=l,e.insertMode&&!n&&Kt(t),s.isPlaying=!1}function ae(e,i,n){function r(i){return"string"==typeof i?t.commands[i](e):i(e),!0}var o=e.getCursor("head"),s=_e.macroModeState.lastInsertModeChanges.inVisualBlock;if(s){var a=e.state.vim,l=a.lastSelection,c=H(l.anchor,l.head);tt(e,o,c.line+1),n=e.listSelections().length,e.setCursor(o)}for(var u=0;u<n;u++){s&&e.setCursor(F(o,u,0));for(var h=0;h<i.length;h++){var p=i[h];if(p instanceof re)t.lookupKey(p.keyName,"vim-insert",r);else{var f=e.getCursor();e.replaceRange(p,f,f)}}}s&&e.setCursor(F(o,0,1))}t.defineOption("vimMode",!1,function(e,i,n){i&&"vim"!=e.getOption("keyMap")?e.setOption("keyMap","vim"):!i&&n!=t.Init&&/^vim/.test(e.getOption("keyMap"))&&e.setOption("keyMap","default")});var le={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"},ce={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},ue=/[\d]/,he=[t.isWordChar,function(e){return e&&!t.isWordChar(e)&&!/\s/.test(e)}],pe=[function(t){return/\S/.test(t)}],fe=h(65,26),de=h(97,26),me=h(48,10),ge=[].concat(fe,de,me,["<",">"]),ve=[].concat(fe,de,me,["-",'"',".",":","/"]),ye={};b("filetype",void 0,"string",["ft"],function(t,e){if(void 0!==e){if(void 0===t){var i=e.getOption("mode");return"null"==i?"":i}var i=""==t?"null":t;e.setOption("mode",i)}});var be=function(){function t(t,e,a){function l(e){var r=++n%i,o=s[r];o&&o.clear(),s[r]=t.setBookmark(e)}var c=n%i,u=s[c];if(u){var h=u.find();h&&!$(h,e)&&l(e)}else l(e);l(a),r=n,o=n-i+1,o<0&&(o=0)}function e(t,e){n+=e,n>r?n=r:n<o&&(n=o);var a=s[(i+n)%i];if(a&&!a.find()){var l,c=e>0?1:-1,u=t.getCursor();do if(n+=c,a=s[(i+n)%i],a&&(l=a.find())&&!$(u,l))break;while(n<r&&n>o)}return a}var i=100,n=-1,r=0,o=0,s=new Array(i);return{cachedCursor:void 0,add:t,move:e}},xe=function(t){return t?{changes:t.changes,expectCursorActivityForChange:t.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};w.prototype={exitMacroRecordMode:function(){var t=_e.macroModeState;t.onRecordingDone&&t.onRecordingDone(),t.onRecordingDone=void 0,t.isRecording=!1},enterMacroRecordMode:function(t,e){var i=_e.registerController.getRegister(e);i&&(i.clear(),this.latestRegister=e,t.openDialog&&(this.onRecordingDone=t.openDialog("(recording)["+e+"]",null,{bottom:!0})),this.isRecording=!0)}};var _e,we,ke={buildKeyMap:function(){},getRegisterController:function(){return _e.registerController},resetVimGlobalState_:C,getVimGlobalState_:function(){return _e},maybeInitVimState_:k,suppressErrorLogging:!1,InsertModeKey:re,map:function(t,e,i){Oe.map(t,e,i)},unmap:function(t,e){Oe.unmap(t,e)},setOption:x,getOption:_,defineOption:b,defineEx:function(t,e,i){if(e){if(0!==t.indexOf(e))throw new Error('(Vim.defineEx) "'+e+'" is not a prefix of "'+t+'", command not registered')}else e=t;De[t]=i,Oe.commandMap_[e]={name:t,shortName:e,type:"api"}},handleKey:function(t,e,i){var n=this.findKey(t,e,i);if("function"==typeof n)return n()},findKey:function(i,n,r){function o(){var t=_e.macroModeState;if(t.isRecording){if("q"==n)return t.exitMacroRecordMode(),T(i),!0;"mapping"!=r&&Qt(t,n)}}function s(){if("<Esc>"==n)return T(i),h.visualMode?lt(i):h.insertMode&&Kt(i),!0}function a(e){for(var r;e;)r=/<\w+-.+?>|<\w+>|./.exec(e),n=r[0],e=e.substring(r.index+n.length),t.Vim.handleKey(i,n,"mapping")}function l(){if(s())return!0;for(var t=h.inputState.keyBuffer=h.inputState.keyBuffer+n,r=1==n.length,o=Ce.matchCommand(t,e,h.inputState,"insert");t.length>1&&"full"!=o.type;){var t=h.inputState.keyBuffer=t.slice(1),a=Ce.matchCommand(t,e,h.inputState,"insert");"none"!=a.type&&(o=a)}if("none"==o.type)return T(i),!1;if("partial"==o.type)return we&&window.clearTimeout(we),we=window.setTimeout(function(){h.insertMode&&h.inputState.keyBuffer&&T(i)},_("insertModeEscKeysTimeout")),!r;if(we&&window.clearTimeout(we),r){for(var l=i.listSelections(),c=0;c<l.length;c++){var u=l[c].head;i.replaceRange("",F(u,0,-(t.length-1)),u,"+input")}_e.macroModeState.lastInsertModeChanges.changes.pop()}return T(i),o.command}function c(){if(o()||s())return!0;var t=h.inputState.keyBuffer=h.inputState.keyBuffer+n;if(/^[1-9]\d*$/.test(t))return!0;var r=/^(\d*)(.*)$/.exec(t);if(!r)return T(i),!1;var a=h.visualMode?"visual":"normal",l=Ce.matchCommand(r[2]||r[1],e,h.inputState,a);if("none"==l.type)return T(i),!1;if("partial"==l.type)return!0;h.inputState.keyBuffer="";var r=/^(\d*)(.*)$/.exec(t);return r[1]&&"0"!=r[1]&&h.inputState.pushRepeatDigit(r[1]),l.command}var u,h=k(i);return u=h.insertMode?l():c(),u===!1?void 0:u===!0?function(){return!0}:function(){return i.operation(function(){i.curOp.isVimOp=!0;try{"keyToKey"==u.type?a(u.toKeys):Ce.processCommand(i,h,u)}catch(e){throw i.state.vim=void 0,k(i),t.Vim.suppressErrorLogging||console.log(e),e}return!0})}},handleEx:function(t,e){Oe.processCommand(t,e)},defineMotion:N,defineAction:D,defineOperator:I,mapCommand:Gt,_mapCommand:Yt,defineRegister:A,exitVisualMode:lt,exitInsertMode:Kt};S.prototype.pushRepeatDigit=function(t){this.operator?this.motionRepeat=this.motionRepeat.concat(t):this.prefixRepeat=this.prefixRepeat.concat(t)},S.prototype.getRepeat=function(){var t=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(t=1,this.prefixRepeat.length>0&&(t*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(t*=parseInt(this.motionRepeat.join(""),10))),t},E.prototype={setText:function(t,e,i){this.keyBuffer=[t||""],this.linewise=!!e,this.blockwise=!!i},pushText:function(t,e){e&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(t)},pushInsertModeChanges:function(t){this.insertModeChanges.push(xe(t))},pushSearchQuery:function(t){this.searchQueries.push(t)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},M.prototype={pushText:function(t,e,i,n,r){n&&"\n"==i.charAt(0)&&(i=i.slice(1)+"\n"),n&&"\n"!==i.charAt(i.length-1)&&(i+="\n");var o=this.isValidRegister(t)?this.getRegister(t):null;if(!o){switch(e){case"yank":this.registers[0]=new E(i,n,r);break;case"delete":case"change":i.indexOf("\n")==-1?this.registers["-"]=new E(i,n):(this.shiftNumericRegisters_(),this.registers[1]=new E(i,n))}return void this.unnamedRegister.setText(i,n,r)}var s=g(t);s?o.pushText(i,n):o.setText(i,n,r),this.unnamedRegister.setText(o.toString(),n)},getRegister:function(t){return this.isValidRegister(t)?(t=t.toLowerCase(),this.registers[t]||(this.registers[t]=new E),this.registers[t]):this.unnamedRegister},isValidRegister:function(t){return t&&y(t,ve)},shiftNumericRegisters_:function(){for(var t=9;t>=2;t--)this.registers[t]=this.getRegister(""+(t-1))}},L.prototype={nextMatch:function(t,e){var i=this.historyBuffer,n=e?-1:1;null===this.initialPrefix&&(this.initialPrefix=t);for(var r=this.iterator+n;e?r>=0:r<i.length;r+=n)for(var o=i[r],s=0;s<=o.length;s++)if(this.initialPrefix==o.substring(0,s))return this.iterator=r,o;return r>=i.length?(this.iterator=i.length,this.initialPrefix):r<0?t:void 0},pushInput:function(t){var e=this.historyBuffer.indexOf(t);e>-1&&this.historyBuffer.splice(e,1),t.length&&this.historyBuffer.push(t)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var Ce={matchCommand:function(t,e,i,n){var r=j(t,e,n,i);if(!r.full&&!r.partial)return{type:"none"};if(!r.full&&r.partial)return{type:"partial"};for(var o,s=0;s<r.full.length;s++){var a=r.full[s];o||(o=a)}return"<character>"==o.keys.slice(-11)&&(i.selectedCharacter=W(t)),{type:"full",command:o}},processCommand:function(t,e,i){switch(e.inputState.repeatOverride=i.repeatOverride,i.type){case"motion":this.processMotion(t,e,i);break;case"operator":this.processOperator(t,e,i);break;case"operatorMotion":this.processOperatorMotion(t,e,i);break;case"action":this.processAction(t,e,i);break;case"search":this.processSearch(t,e,i);break;case"ex":case"keyToEx":this.processEx(t,e,i)}},processMotion:function(t,e,i){e.inputState.motion=i.motion,e.inputState.motionArgs=R(i.motionArgs),this.evalInput(t,e)},processOperator:function(t,e,i){var n=e.inputState;if(n.operator){if(n.operator==i.operator)return n.motion="expandToLine",n.motionArgs={linewise:!0},void this.evalInput(t,e);T(t)}n.operator=i.operator,n.operatorArgs=R(i.operatorArgs),e.visualMode&&this.evalInput(t,e)},processOperatorMotion:function(t,e,i){var n=e.visualMode,r=R(i.operatorMotionArgs);r&&n&&r.visualLine&&(e.visualLine=!0),this.processOperator(t,e,i),n||this.processMotion(t,e,i)},processAction:function(t,e,i){var n=e.inputState,r=n.getRepeat(),o=!!r,s=R(i.actionArgs)||{};n.selectedCharacter&&(s.selectedCharacter=n.selectedCharacter),i.operator&&this.processOperator(t,e,i),i.motion&&this.processMotion(t,e,i),(i.motion||i.operator)&&this.evalInput(t,e),s.repeat=r||1,s.repeatIsExplicit=o,s.registerName=n.registerName,T(t),e.lastMotion=null,i.isEdit&&this.recordLastEdit(e,n,i),Ee[i.action](t,s,e)},processSearch:function(e,i,n){function r(t,r,o){_e.searchHistoryController.pushInput(t),_e.searchHistoryController.reset();try{Ht(e,t,r,o)}catch(s){return Dt(e,"Invalid regex: "+t),void T(e)}Ce.processMotion(e,i,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:n.searchArgs.toJumplist}})}function o(t){e.scrollTo(p.left,p.top),r(t,!0,!0);var i=_e.macroModeState;i.isRecording&&Jt(i,t)}function s(i,n,r){var o,s,a=t.keyName(i);"Up"==a||"Down"==a?(o="Up"==a,s=i.target?i.target.selectionEnd:0,n=_e.searchHistoryController.nextMatch(n,o)||"",r(n),s&&i.target&&(i.target.selectionEnd=i.target.selectionStart=Math.min(s,i.target.value.length))):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&_e.searchHistoryController.reset();var c;try{c=Ht(e,n,!0,!0)}catch(i){}c?e.scrollIntoView(Wt(e,!l,c),30):(Bt(e),e.scrollTo(p.left,p.top))}function a(i,n,r){var o=t.keyName(i);"Esc"==o||"Ctrl-C"==o||"Ctrl-["==o||"Backspace"==o&&""==n?(_e.searchHistoryController.pushInput(n),_e.searchHistoryController.reset(),Ht(e,h),Bt(e),e.scrollTo(p.left,p.top),t.e_stop(i),T(e),r(),e.focus()):"Up"==o||"Down"==o?t.e_stop(i):"Ctrl-U"==o&&(t.e_stop(i),r(""))}if(e.getSearchCursor){var l=n.searchArgs.forward,c=n.searchArgs.wholeWordOnly;Tt(e).setReversed(!l);var u=l?"/":"?",h=Tt(e).getQuery(),p=e.getScrollInfo();switch(n.searchArgs.querySrc){case"prompt":var f=_e.macroModeState;if(f.isPlaying){var d=f.replaySearchQueries.shift();r(d,!0,!1)}else Rt(e,{onClose:o,prefix:u,desc:Pe,onKeyUp:s,onKeyDown:a});break;case"wordUnderCursor":var m=pt(e,!1,!0,!1,!0),g=!0;if(m||(m=pt(e,!1,!0,!1,!1),g=!1),!m)return;var d=e.getLine(m.start.line).substring(m.start.ch,m.end.ch);d=g&&c?"\\b"+d+"\\b":Q(d),_e.jumpList.cachedCursor=e.getCursor(),e.setCursor(m.start),r(d,!0,!1)}}},processEx:function(e,i,n){function r(t){_e.exCommandHistoryController.pushInput(t),_e.exCommandHistoryController.reset(),Oe.processCommand(e,t)}function o(i,n,r){var o,s,a=t.keyName(i);("Esc"==a||"Ctrl-C"==a||"Ctrl-["==a||"Backspace"==a&&""==n)&&(_e.exCommandHistoryController.pushInput(n),_e.exCommandHistoryController.reset(),t.e_stop(i),T(e),r(),e.focus()),"Up"==a||"Down"==a?(t.e_stop(i),o="Up"==a,s=i.target?i.target.selectionEnd:0,n=_e.exCommandHistoryController.nextMatch(n,o)||"",r(n),s&&i.target&&(i.target.selectionEnd=i.target.selectionStart=Math.min(s,i.target.value.length))):"Ctrl-U"==a?(t.e_stop(i),r("")):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&_e.exCommandHistoryController.reset()}"keyToEx"==n.type?Oe.processCommand(e,n.exArgs.input):i.visualMode?Rt(e,{onClose:r,prefix:":",value:"'<,'>",onKeyDown:o}):Rt(e,{onClose:r,prefix:":",onKeyDown:o})},evalInput:function(t,e){var i,r,o,s=e.inputState,a=s.motion,l=s.motionArgs||{},c=s.operator,u=s.operatorArgs||{},h=s.registerName,p=e.sel,f=q(e.visualMode?O(t,p.head):t.getCursor("head")),d=q(e.visualMode?O(t,p.anchor):t.getCursor("anchor")),m=q(f),g=q(d);if(c&&this.recordLastEdit(e,s),o=void 0!==s.repeatOverride?s.repeatOverride:s.getRepeat(),o>0&&l.explicitRepeat?l.repeatIsExplicit=!0:(l.noRepeat||!l.explicitRepeat&&0===o)&&(o=1,l.repeatIsExplicit=!1),s.selectedCharacter&&(l.selectedCharacter=u.selectedCharacter=s.selectedCharacter),l.repeat=o,T(t),a){var v=Se[a](t,f,l,e);if(e.lastMotion=Se[a],!v)return;if(l.toJumplist){var y=_e.jumpList,b=y.cachedCursor;b?(ft(t,b,v),delete y.cachedCursor):ft(t,f,v)}v instanceof Array?(r=v[0],i=v[1]):i=v,i||(i=q(f)),e.visualMode?(e.visualBlock&&i.ch===1/0||(i=O(t,i,e.visualBlock)),r&&(r=O(t,r,!0)),r=r||g,p.anchor=r,p.head=i,ot(t),xt(t,e,"<",U(r,i)?r:i),xt(t,e,">",U(r,i)?i:r)):c||(i=O(t,i),t.setCursor(i.line,i.ch))}if(c){if(u.lastSel){r=g;var x=u.lastSel,_=Math.abs(x.head.line-x.anchor.line),w=Math.abs(x.head.ch-x.anchor.ch);i=x.visualLine?n(g.line+_,g.ch):x.visualBlock?n(g.line+_,g.ch+w):x.head.line==x.anchor.line?n(g.line,g.ch+w):n(g.line+_,g.ch),e.visualMode=!0,e.visualLine=x.visualLine,e.visualBlock=x.visualBlock,p=e.sel={anchor:r,head:i},ot(t)}else e.visualMode&&(u.lastSel={anchor:q(p.anchor),head:q(p.head),visualBlock:e.visualBlock,visualLine:e.visualLine});var k,C,S,E,A;if(e.visualMode){if(k=V(p.head,p.anchor),C=K(p.head,p.anchor),S=e.visualLine||u.linewise,E=e.visualBlock?"block":S?"line":"char",A=st(t,{anchor:k,head:C},E),S){var M=A.ranges;if("block"==E)for(var L=0;L<M.length;L++)M[L].head.ch=G(t,M[L].head.line);else"line"==E&&(M[0].head=n(M[0].head.line+1,0))}}else{if(k=q(r||g),C=q(i||m),U(C,k)){var N=k;k=C,C=N}S=l.linewise||u.linewise,S?ut(t,k,C):l.forward&&ct(t,k,C),E="char";var P=!l.inclusive||S;A=st(t,{anchor:k,head:C},E,P)}t.setSelections(A.ranges,A.primary),e.lastMotion=null,u.repeat=o,u.registerName=h,u.linewise=S;var I=Te[c](t,u,A.ranges,g,i);e.visualMode&&lt(t,null!=I),I&&t.setCursor(I)}},recordLastEdit:function(t,e,i){var n=_e.macroModeState;n.isPlaying||(t.lastEditInputState=e,t.lastEditActionCommand=i,n.lastInsertModeChanges.changes=[],n.lastInsertModeChanges.expectCursorActivityForChange=!1)}},Se={moveToTopLine:function(t,e,i){var r=$t(t).top+i.repeat-1;return n(r,ht(t.getLine(r)))},moveToMiddleLine:function(t){var e=$t(t),i=Math.floor(.5*(e.top+e.bottom));return n(i,ht(t.getLine(i)))},moveToBottomLine:function(t,e,i){var r=$t(t).bottom-i.repeat+1;return n(r,ht(t.getLine(r)))},expandToLine:function(t,e,i){var r=e;return n(r.line+i.repeat-1,1/0)},findNext:function(t,e,i){var n=Tt(t),r=n.getQuery();if(r){var o=!i.forward;return o=n.isReversed()?!o:o,zt(t,r),Wt(t,o,r,i.repeat)}},goToMark:function(t,e,i,n){var r=Ut(t,n,i.selectedCharacter);return r?i.linewise?{line:r.line,ch:ht(t.getLine(r.line))}:r:null},moveToOtherHighlightedEnd:function(t,e,i,r){if(r.visualBlock&&i.sameLine){var o=r.sel;return[O(t,n(o.anchor.line,o.head.ch)),O(t,n(o.head.line,o.anchor.ch))]}return[r.sel.head,r.sel.anchor]},jumpToMark:function(t,e,i,r){for(var o=e,s=0;s<i.repeat;s++){var a=o;for(var l in r.marks)if(f(l)){var c=r.marks[l].find(),u=i.forward?U(c,a):U(a,c);if(!(u||i.linewise&&c.line==a.line)){var h=$(a,o),p=i.forward?Y(a,c,o):Y(o,c,a);(h||p)&&(o=c)}}}return i.linewise&&(o=n(o.line,ht(t.getLine(o.line)))),o},moveByCharacters:function(t,e,i){var r=e,o=i.repeat,s=i.forward?r.ch+o:r.ch-o;return n(r.line,s)},moveByLines:function(t,e,i,r){var o=e,s=o.ch;switch(r.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:s=r.lastHPos;break;default:r.lastHPos=s}var a=i.repeat+(i.repeatOffset||0),l=i.forward?o.line+a:o.line-a,c=t.firstLine(),u=t.lastLine();return l<c&&o.line==c?this.moveToStartOfLine(t,e,i,r):l>u&&o.line==u?this.moveToEol(t,e,i,r):(i.toFirstChar&&(s=ht(t.getLine(l)),r.lastHPos=s),r.lastHSPos=t.charCoords(n(l,s),"div").left,n(l,s))},moveByDisplayLines:function(t,e,i,r){var o=e;switch(r.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:r.lastHSPos=t.charCoords(o,"div").left}var s=i.repeat,a=t.findPosV(o,i.forward?s:-s,"line",r.lastHSPos);if(a.hitSide)if(i.forward)var l=t.charCoords(a,"div"),c={top:l.top+8,left:r.lastHSPos},a=t.coordsChar(c,"div");else{var u=t.charCoords(n(t.firstLine(),0),"div");u.left=r.lastHSPos,a=t.coordsChar(u,"div")}return r.lastHPos=a.ch,a},moveByPage:function(t,e,i){var n=e,r=i.repeat;return t.findPosV(n,i.forward?r:-r,"page")},moveByParagraph:function(t,e,i){var n=i.forward?1:-1;return wt(t,e,i.repeat,n)},moveByScroll:function(t,e,i,n){var r=t.getScrollInfo(),o=null,s=i.repeat;s||(s=r.clientHeight/(2*t.defaultTextHeight()));var a=t.charCoords(e,"local");i.repeat=s;var o=Se.moveByDisplayLines(t,e,i,n);if(!o)return null;var l=t.charCoords(o,"local");return t.scrollTo(null,r.top+l.top-a.top),o},moveByWords:function(t,e,i){return vt(t,e,i.repeat,!!i.forward,!!i.wordEnd,!!i.bigWord)},moveTillCharacter:function(t,e,i){var n=i.repeat,r=yt(t,n,i.forward,i.selectedCharacter),o=i.forward?-1:1;return dt(o,i),r?(r.ch+=o,r):null},moveToCharacter:function(t,e,i){var n=i.repeat;return dt(0,i),yt(t,n,i.forward,i.selectedCharacter)||e},moveToSymbol:function(t,e,i){var n=i.repeat;return mt(t,n,i.forward,i.selectedCharacter)||e},moveToColumn:function(t,e,i,n){var r=i.repeat;return n.lastHPos=r-1,n.lastHSPos=t.charCoords(e,"div").left,bt(t,r)},moveToEol:function(t,e,i,r){var o=e;r.lastHPos=1/0;var s=n(o.line+i.repeat-1,1/0),a=t.clipPos(s);return a.ch--,r.lastHSPos=t.charCoords(a,"div").left,s},moveToFirstNonWhiteSpaceCharacter:function(t,e){var i=e;return n(i.line,ht(t.getLine(i.line)))},moveToMatchedSymbol:function(t,e){var i,r=e,o=r.line,s=r.ch,a=t.getLine(o);do if(i=a.charAt(s++),i&&d(i)){var l=t.getTokenTypeAt(n(o,s));if("string"!==l&&"comment"!==l)break}while(i);if(i){var c=t.findMatchingBracket(n(o,s));return c.to}return r},moveToStartOfLine:function(t,e){return n(e.line,0)},moveToLineOrEdgeOfDocument:function(t,e,i){var r=i.forward?t.lastLine():t.firstLine();return i.repeatIsExplicit&&(r=i.repeat-t.getOption("firstLineNumber")),n(r,ht(t.getLine(r)))},textObjectManipulation:function(t,e,i,n){var r={"(":")",")":"(","{":"}","}":"{","[":"]","]":"["},o={"'":!0,'"':!0},s=i.selectedCharacter;"b"==s?s="(":"B"==s&&(s="{");var a,l=!i.textObjectInner;if(r[s])a=kt(t,e,s,l);else if(o[s])a=Ct(t,e,s,l);else if("W"===s)a=pt(t,l,!0,!0);else if("w"===s)a=pt(t,l,!0,!1);else{if("p"!==s)return null;if(a=wt(t,e,i.repeat,0,l),i.linewise=!0,n.visualMode)n.visualLine||(n.visualLine=!0);else{var c=n.inputState.operatorArgs;c&&(c.linewise=!0),a.end.line--}}return t.state.vim.visualMode?rt(t,a.start,a.end):[a.start,a.end]},repeatLastCharacterSearch:function(t,e,i){var n=_e.lastCharacterSearch,r=i.repeat,o=i.forward===n.forward,s=(n.increment?1:0)*(o?-1:1);t.moveH(-s,"char"),i.inclusive=!!o;var a=yt(t,r,o,n.selectedCharacter);return a?(a.ch+=s,a):(t.moveH(s,"char"),e)}},Te={change:function(e,i,r){var o,s,a=e.state.vim;if(_e.macroModeState.lastInsertModeChanges.inVisualBlock=a.visualBlock,a.visualMode){s=e.getSelection();var l=P("",r.length);e.replaceSelections(l),o=V(r[0].head,r[0].anchor)}else{var c=r[0].anchor,u=r[0].head;s=e.getRange(c,u);var h=a.lastEditInputState||{};if("moveByWords"==h.motion&&!v(s)){var p=/\s+$/.exec(s);p&&h.motionArgs&&h.motionArgs.forward&&(u=F(u,0,-p[0].length),s=s.slice(0,-p[0].length))}var f=new n(c.line-1,Number.MAX_VALUE),d=e.firstLine()==e.lastLine();u.line>e.lastLine()&&i.linewise&&!d?e.replaceRange("",f,u):e.replaceRange("",c,u),i.linewise&&(d||(e.setCursor(f),t.commands.newlineAndIndent(e)),c.ch=Number.MAX_VALUE),o=c}_e.registerController.pushText(i.registerName,"change",s,i.linewise,r.length>1),Ee.enterInsertMode(e,{head:o},e.state.vim)},"delete":function(t,e,i){var r,o,s=t.state.vim;if(s.visualBlock){o=t.getSelection();var a=P("",i.length);t.replaceSelections(a),r=i[0].anchor}else{var l=i[0].anchor,c=i[0].head;e.linewise&&c.line!=t.firstLine()&&l.line==t.lastLine()&&l.line==c.line-1&&(l.line==t.firstLine()?l.ch=0:l=n(l.line-1,G(t,l.line-1))),o=t.getRange(l,c),t.replaceRange("",l,c),
r=l,e.linewise&&(r=Se.moveToFirstNonWhiteSpaceCharacter(t,l))}return _e.registerController.pushText(e.registerName,"delete",o,e.linewise,s.visualBlock),O(t,r)},indent:function(t,e,i){var n=t.state.vim,r=i[0].anchor.line,o=n.visualBlock?i[i.length-1].anchor.line:i[0].head.line,s=n.visualMode?e.repeat:1;e.linewise&&o--;for(var a=r;a<=o;a++)for(var l=0;l<s;l++)t.indentLine(a,e.indentRight);return Se.moveToFirstNonWhiteSpaceCharacter(t,i[0].anchor)},changeCase:function(t,e,i,n,r){for(var o=t.getSelections(),s=[],a=e.toLower,l=0;l<o.length;l++){var c=o[l],u="";if(a===!0)u=c.toLowerCase();else if(a===!1)u=c.toUpperCase();else for(var h=0;h<c.length;h++){var p=c.charAt(h);u+=g(p)?p.toLowerCase():p.toUpperCase()}s.push(u)}return t.replaceSelections(s),e.shouldMoveCursor?r:!t.state.vim.visualMode&&e.linewise&&i[0].anchor.line+1==i[0].head.line?Se.moveToFirstNonWhiteSpaceCharacter(t,n):e.linewise?n:V(i[0].anchor,i[0].head)},yank:function(t,e,i,n){var r=t.state.vim,o=t.getSelection(),s=r.visualMode?V(r.sel.anchor,r.sel.head,i[0].head,i[0].anchor):n;return _e.registerController.pushText(e.registerName,"yank",o,e.linewise,r.visualBlock),s}},Ee={jumpListWalk:function(t,e,i){if(!i.visualMode){var n=e.repeat,r=e.forward,o=_e.jumpList,s=o.move(t,r?n:-n),a=s?s.find():void 0;a=a?a:t.getCursor(),t.setCursor(a)}},scroll:function(t,e,i){if(!i.visualMode){var n=e.repeat||1,r=t.defaultTextHeight(),o=t.getScrollInfo().top,s=r*n,a=e.forward?o+s:o-s,l=q(t.getCursor()),c=t.charCoords(l,"local");if(e.forward)a>c.top?(l.line+=(a-c.top)/r,l.line=Math.ceil(l.line),t.setCursor(l),c=t.charCoords(l,"local"),t.scrollTo(null,c.top)):t.scrollTo(null,a);else{var u=a+t.getScrollInfo().clientHeight;u<c.bottom?(l.line-=(c.bottom-u)/r,l.line=Math.floor(l.line),t.setCursor(l),c=t.charCoords(l,"local"),t.scrollTo(null,c.bottom-t.getScrollInfo().clientHeight)):t.scrollTo(null,a)}}},scrollToCursor:function(t,e){var i=t.getCursor().line,r=t.charCoords(n(i,0),"local"),o=t.getScrollInfo().clientHeight,s=r.top,a=r.bottom-s;switch(e.position){case"center":s=s-o/2+a;break;case"bottom":s=s-o+a}t.scrollTo(null,s)},replayMacro:function(t,e,i){var n=e.selectedCharacter,r=e.repeat,o=_e.macroModeState;for("@"==n&&(n=o.latestRegister);r--;)Xt(t,i,o,n)},enterMacroRecordMode:function(t,e){var i=_e.macroModeState,n=e.selectedCharacter;i.enterMacroRecordMode(t,n)},toggleOverwrite:function(e){e.state.overwrite?(e.toggleOverwrite(!1),e.setOption("keyMap","vim-insert"),t.signal(e,"vim-mode-change",{mode:"insert"})):(e.toggleOverwrite(!0),e.setOption("keyMap","vim-replace"),t.signal(e,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(e,i,r){if(!e.getOption("readOnly")){r.insertMode=!0,r.insertModeRepeat=i&&i.repeat||1;var o=i?i.insertAt:null,s=r.sel,a=i.head||e.getCursor("head"),l=e.listSelections().length;if("eol"==o)a=n(a.line,G(e,a.line));else if("charAfter"==o)a=F(a,0,1);else if("firstNonBlank"==o)a=Se.moveToFirstNonWhiteSpaceCharacter(e,a);else if("startOfSelectedArea"==o)r.visualBlock?(a=n(Math.min(s.head.line,s.anchor.line),Math.min(s.head.ch,s.anchor.ch)),l=Math.abs(s.head.line-s.anchor.line)+1):a=s.head.line<s.anchor.line?s.head:n(s.anchor.line,0);else if("endOfSelectedArea"==o)r.visualBlock?(a=n(Math.min(s.head.line,s.anchor.line),Math.max(s.head.ch+1,s.anchor.ch)),l=Math.abs(s.head.line-s.anchor.line)+1):a=s.head.line>=s.anchor.line?F(s.head,0,1):n(s.anchor.line,0);else if("inplace"==o&&r.visualMode)return;e.setOption("disableInput",!1),i&&i.replace?(e.toggleOverwrite(!0),e.setOption("keyMap","vim-replace"),t.signal(e,"vim-mode-change",{mode:"replace"})):(e.toggleOverwrite(!1),e.setOption("keyMap","vim-insert"),t.signal(e,"vim-mode-change",{mode:"insert"})),_e.macroModeState.isPlaying||(e.on("change",te),t.on(e.getInputField(),"keydown",oe)),r.visualMode&&lt(e),tt(e,a,l)}},toggleVisualMode:function(e,i,r){var o,s=i.repeat,a=e.getCursor();r.visualMode?r.visualLine^i.linewise||r.visualBlock^i.blockwise?(r.visualLine=!!i.linewise,r.visualBlock=!!i.blockwise,t.signal(e,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":r.visualBlock?"blockwise":""}),ot(e)):lt(e):(r.visualMode=!0,r.visualLine=!!i.linewise,r.visualBlock=!!i.blockwise,o=O(e,n(a.line,a.ch+s-1),!0),r.sel={anchor:a,head:o},t.signal(e,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":r.visualBlock?"blockwise":""}),ot(e),xt(e,r,"<",V(a,o)),xt(e,r,">",K(a,o)))},reselectLastSelection:function(e,i,n){var r=n.lastSelection;if(n.visualMode&&nt(e,n),r){var o=r.anchorMark.find(),s=r.headMark.find();if(!o||!s)return;n.sel={anchor:o,head:s},n.visualMode=!0,n.visualLine=r.visualLine,n.visualBlock=r.visualBlock,ot(e),xt(e,n,"<",V(o,s)),xt(e,n,">",K(o,s)),t.signal(e,"vim-mode-change",{mode:"visual",subMode:n.visualLine?"linewise":n.visualBlock?"blockwise":""})}},joinLines:function(t,e,i){var r,o;if(i.visualMode){if(r=t.getCursor("anchor"),o=t.getCursor("head"),U(o,r)){var s=o;o=r,r=s}o.ch=G(t,o.line)-1}else{var a=Math.max(e.repeat,2);r=t.getCursor(),o=O(t,n(r.line+a-1,1/0))}for(var l=0,c=r.line;c<o.line;c++){l=G(t,r.line);var s=n(r.line+1,G(t,r.line+1)),u=t.getRange(r,s);u=u.replace(/\n\s*/g," "),t.replaceRange(u,r,s)}var h=n(r.line,l);i.visualMode&&lt(t,!1),t.setCursor(h)},newLineAndEnterInsertMode:function(e,i,r){r.insertMode=!0;var o=q(e.getCursor());if(o.line!==e.firstLine()||i.after){o.line=i.after?o.line:o.line-1,o.ch=G(e,o.line),e.setCursor(o);var s=t.commands.newlineAndIndentContinueComment||t.commands.newlineAndIndent;s(e)}else e.replaceRange("\n",n(e.firstLine(),0)),e.setCursor(e.firstLine(),0);this.enterInsertMode(e,{repeat:i.repeat},r)},paste:function(t,e,i){var r=q(t.getCursor()),o=_e.registerController.getRegister(e.registerName),s=o.toString();if(s){if(e.matchIndent){var a=t.getOption("tabSize"),l=function(t){var e=t.split("\t").length-1,i=t.split(" ").length-1;return e*a+1*i},c=t.getLine(t.getCursor().line),u=l(c.match(/^\s*/)[0]),h=s.replace(/\n$/,""),p=s!==h,f=l(s.match(/^\s*/)[0]),s=h.replace(/^\s*/gm,function(e){var i=u+(l(e)-f);if(i<0)return"";if(t.getOption("indentWithTabs")){var n=Math.floor(i/a);return Array(n+1).join("\t")}return Array(i+1).join(" ")});s+=p?"\n":""}if(e.repeat>1)var s=Array(e.repeat+1).join(s);var d=o.linewise,m=o.blockwise;if(d)i.visualMode?s=i.visualLine?s.slice(0,-1):"\n"+s.slice(0,s.length-1)+"\n":e.after?(s="\n"+s.slice(0,s.length-1),r.ch=G(t,r.line)):r.ch=0;else{if(m){s=s.split("\n");for(var g=0;g<s.length;g++)s[g]=""==s[g]?" ":s[g]}r.ch+=e.after?1:0}var v,y;if(i.visualMode){i.lastPastedText=s;var b,x=it(t,i),_=x[0],w=x[1],k=t.getSelection(),C=t.listSelections(),S=new Array(C.length).join("1").split("1");i.lastSelection&&(b=i.lastSelection.headMark.find()),_e.registerController.unnamedRegister.setText(k),m?(t.replaceSelections(S),w=n(_.line+s.length-1,_.ch),t.setCursor(_),J(t,w),t.replaceSelections(s),v=_):i.visualBlock?(t.replaceSelections(S),t.setCursor(_),t.replaceRange(s,_,_),v=_):(t.replaceRange(s,_,w),v=t.posFromIndex(t.indexFromPos(_)+s.length-1)),b&&(i.lastSelection.headMark=t.setBookmark(b)),d&&(v.ch=0)}else if(m){t.setCursor(r);for(var g=0;g<s.length;g++){var T=r.line+g;T>t.lastLine()&&t.replaceRange("\n",n(T,0));var E=G(t,T);E<r.ch&&Z(t,T,r.ch)}t.setCursor(r),J(t,n(r.line+s.length-1,r.ch)),t.replaceSelections(s),v=r}else t.replaceRange(s,r),d&&e.after?v=n(r.line+1,ht(t.getLine(r.line+1))):d&&!e.after?v=n(r.line,ht(t.getLine(r.line))):!d&&e.after?(y=t.indexFromPos(r),v=t.posFromIndex(y+s.length-1)):(y=t.indexFromPos(r),v=t.posFromIndex(y+s.length));i.visualMode&&lt(t,!1),t.setCursor(v)}},undo:function(e,i){e.operation(function(){B(e,t.commands.undo,i.repeat)(),e.setCursor(e.getCursor("anchor"))})},redo:function(e,i){B(e,t.commands.redo,i.repeat)()},setRegister:function(t,e,i){i.inputState.registerName=e.selectedCharacter},setMark:function(t,e,i){var n=e.selectedCharacter;xt(t,i,n,t.getCursor())},replace:function(e,i,r){var o,s,a=i.selectedCharacter,l=e.getCursor(),c=e.listSelections();if(r.visualMode)l=e.getCursor("start"),s=e.getCursor("end");else{var u=e.getLine(l.line);o=l.ch+i.repeat,o>u.length&&(o=u.length),s=n(l.line,o)}if("\n"==a)r.visualMode||e.replaceRange("",l,s),(t.commands.newlineAndIndentContinueComment||t.commands.newlineAndIndent)(e);else{var h=e.getRange(l,s);if(h=h.replace(/[^\n]/g,a),r.visualBlock){var p=new Array(e.getOption("tabSize")+1).join(" ");h=e.getSelection(),h=h.replace(/\t/g,p).replace(/[^\n]/g,a).split("\n"),e.replaceSelections(h)}else e.replaceRange(h,l,s);r.visualMode?(l=U(c[0].anchor,c[0].head)?c[0].anchor:c[0].head,e.setCursor(l),lt(e,!1)):e.setCursor(F(s,0,-1))}},incrementNumberToken:function(t,e){for(var i,r,o,s,a,l=t.getCursor(),c=t.getLine(l.line),u=/-?\d+/g;null!==(i=u.exec(c))&&(a=i[0],r=i.index,o=r+a.length,!(l.ch<o)););if((e.backtrack||!(o<=l.ch))&&a){var h=e.increase?1:-1,p=parseInt(a)+h*e.repeat,f=n(l.line,r),d=n(l.line,o);s=p.toString(),t.replaceRange(s,f,d),t.setCursor(n(l.line,r+s.length-1))}},repeatLastEdit:function(t,e,i){var n=i.lastEditInputState;if(n){var r=e.repeat;r&&e.repeatIsExplicit?i.lastEditInputState.repeatOverride=r:r=i.lastEditInputState.repeatOverride||r,se(t,i,r,!1)}},indent:function(t,e){t.indentLine(t.getCursor().line,e.indentRight)},exitInsertMode:Kt},Ae={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Me={bracket:{isComplete:function(t){if(t.nextCh===t.symb){if(t.depth++,t.depth>=1)return!0}else t.nextCh===t.reverseSymb&&t.depth--;return!1}},section:{init:function(t){t.curMoveThrough=!0,t.symb=(t.forward?"]":"[")===t.symb?"{":"}"},isComplete:function(t){return 0===t.index&&t.nextCh===t.symb}},comment:{isComplete:function(t){var e="*"===t.lastCh&&"/"===t.nextCh;return t.lastCh=t.nextCh,e}},method:{init:function(t){t.symb="m"===t.symb?"{":"}",t.reverseSymb="{"===t.symb?"}":"{"},isComplete:function(t){return t.nextCh===t.symb}},preprocess:{init:function(t){t.index=0},isComplete:function(t){if("#"===t.nextCh){var e=t.lineText.match(/#(\w+)/)[1];if("endif"===e){if(t.forward&&0===t.depth)return!0;t.depth++}else if("if"===e){if(!t.forward&&0===t.depth)return!0;t.depth--}if("else"===e&&0===t.depth)return!0}return!1}}};b("pcre",!0,"boolean"),St.prototype={getQuery:function(){return _e.query},setQuery:function(t){_e.query=t},getOverlay:function(){return this.searchOverlay},setOverlay:function(t){this.searchOverlay=t},isReversed:function(){return _e.isReversed},setReversed:function(t){_e.isReversed=t},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(t){this.annotate=t}};var Le={"\\n":"\n","\\r":"\r","\\t":"\t"},Ne={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"},Pe="(Javascript regexp)",Ie=function(){this.buildCommandMap_()};Ie.prototype={processCommand:function(t,e,i){var n=this;t.operation(function(){t.curOp.isVimOp=!0,n._processCommand(t,e,i)})},_processCommand:function(e,i,n){var r=e.state.vim,o=_e.registerController.getRegister(":"),s=o.toString();r.visualMode&&lt(e);var a=new t.StringStream(i);o.setText(i);var l=n||{};l.input=i;try{this.parseInput_(e,a,l)}catch(c){throw Dt(e,c),c}var u,h;if(l.commandName){if(u=this.matchCommand_(l.commandName)){if(h=u.name,u.excludeFromCommandHistory&&o.setText(s),this.parseCommandArgs_(a,l,u),"exToKey"==u.type){for(var p=0;p<u.toKeys.length;p++)t.Vim.handleKey(e,u.toKeys[p],"mapping");return}if("exToEx"==u.type)return void this.processCommand(e,u.toInput)}}else void 0!==l.line&&(h="move");if(!h)return void Dt(e,'Not an editor command ":'+i+'"');try{De[h](e,l),u&&u.possiblyAsync||!l.callback||l.callback()}catch(c){throw Dt(e,c),c}},parseInput_:function(t,e,i){e.eatWhile(":"),e.eat("%")?(i.line=t.firstLine(),i.lineEnd=t.lastLine()):(i.line=this.parseLineSpec_(t,e),void 0!==i.line&&e.eat(",")&&(i.lineEnd=this.parseLineSpec_(t,e)));var n=e.match(/^(\w+)/);return n?i.commandName=n[1]:i.commandName=e.match(/.*/)[0],i},parseLineSpec_:function(t,e){var i=e.match(/^(\d+)/);if(i)return parseInt(i[1],10)-1;switch(e.next()){case".":return t.getCursor().line;case"$":return t.lastLine();case"'":var n=e.next(),r=Ut(t,t.state.vim,n);if(!r)throw new Error("Mark not set");return r.line;default:return void e.backUp(1)}},parseCommandArgs_:function(t,e,i){if(!t.eol()){e.argString=t.match(/.*/)[0];var n=i.argDelimiter||/\s+/,r=X(e.argString).split(n);r.length&&r[0]&&(e.args=r)}},matchCommand_:function(t){for(var e=t.length;e>0;e--){var i=t.substring(0,e);if(this.commandMap_[i]){var n=this.commandMap_[i];if(0===n.name.indexOf(t))return n}}return null},buildCommandMap_:function(){this.commandMap_={};for(var t=0;t<i.length;t++){var e=i[t],n=e.shortName||e.name;this.commandMap_[n]=e}},map:function(t,i,n){if(":"!=t&&":"==t.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var r=t.substring(1);":"!=i&&":"==i.charAt(0)?this.commandMap_[r]={name:r,type:"exToEx",toInput:i.substring(1),user:!0}:this.commandMap_[r]={name:r,type:"exToKey",toKeys:i,user:!0}}else if(":"!=i&&":"==i.charAt(0)){var o={keys:t,type:"keyToEx",exArgs:{input:i.substring(1)}};n&&(o.context=n),e.unshift(o)}else{var o={keys:t,type:"keyToKey",toKeys:i};n&&(o.context=n),e.unshift(o)}},unmap:function(t,i){if(":"!=t&&":"==t.charAt(0)){if(i)throw Error("Mode not supported for ex mappings");var n=t.substring(1);if(this.commandMap_[n]&&this.commandMap_[n].user)return void delete this.commandMap_[n]}else for(var r=t,o=0;o<e.length;o++)if(r==e[o].keys&&e[o].context===i)return void e.splice(o,1);throw Error("No such mapping.")}};var De={colorscheme:function(t,e){return!e.args||e.args.length<1?void Dt(t,t.getOption("theme")):void t.setOption("theme",e.args[0])},map:function(t,e,i){var n=e.args;return!n||n.length<2?void(t&&Dt(t,"Invalid mapping: "+e.input)):void Oe.map(n[0],n[1],i)},imap:function(t,e){this.map(t,e,"insert")},nmap:function(t,e){this.map(t,e,"normal")},vmap:function(t,e){this.map(t,e,"visual")},unmap:function(t,e,i){var n=e.args;return!n||n.length<1?void(t&&Dt(t,"No such mapping: "+e.input)):void Oe.unmap(n[0],i)},move:function(t,e){Ce.processCommand(t,t.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:e.line+1})},set:function(t,e){var i=e.args,n=e.setCfg||{};if(!i||i.length<1)return void(t&&Dt(t,"Invalid mapping: "+e.input));var r=i[0].split("="),o=r[0],s=r[1],a=!1;if("?"==o.charAt(o.length-1)){if(s)throw Error("Trailing characters: "+e.argString);o=o.substring(0,o.length-1),a=!0}void 0===s&&"no"==o.substring(0,2)&&(o=o.substring(2),s=!1);var l=ye[o]&&"boolean"==ye[o].type;if(l&&void 0==s&&(s=!0),!l&&void 0===s||a){var c=_(o,t,n);c===!0||c===!1?Dt(t," "+(c?"":"no")+o):Dt(t,"  "+o+"="+c)}else x(o,s,t,n)},setlocal:function(t,e){e.setCfg={scope:"local"},this.set(t,e)},setglobal:function(t,e){e.setCfg={scope:"global"},this.set(t,e)},registers:function(t,e){var i=e.args,n=_e.registerController.registers,r="----------Registers----------<br><br>";if(i){var o;i=i.join("");for(var s=0;s<i.length;s++)if(o=i.charAt(s),_e.registerController.isValidRegister(o)){var a=n[o]||new E;r+='"'+o+"    "+a.toString()+"<br>"}}else for(var o in n){var l=n[o].toString();l.length&&(r+='"'+o+"    "+l+"<br>")}Dt(t,r)},sort:function(e,i){function r(){if(i.argString){var e=new t.StringStream(i.argString);if(e.eat("!")&&(a=!0),e.eol())return;if(!e.eatSpace())return"Invalid arguments";var n=e.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!n&&!e.eol())return"Invalid arguments";if(n[1]){l=n[1].indexOf("i")!=-1,c=n[1].indexOf("u")!=-1;var r=n[1].indexOf("d")!=-1||n[1].indexOf("n")!=-1&&1,o=n[1].indexOf("x")!=-1&&1,s=n[1].indexOf("o")!=-1&&1;if(r+o+s>1)return"Invalid arguments";u=r&&"decimal"||o&&"hex"||s&&"octal"}n[2]&&(h=new RegExp(n[2].substr(1,n[2].length-2),l?"i":""))}}function o(t,e){if(a){var i;i=t,t=e,e=i}l&&(t=t.toLowerCase(),e=e.toLowerCase());var n=u&&y.exec(t),r=u&&y.exec(e);return n?(n=parseInt((n[1]+n[2]).toLowerCase(),b),r=parseInt((r[1]+r[2]).toLowerCase(),b),n-r):t<e?-1:1}function s(t,e){if(a){var i;i=t,t=e,e=i}return l&&(t[0]=t[0].toLowerCase(),e[0]=e[0].toLowerCase()),t[0]<e[0]?-1:1}var a,l,c,u,h,p=r();if(p)return void Dt(e,p+": "+i.argString);var f=i.line||e.firstLine(),d=i.lineEnd||i.line||e.lastLine();if(f!=d){var m=n(f,0),g=n(d,G(e,d)),v=e.getRange(m,g).split("\n"),y=h?h:"decimal"==u?/(-?)([\d]+)/:"hex"==u?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==u?/([0-7]+)/:null,b="decimal"==u?10:"hex"==u?16:"octal"==u?8:null,x=[],_=[];if(u||h)for(var w=0;w<v.length;w++){var k=h?v[w].match(h):null;k&&""!=k[0]?x.push(k):!h&&y.exec(v[w])?x.push(v[w]):_.push(v[w])}else _=v;if(x.sort(h?s:o),h)for(var w=0;w<x.length;w++)x[w]=x[w].input;else u||_.sort(o);if(v=a?x.concat(_):_.concat(x),c){var C,S=v;v=[];for(var w=0;w<S.length;w++)S[w]!=C&&v.push(S[w]),C=S[w]}e.replaceRange(v.join("\n"),m,g)}},global:function(t,e){var i=e.argString;if(!i)return void Dt(t,"Regular Expression missing from global");var n,r=void 0!==e.line?e.line:t.firstLine(),o=e.lineEnd||e.line||t.lastLine(),s=At(i),a=i;if(s.length&&(a=s[0],n=s.slice(1,s.length).join("/")),a)try{Ht(t,a,!0,!0)}catch(l){return void Dt(t,"Invalid regex: "+a)}for(var c=Tt(t).getQuery(),u=[],h="",p=r;p<=o;p++){var f=c.test(t.getLine(p));f&&(u.push(p+1),h+=t.getLine(p)+"<br>")}if(!n)return void Dt(t,h);var d=0,m=function(){if(d<u.length){var e=u[d]+n;Oe.processCommand(t,e,{callback:m})}d++};m()},substitute:function(t,e){if(!t.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var i,r,o,s,a=e.argString,l=a?At(a):[],c="",u=!1,h=!1;if(l.length)i=l[0],c=l[1],void 0!==c&&(c=_("pcre")?Pt(c):Nt(c),_e.lastSubstituteReplacePart=c),r=l[2]?l[2].split(" "):[];else if(a&&a.length)return void Dt(t,"Substitutions should be of the form :s/pattern/replace/");if(r&&(o=r[0],s=parseInt(r[1]),o&&(o.indexOf("c")!=-1&&(u=!0,o.replace("c","")),o.indexOf("g")!=-1&&(h=!0,o.replace("g","")),i=i+"/"+o)),i)try{Ht(t,i,!0,!0)}catch(p){return void Dt(t,"Invalid regex: "+i)}if(c=c||_e.lastSubstituteReplacePart,void 0===c)return void Dt(t,"No previous substitute regular expression");var f=Tt(t),d=f.getQuery(),m=void 0!==e.line?e.line:t.getCursor().line,g=e.lineEnd||m;m==t.firstLine()&&g==t.lastLine()&&(g=1/0),s&&(m=g,g=m+s-1);var v=O(t,n(m,0)),y=t.getSearchCursor(d,v);Vt(t,u,h,m,g,y,d,c,e.callback)},redo:t.commands.redo,undo:t.commands.undo,write:function(e){t.commands.save?t.commands.save(e):e.save&&e.save()},nohlsearch:function(t){Bt(t)},yank:function(t){var e=q(t.getCursor()),i=e.line,n=t.getLine(i);_e.registerController.pushText("0","yank",n,!0,!0)},delmarks:function(e,i){if(!i.argString||!X(i.argString))return void Dt(e,"Argument required");for(var n=e.state.vim,r=new t.StringStream(X(i.argString));!r.eol();){r.eatSpace();var o=r.pos;if(!r.match(/[a-zA-Z]/,!1))return void Dt(e,"Invalid argument: "+i.argString.substring(o));var s=r.next();if(r.match("-",!0)){if(!r.match(/[a-zA-Z]/,!1))return void Dt(e,"Invalid argument: "+i.argString.substring(o));var a=s,l=r.next();if(!(f(a)&&f(l)||g(a)&&g(l)))return void Dt(e,"Invalid argument: "+a+"-");var c=a.charCodeAt(0),u=l.charCodeAt(0);if(c>=u)return void Dt(e,"Invalid argument: "+i.argString.substring(o));for(var h=0;h<=u-c;h++){var p=String.fromCharCode(c+h);delete n.marks[p]}}else delete n.marks[s]}}},Oe=new Ie;return t.keyMap.vim={attach:a,detach:s,call:l},b("insertModeEscKeysTimeout",200,"number"),t.keyMap["vim-insert"]={fallthrough:["default"],attach:a,detach:s,call:l},t.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:a,detach:s,call:l},C(),ke};t.Vim=r()}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../lib/codemirror")):"function"==typeof define&&define.amd?define(["../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){return t.line==e.line&&t.ch==e.ch}function i(t){D.push(t),D.length>50&&D.shift()}function n(t){return D.length?void(D[D.length-1]+=t):i(t)}function r(t){return D[D.length-(t?Math.min(t,1):1)]||""}function o(){return D.length>1&&D.pop(),r()}function s(t,r,o,s,a){null==a&&(a=t.getRange(r,o)),s&&O&&O.cm==t&&e(r,O.pos)&&t.isClean(O.gen)?n(a):i(a),t.replaceRange("",r,o,"+delete"),O=s?{cm:t,pos:r,gen:t.changeGeneration()}:null}function a(t,e,i){return t.findPosH(e,i,"char",!0)}function l(t,e,i){return t.findPosH(e,i,"word",!0)}function c(t,e,i){return t.findPosV(e,i,"line",t.doc.sel.goalColumn)}function u(t,e,i){return t.findPosV(e,i,"page",t.doc.sel.goalColumn)}function h(t,e,i){for(var n=e.line,r=t.getLine(n),o=/\S/.test(i<0?r.slice(0,e.ch):r.slice(e.ch)),s=t.firstLine(),a=t.lastLine();;){if(n+=i,n<s||n>a)return t.clipPos(I(n-i,i<0?0:null));r=t.getLine(n);var l=/\S/.test(r);if(l)o=!0;else if(o)return I(n,0)}}function p(t,e,i){for(var n=e.line,r=e.ch,o=t.getLine(e.line),s=!1;;){var a=o.charAt(r+(i<0?-1:0));if(a){if(s&&/[!?.]/.test(a))return I(n,r+(i>0?1:0));s||(s=/\w/.test(a)),r+=i}else{if(n==(i<0?t.firstLine():t.lastLine()))return I(n,r);if(o=t.getLine(n+i),!/\S/.test(o))return I(n,r);n+=i,r=i<0?o.length:0}}}function f(t,i,n){var r;if(t.findMatchingBracket&&(r=t.findMatchingBracket(i,!0))&&r.match&&(r.forward?1:-1)==n)return n>0?I(r.to.line,r.to.ch+1):r.to;for(var o=!0;;o=!1){var s=t.getTokenAt(i),a=I(i.line,n<0?s.start:s.end);if(!(o&&n>0&&s.end==i.ch)&&/\w/.test(s.string))return a;var l=t.findPosH(a,n,"char");if(e(a,l))return i;i=l}}function d(t,e){var i=t.state.emacsPrefix;return i?(w(t),"-"==i?-1:Number(i)):e?null:1}function m(t){var e="string"==typeof t?function(e){e.execCommand(t)}:t;return function(t){var i=d(t);e(t);for(var n=1;n<i;++n)e(t)}}function g(t,i,n,r){var o=d(t);o<0&&(r=-r,o=-o);for(var s=0;s<o;++s){var a=n(t,i,r);if(e(a,i))break;i=a}return i}function v(t,e){var i=function(i){i.extendSelection(g(i,i.getCursor(),t,e))};return i.motion=!0,i}function y(t,e,i){for(var n,r=t.listSelections(),o=r.length;o--;)n=r[o].head,s(t,n,g(t,n,e,i),!0)}function b(t){if(t.somethingSelected()){for(var e,i=t.listSelections(),n=i.length;n--;)e=i[n],s(t,e.anchor,e.head);return!0}}function x(t,e){return t.state.emacsPrefix?void("-"!=e&&(t.state.emacsPrefix+=e)):(t.state.emacsPrefix=e,t.on("keyHandled",_),void t.on("inputRead",k))}function _(t,e){t.state.emacsPrefixMap||R.hasOwnProperty(e)||w(t)}function w(t){t.state.emacsPrefix=null,t.off("keyHandled",_),t.off("inputRead",k)}function k(t,e){var i=d(t);if(i>1&&"+input"==e.origin){for(var n=e.text.join("\n"),r="",o=1;o<i;++o)r+=n;t.replaceSelection(r)}}function C(t){t.state.emacsPrefixMap=!0,t.addKeyMap(H),t.on("keyHandled",S),t.on("inputRead",S)}function S(t,e){("string"!=typeof e||!/^\d$/.test(e)&&"Ctrl-U"!=e)&&(t.removeKeyMap(H),t.state.emacsPrefixMap=!1,t.off("keyHandled",S),t.off("inputRead",S))}function T(t){t.setCursor(t.getCursor()),t.setExtending(!t.getExtending()),t.on("change",function(){t.setExtending(!1)})}function E(t){t.setExtending(!1),t.setCursor(t.getCursor())}function A(t,e,i){t.openDialog?t.openDialog(e+': <input type="text" style="width: 10em"/>',i,{bottom:!0}):i(prompt(e,""))}function M(t,e){var i=t.getCursor(),n=t.findPosH(i,1,"word");t.replaceRange(e(t.getRange(i,n)),i,n),t.setCursor(n)}function L(t){for(var e=t.getCursor(),i=e.line,n=e.ch,r=[];i>=t.firstLine();){for(var o=t.getLine(i),s=null==n?o.length:n;s>0;){var n=o.charAt(--s);if(")"==n)r.push("(");else if("]"==n)r.push("[");else if("}"==n)r.push("{");else if(/[\(\{\[]/.test(n)&&(!r.length||r.pop()!=n))return t.extendSelection(I(i,s))}--i,n=null}}function N(t){t.execCommand("clearSearch"),E(t)}function P(t){H[t]=function(e){x(e,t)},F["Ctrl-"+t]=function(e){x(e,t)},R["Ctrl-"+t]=!0}var I=t.Pos,D=[],O=null,R={"Alt-G":!0,"Ctrl-X":!0,"Ctrl-Q":!0,"Ctrl-U":!0};t.emacs={kill:s,killRegion:b,repeated:m};for(var F=t.keyMap.emacs=t.normalizeKeyMap({"Ctrl-W":function(t){s(t,t.getCursor("start"),t.getCursor("end"))},"Ctrl-K":m(function(t){var e=t.getCursor(),i=t.clipPos(I(e.line)),n=t.getRange(e,i);/\S/.test(n)||(n+="\n",i=I(e.line+1,0)),s(t,e,i,!0,n)}),"Alt-W":function(t){i(t.getSelection()),E(t)},"Ctrl-Y":function(t){var e=t.getCursor();t.replaceRange(r(d(t)),e,e,"paste"),t.setSelection(e,t.getCursor())},"Alt-Y":function(t){t.replaceSelection(o(),"around","paste")},"Ctrl-Space":T,"Ctrl-Shift-2":T,"Ctrl-F":v(a,1),"Ctrl-B":v(a,-1),Right:v(a,1),Left:v(a,-1),"Ctrl-D":function(t){y(t,a,1)},Delete:function(t){b(t)||y(t,a,1)},"Ctrl-H":function(t){y(t,a,-1)},Backspace:function(t){b(t)||y(t,a,-1)},"Alt-F":v(l,1),"Alt-B":v(l,-1),"Alt-D":function(t){y(t,l,1)},"Alt-Backspace":function(t){y(t,l,-1)},"Ctrl-N":v(c,1),"Ctrl-P":v(c,-1),Down:v(c,1),Up:v(c,-1),"Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd",End:"goLineEnd",Home:"goLineStart","Alt-V":v(u,-1),"Ctrl-V":v(u,1),PageUp:v(u,-1),PageDown:v(u,1),"Ctrl-Up":v(h,-1),"Ctrl-Down":v(h,1),"Alt-A":v(p,-1),"Alt-E":v(p,1),"Alt-K":function(t){y(t,p,1)},"Ctrl-Alt-K":function(t){y(t,f,1)},"Ctrl-Alt-Backspace":function(t){y(t,f,-1)},"Ctrl-Alt-F":v(f,1),"Ctrl-Alt-B":v(f,-1),"Shift-Ctrl-Alt-2":function(t){var e=t.getCursor();t.setSelection(g(t,e,f,1),e)},"Ctrl-Alt-T":function(t){var e=f(t,t.getCursor(),-1),i=f(t,e,1),n=f(t,i,1),r=f(t,n,-1);t.replaceRange(t.getRange(r,n)+t.getRange(i,r)+t.getRange(e,i),e,n)},"Ctrl-Alt-U":m(L),"Alt-Space":function(t){for(var e=t.getCursor(),i=e.ch,n=e.ch,r=t.getLine(e.line);i&&/\s/.test(r.charAt(i-1));)--i;for(;n<r.length&&/\s/.test(r.charAt(n));)++n;t.replaceRange(" ",I(e.line,i),I(e.line,n))},"Ctrl-O":m(function(t){t.replaceSelection("\n","start")}),"Ctrl-T":m(function(t){t.execCommand("transposeChars")}),"Alt-C":m(function(t){M(t,function(t){var e=t.search(/\w/);return e==-1?t:t.slice(0,e)+t.charAt(e).toUpperCase()+t.slice(e+1).toLowerCase()})}),"Alt-U":m(function(t){M(t,function(t){return t.toUpperCase()})}),"Alt-L":m(function(t){M(t,function(t){return t.toLowerCase()})}),"Alt-;":"toggleComment","Ctrl-/":m("undo"),"Shift-Ctrl--":m("undo"),"Ctrl-Z":m("undo"),"Cmd-Z":m("undo"),"Shift-Alt-,":"goDocStart","Shift-Alt-.":"goDocEnd","Ctrl-S":"findNext","Ctrl-R":"findPrev","Ctrl-G":N,"Shift-Alt-5":"replace","Alt-/":"autocomplete",Enter:"newlineAndIndent","Ctrl-J":m(function(t){t.replaceSelection("\n","end")}),Tab:"indentAuto","Alt-G G":function(t){var e=d(t,!0);return null!=e&&e>0?t.setCursor(e-1):void A(t,"Goto line",function(e){var i;e&&!isNaN(i=Number(e))&&i==(0|i)&&i>0&&t.setCursor(i-1)})},"Ctrl-X Tab":function(t){t.indentSelection(d(t,!0)||t.getOption("indentUnit"))},"Ctrl-X Ctrl-X":function(t){t.setSelection(t.getCursor("head"),t.getCursor("anchor"))},"Ctrl-X Ctrl-S":"save","Ctrl-X Ctrl-W":"save","Ctrl-X S":"saveAll","Ctrl-X F":"open","Ctrl-X U":m("undo"),"Ctrl-X K":"close","Ctrl-X Delete":function(t){s(t,t.getCursor(),p(t,t.getCursor(),1),!0)},"Ctrl-X H":"selectAll","Ctrl-Q Tab":m("insertTab"),"Ctrl-U":C}),H={"Ctrl-G":w},j=0;j<10;++j)P(String(j));P("-")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,r,o){if(this.atOccurrence=!1,this.doc=t,null==o&&"string"==typeof e&&(o=!1),r=r?t.clipPos(r):n(0,0),this.pos={from:r,to:r},"string"!=typeof e)e.global||(e=new RegExp(e.source,e.ignoreCase?"ig":"g")),this.matches=function(i,r){if(i){e.lastIndex=0;for(var o,s,a=t.getLine(r.line).slice(0,r.ch),l=0;;){e.lastIndex=l;var c=e.exec(a);if(!c)break;if(o=c,s=o.index,l=o.index+(o[0].length||1),l==a.length)break}var u=o&&o[0].length||0;u||(0==s&&0==a.length?o=void 0:s!=t.getLine(r.line).length&&u++)}else{e.lastIndex=r.ch;var a=t.getLine(r.line),o=e.exec(a),u=o&&o[0].length||0,s=o&&o.index;s+u==a.length||u||(u=1)}if(o&&u)return{from:n(r.line,s),to:n(r.line,s+u),match:o}};else{var s=e;o&&(e=e.toLowerCase());var a=o?function(t){return t.toLowerCase()}:function(t){return t},l=e.split("\n");if(1==l.length)e.length?this.matches=function(r,o){if(r){var l=t.getLine(o.line).slice(0,o.ch),c=a(l),u=c.lastIndexOf(e);if(u>-1)return u=i(l,c,u),{from:n(o.line,u),to:n(o.line,u+s.length)}}else{var l=t.getLine(o.line).slice(o.ch),c=a(l),u=c.indexOf(e);if(u>-1)return u=i(l,c,u)+o.ch,{from:n(o.line,u),to:n(o.line,u+s.length)}}}:this.matches=function(){};else{var c=s.split("\n");this.matches=function(e,i){var r=l.length-1;if(e){if(i.line-(l.length-1)<t.firstLine())return;if(a(t.getLine(i.line).slice(0,c[r].length))!=l[l.length-1])return;for(var o=n(i.line,c[r].length),s=i.line-1,u=r-1;u>=1;--u,--s)if(l[u]!=a(t.getLine(s)))return;var h=t.getLine(s),p=h.length-c[0].length;if(a(h.slice(p))!=l[0])return;return{from:n(s,p),to:o}}if(!(i.line+(l.length-1)>t.lastLine())){var h=t.getLine(i.line),p=h.length-c[0].length;if(a(h.slice(p))==l[0]){for(var f=n(i.line,p),s=i.line+1,u=1;u<r;++u,++s)if(l[u]!=a(t.getLine(s)))return;if(a(t.getLine(s).slice(0,c[r].length))==l[r])return{from:f,to:n(s,c[r].length)}}}}}}}function i(t,e,i){if(t.length==e.length)return i;for(var n=Math.min(i,t.length);;){var r=t.slice(0,n).toLowerCase().length;if(r<i)++n;else{if(!(r>i))return n;--n}}}var n=t.Pos;e.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){function e(t){var e=n(t,0);return i.pos={from:e,to:e},i.atOccurrence=!1,!1}for(var i=this,r=this.doc.clipPos(t?this.pos.from:this.pos.to);;){if(this.pos=this.matches(t,r))return this.atOccurrence=!0,this.pos.match||!0;if(t){if(!r.line)return e(0);r=n(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return e(o);r=n(r.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(e,i){if(this.atOccurrence){var r=t.splitLines(e);this.doc.replaceRange(r,this.pos.from,this.pos.to,i),this.pos.to=n(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},t.defineExtension("getSearchCursor",function(t,i,n){return new e(this.doc,t,i,n)}),t.defineDocExtension("getSearchCursor",function(t,i,n){return new e(this,t,i,n)}),t.defineExtension("selectMatches",function(e,i){for(var n=[],r=this.getSearchCursor(e,this.getCursor("from"),i);r.findNext()&&!(t.cmpPos(r.to(),this.getCursor("to"))>0);)n.push({anchor:r.from(),head:r.to()});n.length&&this.setSelections(n,0)})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){return"string"==typeof t?t=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g"):t.global||(t=new RegExp(t.source,t.ignoreCase?"gi":"g")),{token:function(e){t.lastIndex=e.pos;var i=t.exec(e.string);return i&&i.index==e.pos?(e.pos+=i[0].length||1,"searching"):void(i?e.pos=i.index:e.skipToEnd())}}}function i(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function n(t){return t.state.search||(t.state.search=new i)}function r(t){return"string"==typeof t&&t==t.toLowerCase()}function o(t,e,i){return t.getSearchCursor(e,i,r(e))}function s(t,e,i,n,r){t.openDialog(e,n,{value:i,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){d(t)},onKeyDown:r})}function a(t,e,i,n,r){t.openDialog?t.openDialog(e,r,{value:n,selectValueOnOpen:!0}):r(prompt(i,n))}function l(t,e,i,n){t.openConfirm?t.openConfirm(e,n):confirm(i)&&n[0]()}function c(t){return t.replace(/\\(.)/g,function(t,e){return"n"==e?"\n":"r"==e?"\r":e})}function u(t){var e=t.match(/^\/(.*)\/([a-z]*)$/);if(e)try{t=new RegExp(e[1],e[2].indexOf("i")==-1?"":"i")}catch(i){}else t=c(t);return("string"==typeof t?""==t:t.test(""))&&(t=/x^/),t}function h(t,i,n){i.queryText=n,i.query=u(n),t.removeOverlay(i.overlay,r(i.query)),i.overlay=e(i.query,r(i.query)),t.addOverlay(i.overlay),t.showMatchesOnScrollbar&&(i.annotate&&(i.annotate.clear(),i.annotate=null),i.annotate=t.showMatchesOnScrollbar(i.query,r(i.query)))}function p(e,i,r,o){var l=n(e);if(l.query)return f(e,i);var c=e.getSelection()||l.lastQuery;if(r&&e.openDialog){var u=null,p=function(i,n){t.e_stop(n),
i&&(i!=l.queryText&&(h(e,l,i),l.posFrom=l.posTo=e.getCursor()),u&&(u.style.opacity=1),f(e,n.shiftKey,function(t,i){var n;i.line<3&&document.querySelector&&(n=e.display.wrapper.querySelector(".CodeMirror-dialog"))&&n.getBoundingClientRect().bottom-4>e.cursorCoords(i,"window").top&&((u=n).style.opacity=.4)}))};s(e,v,c,p,function(i,r){var o=t.keyName(i),s=t.keyMap[e.getOption("keyMap")][o];s||(s=e.getOption("extraKeys")[o]),"findNext"==s||"findPrev"==s||"findPersistentNext"==s||"findPersistentPrev"==s?(t.e_stop(i),h(e,n(e),r),e.execCommand(s)):"find"!=s&&"findPersistent"!=s||(t.e_stop(i),p(r,i))}),o&&c&&(h(e,l,c),f(e,i))}else a(e,v,"Search for:",c,function(t){t&&!l.query&&e.operation(function(){h(e,l,t),l.posFrom=l.posTo=e.getCursor(),f(e,i)})})}function f(e,i,r){e.operation(function(){var s=n(e),a=o(e,s.query,i?s.posFrom:s.posTo);(a.find(i)||(a=o(e,s.query,i?t.Pos(e.lastLine()):t.Pos(e.firstLine(),0)),a.find(i)))&&(e.setSelection(a.from(),a.to()),e.scrollIntoView({from:a.from(),to:a.to()},20),s.posFrom=a.from(),s.posTo=a.to(),r&&r(a.from(),a.to()))})}function d(t){t.operation(function(){var e=n(t);e.lastQuery=e.query,e.query&&(e.query=e.queryText=null,t.removeOverlay(e.overlay),e.annotate&&(e.annotate.clear(),e.annotate=null))})}function m(t,e,i){t.operation(function(){for(var n=o(t,e);n.findNext();)if("string"!=typeof e){var r=t.getRange(n.from(),n.to()).match(e);n.replace(i.replace(/\$(\d)/g,function(t,e){return r[e]}))}else n.replace(i)})}function g(t,e){if(!t.getOption("readOnly")){var i=t.getSelection()||n(t).lastQuery,r='<span class="CodeMirror-search-label">'+(e?"Replace all:":"Replace:")+"</span>";a(t,r+y,r,i,function(i){i&&(i=u(i),a(t,b,"Replace with:","",function(n){if(n=c(n),e)m(t,i,n);else{d(t);var r=o(t,i,t.getCursor("from")),s=function(){var e,c=r.from();!(e=r.findNext())&&(r=o(t,i),!(e=r.findNext())||c&&r.from().line==c.line&&r.from().ch==c.ch)||(t.setSelection(r.from(),r.to()),t.scrollIntoView({from:r.from(),to:r.to()}),l(t,x,"Replace?",[function(){a(e)},s,function(){m(t,i,n)}]))},a=function(t){r.replace("string"==typeof i?n:n.replace(/\$(\d)/g,function(e,i){return t[i]})),s()};s()}}))})}}var v='<span class="CodeMirror-search-label">Search:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',y=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',b='<span class="CodeMirror-search-label">With:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',x='<span class="CodeMirror-search-label">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';t.commands.find=function(t){d(t),p(t)},t.commands.findPersistent=function(t){d(t),p(t,!1,!0)},t.commands.findPersistentNext=function(t){p(t,!1,!0,!0)},t.commands.findPersistentPrev=function(t){p(t,!0,!0,!0)},t.commands.findNext=p,t.commands.findPrev=function(t){p(t,!0)},t.commands.clearSearch=d,t.commands.replace=g,t.commands.replaceAll=function(t){g(t,!0)}}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(e,r,o,s){function a(t){var i=l(e,r);if(!i||i.to.line-i.from.line<c)return null;for(var n=e.findMarksAt(i.from),o=0;o<n.length;++o)if(n[o].__isFold&&"fold"!==s){if(!t)return null;i.cleared=!0,n[o].clear()}return i}if(o&&o.call){var l=o;o=null}else var l=n(e,o,"rangeFinder");"number"==typeof r&&(r=t.Pos(r,0));var c=n(e,o,"minFoldSize"),u=a(!0);if(n(e,o,"scanUp"))for(;!u&&r.line>e.firstLine();)r=t.Pos(r.line-1,0),u=a(!1);if(u&&!u.cleared&&"unfold"!==s){var h=i(e,o);t.on(h,"mousedown",function(e){p.clear(),t.e_preventDefault(e)});var p=e.markText(u.from,u.to,{replacedWith:h,clearOnEnter:n(e,o,"clearOnEnter"),__isFold:!0});p.on("clear",function(i,n){t.signal(e,"unfold",e,i,n)}),t.signal(e,"fold",e,u.from,u.to)}}function i(t,e){var i=n(t,e,"widget");if("string"==typeof i){var r=document.createTextNode(i);i=document.createElement("span"),i.appendChild(r),i.className="CodeMirror-foldmarker"}return i}function n(t,e,i){if(e&&void 0!==e[i])return e[i];var n=t.options.foldOptions;return n&&void 0!==n[i]?n[i]:r[i]}t.newFoldFunction=function(t,i){return function(n,r){e(n,r,{rangeFinder:t,widget:i})}},t.defineExtension("foldCode",function(t,i,n){e(this,t,i,n)}),t.defineExtension("isFolded",function(t){for(var e=this.findMarksAt(t),i=0;i<e.length;++i)if(e[i].__isFold)return!0}),t.commands.toggleFold=function(t){t.foldCode(t.getCursor())},t.commands.fold=function(t){t.foldCode(t.getCursor(),null,"fold")},t.commands.unfold=function(t){t.foldCode(t.getCursor(),null,"unfold")},t.commands.foldAll=function(e){e.operation(function(){for(var i=e.firstLine(),n=e.lastLine();i<=n;i++)e.foldCode(t.Pos(i,0),null,"fold")})},t.commands.unfoldAll=function(e){e.operation(function(){for(var i=e.firstLine(),n=e.lastLine();i<=n;i++)e.foldCode(t.Pos(i,0),null,"unfold")})},t.registerHelper("fold","combine",function(){var t=Array.prototype.slice.call(arguments,0);return function(e,i){for(var n=0;n<t.length;++n){var r=t[n](e,i);if(r)return r}}}),t.registerHelper("fold","auto",function(t,e){for(var i=t.getHelpers(e,"fold"),n=0;n<i.length;n++){var r=i[n](t,e);if(r)return r}});var r={rangeFinder:t.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};t.defineOption("foldOptions",null),t.defineExtension("foldOption",function(t,e){return n(this,t,e)})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],t):t(CodeMirror)}(function(t){"use strict";function e(t){this.options=t,this.from=this.to=0}function i(t){return t===!0&&(t={}),null==t.gutter&&(t.gutter="CodeMirror-foldgutter"),null==t.indicatorOpen&&(t.indicatorOpen="CodeMirror-foldgutter-open"),null==t.indicatorFolded&&(t.indicatorFolded="CodeMirror-foldgutter-folded"),t}function n(t,e){for(var i=t.findMarks(h(e,0),h(e+1,0)),n=0;n<i.length;++n)if(i[n].__isFold&&i[n].find().from.line==e)return i[n]}function r(t){if("string"==typeof t){var e=document.createElement("div");return e.className=t+" CodeMirror-guttermarker-subtle",e}return t.cloneNode(!0)}function o(t,e,i){var o=t.state.foldGutter.options,s=e,a=t.foldOption(o,"minFoldSize"),l=t.foldOption(o,"rangeFinder");t.eachLine(e,i,function(e){var i=null;if(n(t,s))i=r(o.indicatorFolded);else{var c=h(s,0),u=l&&l(t,c);u&&u.to.line-u.from.line>=a&&(i=r(o.indicatorOpen))}t.setGutterMarker(e,o.gutter,i),++s})}function s(t){var e=t.getViewport(),i=t.state.foldGutter;i&&(t.operation(function(){o(t,e.from,e.to)}),i.from=e.from,i.to=e.to)}function a(t,e,i){var r=t.state.foldGutter;if(r){var o=r.options;if(i==o.gutter){var s=n(t,e);s?s.clear():t.foldCode(h(e,0),o.rangeFinder)}}}function l(t){var e=t.state.foldGutter;if(e){var i=e.options;e.from=e.to=0,clearTimeout(e.changeUpdate),e.changeUpdate=setTimeout(function(){s(t)},i.foldOnChangeTimeSpan||600)}}function c(t){var e=t.state.foldGutter;if(e){var i=e.options;clearTimeout(e.changeUpdate),e.changeUpdate=setTimeout(function(){var i=t.getViewport();e.from==e.to||i.from-e.to>20||e.from-i.to>20?s(t):t.operation(function(){i.from<e.from&&(o(t,i.from,e.from),e.from=i.from),i.to>e.to&&(o(t,e.to,i.to),e.to=i.to)})},i.updateViewportTimeSpan||400)}}function u(t,e){var i=t.state.foldGutter;if(i){var n=e.line;n>=i.from&&n<i.to&&o(t,n,n+1)}}t.defineOption("foldGutter",!1,function(n,r,o){o&&o!=t.Init&&(n.clearGutter(n.state.foldGutter.options.gutter),n.state.foldGutter=null,n.off("gutterClick",a),n.off("change",l),n.off("viewportChange",c),n.off("fold",u),n.off("unfold",u),n.off("swapDoc",l)),r&&(n.state.foldGutter=new e(i(r)),s(n),n.on("gutterClick",a),n.on("change",l),n.on("viewportChange",c),n.on("fold",u),n.on("unfold",u),n.on("swapDoc",l))});var h=t.Pos}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.registerHelper("fold","brace",function(e,i){function n(n){for(var a=i.ch,l=0;;){var c=a<=0?-1:s.lastIndexOf(n,a-1);if(c!=-1){if(1==l&&c<i.ch)break;if(r=e.getTokenTypeAt(t.Pos(o,c+1)),!/^(comment|string)/.test(r))return c+1;a=c-1}else{if(1==l)break;l=1,a=s.length}}}var r,o=i.line,s=e.getLine(o),a="{",l="}",c=n("{");if(null==c&&(a="[",l="]",c=n("[")),null!=c){var u,h,p=1,f=e.lastLine();t:for(var d=o;d<=f;++d)for(var m=e.getLine(d),g=d==o?c:0;;){var v=m.indexOf(a,g),y=m.indexOf(l,g);if(v<0&&(v=m.length),y<0&&(y=m.length),g=Math.min(v,y),g==m.length)break;if(e.getTokenTypeAt(t.Pos(d,g+1))==r)if(g==v)++p;else if(!--p){u=d,h=g;break t}++g}if(null!=u&&(o!=u||h!=c))return{from:t.Pos(o,c),to:t.Pos(u,h)}}}),t.registerHelper("fold","import",function(e,i){function n(i){if(i<e.firstLine()||i>e.lastLine())return null;var n=e.getTokenAt(t.Pos(i,1));if(/\S/.test(n.string)||(n=e.getTokenAt(t.Pos(i,n.end+1))),"keyword"!=n.type||"import"!=n.string)return null;for(var r=i,o=Math.min(e.lastLine(),i+10);r<=o;++r){var s=e.getLine(r),a=s.indexOf(";");if(a!=-1)return{startCh:n.end,end:t.Pos(r,a)}}}var r,o=i.line,s=n(o);if(!s||n(o-1)||(r=n(o-2))&&r.end.line==o-1)return null;for(var a=s.end;;){var l=n(a.line+1);if(null==l)break;a=l.end}return{from:e.clipPos(t.Pos(o,s.startCh+1)),to:a}}),t.registerHelper("fold","include",function(e,i){function n(i){if(i<e.firstLine()||i>e.lastLine())return null;var n=e.getTokenAt(t.Pos(i,1));return/\S/.test(n.string)||(n=e.getTokenAt(t.Pos(i,n.end+1))),"meta"==n.type&&"#include"==n.string.slice(0,8)?n.start+8:void 0}var r=i.line,o=n(r);if(null==o||null!=n(r-1))return null;for(var s=r;;){var a=n(s+1);if(null==a)break;++s}return{from:t.Pos(r,o+1),to:e.clipPos(t.Pos(s))}})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.registerHelper("fold","markdown",function(e,i){function n(i){var n=e.getTokenTypeAt(t.Pos(i,0));return n&&/\bheader\b/.test(n)}function r(t,e,i){var r=e&&e.match(/^#+/);return r&&n(t)?r[0].length:(r=i&&i.match(/^[=\-]+\s*$/),r&&n(t+1)?"="==i[0]?1:2:o)}var o=100,s=e.getLine(i.line),a=e.getLine(i.line+1),l=r(i.line,s,a);if(l!==o){for(var c=e.lastLine(),u=i.line,h=e.getLine(u+2);u<c&&!(r(u+1,a,h)<=l);)++u,a=h,h=e.getLine(u+2);return{from:t.Pos(i.line,s.length),to:t.Pos(u,e.getLine(u).length)}}})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.registerGlobalHelper("fold","comment",function(t){return t.blockCommentStart&&t.blockCommentEnd},function(e,i){var n=e.getModeAt(i),r=n.blockCommentStart,o=n.blockCommentEnd;if(r&&o){for(var s,a=i.line,l=e.getLine(a),c=i.ch,u=0;;){var h=c<=0?-1:l.lastIndexOf(r,c-1);if(h!=-1){if(1==u&&h<i.ch)return;if(/comment/.test(e.getTokenTypeAt(t.Pos(a,h+1)))&&(0==h||l.slice(h-o.length,h)==o||!/comment/.test(e.getTokenTypeAt(t.Pos(a,h))))){s=h+r.length;break}c=h-1}else{if(1==u)return;u=1,c=l.length}}var p,f,d=1,m=e.lastLine();t:for(var g=a;g<=m;++g)for(var v=e.getLine(g),y=g==a?s:0;;){var b=v.indexOf(r,y),x=v.indexOf(o,y);if(b<0&&(b=v.length),x<0&&(x=v.length),y=Math.min(b,x),y==v.length)break;if(y==b)++d;else if(!--d){p=g,f=y;break t}++y}if(null!=p&&(a!=p||f!=s))return{from:t.Pos(a,s),to:t.Pos(p,f)}}})}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.acorn=t()}}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";var n=t("./tokentype"),r=t("./state"),o=t("./identifier"),s=t("./util"),a=r.Parser.prototype;a.checkPropClash=function(t,e){if(!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var i=t.key,n=void 0;switch(i.type){case"Identifier":n=i.name;break;case"Literal":n=String(i.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===n&&"init"===r&&(e.proto&&this.raise(i.start,"Redefinition of __proto__ property"),e.proto=!0));var o=void 0;if(s.has(e,n)){o=e[n];var a="init"!==r;(!this.strict&&!a||!o[r])&&a^o.init||this.raise(i.start,"Redefinition of property")}else o=e[n]={init:!1,get:!1,set:!1};o[r]=!0}},a.parseExpression=function(t,e){var i=this.start,r=this.startLoc,o=this.parseMaybeAssign(t,e);if(this.type===n.types.comma){var s=this.startNodeAt(i,r);for(s.expressions=[o];this.eat(n.types.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return o},a.parseMaybeAssign=function(t,e,i){if(this.type==n.types._yield&&this.inGenerator)return this.parseYield();var r=void 0;e?r=!1:(e={start:0},r=!0);var o=this.start,s=this.startLoc;this.type!=n.types.parenL&&this.type!=n.types.name||(this.potentialArrowAt=this.start);var a=this.parseMaybeConditional(t,e);if(i&&(a=i.call(this,a,o,s)),this.type.isAssign){var l=this.startNodeAt(o,s);return l.operator=this.value,l.left=this.type===n.types.eq?this.toAssignable(a):a,e.start=0,this.checkLVal(a),this.next(),l.right=this.parseMaybeAssign(t),this.finishNode(l,"AssignmentExpression")}return r&&e.start&&this.unexpected(e.start),a},a.parseMaybeConditional=function(t,e){var i=this.start,r=this.startLoc,o=this.parseExprOps(t,e);if(e&&e.start)return o;if(this.eat(n.types.question)){var s=this.startNodeAt(i,r);return s.test=o,s.consequent=this.parseMaybeAssign(),this.expect(n.types.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return o},a.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeUnary(e);return e&&e.start?r:this.parseExprOp(r,i,n,-1,t)},a.parseExprOp=function(t,e,i,r,o){var s=this.type.binop;if(null!=s&&(!o||this.type!==n.types._in)&&s>r){var a=this.startNodeAt(e,i);a.left=t,a.operator=this.value;var l=this.type;this.next();var c=this.start,u=this.startLoc;return a.right=this.parseExprOp(this.parseMaybeUnary(),c,u,s,o),this.finishNode(a,l===n.types.logicalOR||l===n.types.logicalAND?"LogicalExpression":"BinaryExpression"),this.parseExprOp(a,e,i,r,o)}return t},a.parseMaybeUnary=function(t){if(this.type.prefix){var e=this.startNode(),i=this.type===n.types.incDec;return e.operator=this.value,e.prefix=!0,this.next(),e.argument=this.parseMaybeUnary(),t&&t.start&&this.unexpected(t.start),i?this.checkLVal(e.argument):this.strict&&"delete"===e.operator&&"Identifier"===e.argument.type&&this.raise(e.start,"Deleting local variable in strict mode"),this.finishNode(e,i?"UpdateExpression":"UnaryExpression")}var r=this.start,o=this.startLoc,s=this.parseExprSubscripts(t);if(t&&t.start)return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var e=this.startNodeAt(r,o);e.operator=this.value,e.prefix=!1,e.argument=s,this.checkLVal(s),this.next(),s=this.finishNode(e,"UpdateExpression")}return s},a.parseExprSubscripts=function(t){var e=this.start,i=this.startLoc,n=this.parseExprAtom(t);return t&&t.start?n:this.parseSubscripts(n,e,i)},a.parseSubscripts=function(t,e,i,r){for(;;)if(this.eat(n.types.dot)){var o=this.startNodeAt(e,i);o.object=t,o.property=this.parseIdent(!0),o.computed=!1,t=this.finishNode(o,"MemberExpression")}else if(this.eat(n.types.bracketL)){var o=this.startNodeAt(e,i);o.object=t,o.property=this.parseExpression(),o.computed=!0,this.expect(n.types.bracketR),t=this.finishNode(o,"MemberExpression")}else if(!r&&this.eat(n.types.parenL)){var o=this.startNodeAt(e,i);o.callee=t,o.arguments=this.parseExprList(n.types.parenR,!1),t=this.finishNode(o,"CallExpression")}else{if(this.type!==n.types.backQuote)return t;var o=this.startNodeAt(e,i);o.tag=t,o.quasi=this.parseTemplate(),t=this.finishNode(o,"TaggedTemplateExpression")}},a.parseExprAtom=function(t){var e=void 0,i=this.potentialArrowAt==this.start;switch(this.type){case n.types._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case n.types._this:var r=this.type===n.types._this?"ThisExpression":"Super";return e=this.startNode(),this.next(),this.finishNode(e,r);case n.types._yield:this.inGenerator&&this.unexpected();case n.types.name:var o=this.start,s=this.startLoc,a=this.parseIdent(this.type!==n.types.name);return i&&!this.canInsertSemicolon()&&this.eat(n.types.arrow)?this.parseArrowExpression(this.startNodeAt(o,s),[a]):a;case n.types.regexp:var l=this.value;return e=this.parseLiteral(l.value),e.regex={pattern:l.pattern,flags:l.flags},e;case n.types.num:case n.types.string:return this.parseLiteral(this.value);case n.types._null:case n.types._true:case n.types._false:return e=this.startNode(),e.value=this.type===n.types._null?null:this.type===n.types._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case n.types.parenL:return this.parseParenAndDistinguishExpression(i);case n.types.bracketL:return e=this.startNode(),this.next(),this.options.ecmaVersion>=7&&this.type===n.types._for?this.parseComprehension(e,!1):(e.elements=this.parseExprList(n.types.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression"));case n.types.braceL:return this.parseObj(!1,t);case n.types._function:return e=this.startNode(),this.next(),this.parseFunction(e,!1);case n.types._class:return this.parseClass(this.startNode(),!1);case n.types._new:return this.parseNew();case n.types.backQuote:return this.parseTemplate();default:this.unexpected()}},a.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(e,"Literal")},a.parseParenExpression=function(){this.expect(n.types.parenL);var t=this.parseExpression();return this.expect(n.types.parenR),t},a.parseParenAndDistinguishExpression=function(t){var e=this.start,i=this.startLoc,r=void 0;if(this.options.ecmaVersion>=6){if(this.next(),this.options.ecmaVersion>=7&&this.type===n.types._for)return this.parseComprehension(this.startNodeAt(e,i),!0);for(var o=this.start,s=this.startLoc,a=[],l=!0,c={start:0},u=void 0,h=void 0;this.type!==n.types.parenR;){if(l?l=!1:this.expect(n.types.comma),this.type===n.types.ellipsis){u=this.start,a.push(this.parseParenItem(this.parseRest()));break}this.type!==n.types.parenL||h||(h=this.start),a.push(this.parseMaybeAssign(!1,c,this.parseParenItem))}var p=this.start,f=this.startLoc;if(this.expect(n.types.parenR),t&&!this.canInsertSemicolon()&&this.eat(n.types.arrow))return h&&this.unexpected(h),this.parseParenArrowList(e,i,a);a.length||this.unexpected(this.lastTokStart),u&&this.unexpected(u),c.start&&this.unexpected(c.start),a.length>1?(r=this.startNodeAt(o,s),r.expressions=a,this.finishNodeAt(r,"SequenceExpression",p,f)):r=a[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var d=this.startNodeAt(e,i);return d.expression=r,this.finishNode(d,"ParenthesizedExpression")}return r},a.parseParenItem=function(t){return t},a.parseParenArrowList=function(t,e,i){return this.parseArrowExpression(this.startNodeAt(t,e),i)};var l=[];a.parseNew=function(){var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(n.types.dot))return t.meta=e,t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raise(t.property.start,"The only valid meta property for new is new.target"),this.finishNode(t,"MetaProperty");var i=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(),i,r,!0),this.eat(n.types.parenL)?t.arguments=this.parseExprList(n.types.parenR,!1):t.arguments=l,this.finishNode(t,"NewExpression")},a.parseTemplateElement=function(){var t=this.startNode();return t.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),t.tail=this.type===n.types.backQuote,this.finishNode(t,"TemplateElement")},a.parseTemplate=function(){var t=this.startNode();this.next(),t.expressions=[];var e=this.parseTemplateElement();for(t.quasis=[e];!e.tail;)this.expect(n.types.dollarBraceL),t.expressions.push(this.parseExpression()),this.expect(n.types.braceR),t.quasis.push(e=this.parseTemplateElement());return this.next(),this.finishNode(t,"TemplateLiteral")},a.parseObj=function(t,e){var i=this.startNode(),r=!0,o={};for(i.properties=[],this.next();!this.eat(n.types.braceR);){if(r)r=!1;else if(this.expect(n.types.comma),this.afterTrailingComma(n.types.braceR))break;var s=this.startNode(),a=void 0,l=void 0,c=void 0;this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(t||e)&&(l=this.start,c=this.startLoc),t||(a=this.eat(n.types.star))),this.parsePropertyName(s),this.parsePropertyValue(s,t,a,l,c,e),this.checkPropClash(s,o),i.properties.push(this.finishNode(s,"Property"))}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},a.parsePropertyValue=function(t,e,i,r,s,a){if(this.eat(n.types.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===n.types.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i);else if(this.options.ecmaVersion>=5&&!t.computed&&"Identifier"===t.key.type&&("get"===t.key.name||"set"===t.key.name)&&this.type!=n.types.comma&&this.type!=n.types.braceR){(i||e)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var l="get"===t.kind?0:1;if(t.value.params.length!==l){var c=t.value.start;"get"===t.kind?this.raise(c,"getter should have no params"):this.raise(c,"setter should have exactly one param")}}else this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?(t.kind="init",e?((this.isKeyword(t.key.name)||this.strict&&(o.reservedWords.strictBind(t.key.name)||o.reservedWords.strict(t.key.name))||!this.options.allowReserved&&this.isReservedWord(t.key.name))&&this.raise(t.key.start,"Binding "+t.key.name),t.value=this.parseMaybeDefault(r,s,t.key)):this.type===n.types.eq&&a?(a.start||(a.start=this.start),t.value=this.parseMaybeDefault(r,s,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected()},a.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(n.types.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(n.types.bracketR),t.key;t.computed=!1}return t.key=this.type===n.types.num||this.type===n.types.string?this.parseExprAtom():this.parseIdent(!0)},a.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1)},a.parseMethod=function(t){var e=this.startNode();this.initFunction(e),this.expect(n.types.parenL),e.params=this.parseBindingList(n.types.parenR,!1,!1);return this.options.ecmaVersion>=6&&(e.generator=t),this.parseFunctionBody(e,!1),this.finishNode(e,"FunctionExpression")},a.parseArrowExpression=function(t,e){return this.initFunction(t),t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0),this.finishNode(t,"ArrowFunctionExpression")},a.parseFunctionBody=function(t,e){var i=e&&this.type!==n.types.braceL;if(i)t.body=this.parseMaybeAssign(),t.expression=!0;else{var r=this.inFunction,o=this.inGenerator,s=this.labels;this.inFunction=!0,this.inGenerator=t.generator,this.labels=[],t.body=this.parseBlock(!0),t.expression=!1,this.inFunction=r,this.inGenerator=o,this.labels=s}if(this.strict||!i&&t.body.body.length&&this.isUseStrict(t.body.body[0])){var a={},l=this.strict;this.strict=!0,t.id&&this.checkLVal(t.id,!0);for(var c=0;c<t.params.length;c++)this.checkLVal(t.params[c],!0,a);this.strict=l}},a.parseExprList=function(t,e,i,r){for(var o=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(n.types.comma),e&&this.afterTrailingComma(t))break;var a=void 0;a=i&&this.type===n.types.comma?null:this.type===n.types.ellipsis?this.parseSpread(r):this.parseMaybeAssign(!1,r),o.push(a)}return o},a.parseIdent=function(t){var e=this.startNode();return t&&"never"==this.options.allowReserved&&(t=!1),this.type===n.types.name?(!t&&(!this.options.allowReserved&&this.isReservedWord(this.value)||this.strict&&o.reservedWords.strict(this.value)&&(this.options.ecmaVersion>=6||this.input.slice(this.start,this.end).indexOf("\\")==-1))&&this.raise(this.start,"The keyword '"+this.value+"' is reserved"),e.name=this.value):t&&this.type.keyword?e.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(e,"Identifier")},a.parseYield=function(){var t=this.startNode();return this.next(),this.type==n.types.semi||this.canInsertSemicolon()||this.type!=n.types.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(n.types.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression")},a.parseComprehension=function(t,e){for(t.blocks=[];this.type===n.types._for;){var i=this.startNode();this.next(),this.expect(n.types.parenL),i.left=this.parseBindingAtom(),this.checkLVal(i.left,!0),this.expectContextual("of"),i.right=this.parseExpression(),this.expect(n.types.parenR),t.blocks.push(this.finishNode(i,"ComprehensionBlock"))}return t.filter=this.eat(n.types._if)?this.parseParenExpression():null,t.body=this.parseExpression(),this.expect(e?n.types.parenR:n.types.bracketR),t.generator=e,this.finishNode(t,"ComprehensionExpression")}},{"./identifier":2,"./state":10,"./tokentype":14,"./util":15}],2:[function(t,e,i){"use strict";function n(t){function e(t){if(1==t.length)return i+="return str === "+JSON.stringify(t[0])+";";i+="switch(str){";for(var e=0;e<t.length;++e)i+="case "+JSON.stringify(t[e])+":";i+="return true}return false;"}t=t.split(" ");var i="",n=[];t:for(var r=0;r<t.length;++r){for(var o=0;o<n.length;++o)if(n[o][0].length==t[r].length){n[o].push(t[r]);continue t}n.push([t[r]])}if(n.length>3){n.sort(function(t,e){return e.length-t.length}),i+="switch(str.length){";for(var r=0;r<n.length;++r){var s=n[r];i+="case "+s[0].length+":",e(s)}i+="}"}else e(t);return new Function("str",i)}function r(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(i+=e[n],i>t)return!1;if(i+=e[n+1],i>=t)return!0}}function o(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&p.test(String.fromCharCode(t)):e!==!1&&r(t,d)))}function s(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&f.test(String.fromCharCode(t)):e!==!1&&(r(t,d)||r(t,m)))))}i.__esModule=!0,i.isIdentifierStart=o,i.isIdentifierChar=s;var a={3:n("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),5:n("class enum extends super const export import"),6:n("enum await"),strict:n("implements interface let package private protected public static yield"),strictBind:n("eval arguments")};i.reservedWords=a;var l="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",c={5:n(l),6:n(l+" let const class extends export import yield super")};i.keywords=c;var u="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",h="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏ᦰ-ᧀᧈᧉ᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︭︳︴﹍-﹏０-９＿",p=new RegExp("["+u+"]"),f=new RegExp("["+u+h+"]");u=h=null;var d=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,99,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,98,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,955,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,38,17,2,24,133,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,32,4,287,47,21,1,2,0,185,46,82,47,21,0,60,42,502,63,32,0,449,56,1288,920,104,110,2962,1070,13266,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,16481,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,1340,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,16355,541],m=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,16,9,83,11,168,11,6,9,8,2,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,316,19,13,9,214,6,3,8,112,16,16,9,82,12,9,9,535,9,20855,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,4305,6,792618,239]},{}],3:[function(t,e,i){"use strict";function n(t,e){return new s.Parser(e,t).parse()}function r(t,e,i){var n=new s.Parser(i,t,e);return n.nextToken(),n.parseExpression()}function o(t,e){return new s.Parser(e,t)}i.__esModule=!0,i.parse=n,i.parseExpressionAt=r,i.tokenizer=o;var s=t("./state"),a=t("./options");t("./parseutil"),t("./statement"),t("./lval"),t("./expression"),t("./location"),i.Parser=s.Parser,i.plugins=s.plugins,i.defaultOptions=a.defaultOptions;var l=t("./locutil");i.Position=l.Position,i.SourceLocation=l.SourceLocation,i.getLineInfo=l.getLineInfo;var c=t("./node");i.Node=c.Node;var u=t("./tokentype");i.TokenType=u.TokenType,i.tokTypes=u.types;var h=t("./tokencontext");i.TokContext=h.TokContext,i.tokContexts=h.types;var p=t("./identifier");i.isIdentifierChar=p.isIdentifierChar,i.isIdentifierStart=p.isIdentifierStart;var f=t("./tokenize");i.Token=f.Token;var d=t("./whitespace");i.isNewLine=d.isNewLine,i.lineBreak=d.lineBreak,i.lineBreakG=d.lineBreakG;var m="2.4.0";i.version=m},{"./expression":1,"./identifier":2,"./location":4,"./locutil":5,"./lval":6,"./node":7,"./options":8,"./parseutil":9,"./state":10,"./statement":11,"./tokencontext":12,"./tokenize":13,"./tokentype":14,"./whitespace":16}],4:[function(t,e,i){"use strict";var n=t("./state"),r=t("./locutil"),o=n.Parser.prototype;o.raise=function(t,e){var i=r.getLineInfo(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n},o.curPosition=function(){if(this.options.locations)return new r.Position(this.curLine,this.pos-this.lineStart);
}},{"./locutil":5,"./state":10}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=1,n=0;;){o.lineBreakG.lastIndex=n;var r=o.lineBreakG.exec(t);if(!(r&&r.index<e))return new s(i,e-n);++i,n=r.index+r[0].length}}i.__esModule=!0,i.getLineInfo=r;var o=t("./whitespace"),s=function(){function t(e,i){n(this,t),this.line=e,this.column=i}return t.prototype.offset=function(e){return new t(this.line,this.column+e)},t}();i.Position=s;var a=function l(t,e,i){n(this,l),this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)};i.SourceLocation=a},{"./whitespace":16}],6:[function(t,e,i){"use strict";var n=t("./tokentype"),r=t("./state"),o=t("./identifier"),s=t("./util"),a=r.Parser.prototype;a.toAssignable=function(t,e){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":break;case"ObjectExpression":t.type="ObjectPattern";for(var i=0;i<t.properties.length;i++){var n=t.properties[i];"init"!==n.kind&&this.raise(n.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(n.value,e)}break;case"ArrayExpression":t.type="ArrayPattern",this.toAssignableList(t.elements,e);break;case"AssignmentExpression":"="===t.operator?(t.type="AssignmentPattern",delete t.operator):this.raise(t.left.end,"Only '=' operator can be used for specifying default value.");break;case"ParenthesizedExpression":t.expression=this.toAssignable(t.expression,e);break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}return t},a.toAssignableList=function(t,e){var i=t.length;if(i){var n=t[i-1];if(n&&"RestElement"==n.type)--i;else if(n&&"SpreadElement"==n.type){n.type="RestElement";var r=n.argument;this.toAssignable(r,e),"Identifier"!==r.type&&"MemberExpression"!==r.type&&"ArrayPattern"!==r.type&&this.unexpected(r.start),--i}}for(var o=0;o<i;o++){var s=t[o];s&&this.toAssignable(s,e)}return t},a.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(t),this.finishNode(e,"SpreadElement")},a.parseRest=function(){var t=this.startNode();return this.next(),t.argument=this.type===n.types.name||this.type===n.types.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(t,"RestElement")},a.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case n.types.name:return this.parseIdent();case n.types.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(n.types.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case n.types.braceL:return this.parseObj(!0);default:this.unexpected()}},a.parseBindingList=function(t,e,i){for(var r=[],o=!0;!this.eat(t);)if(o?o=!1:this.expect(n.types.comma),e&&this.type===n.types.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===n.types.ellipsis){var s=this.parseRest();this.parseBindingListItem(s),r.push(s),this.expect(t);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),r.push(a)}return r},a.parseBindingListItem=function(t){return t},a.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(n.types.eq))return i;var r=this.startNodeAt(t,e);return r.left=i,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},a.checkLVal=function(t,e,i){switch(t.type){case"Identifier":this.strict&&(o.reservedWords.strictBind(t.name)||o.reservedWords.strict(t.name))&&this.raise(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),i&&(s.has(i,t.name)&&this.raise(t.start,"Argument name clash in strict mode"),i[t.name]=!0);break;case"MemberExpression":e&&this.raise(t.start,(e?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var n=0;n<t.properties.length;n++)this.checkLVal(t.properties[n].value,e,i);break;case"ArrayPattern":for(var n=0;n<t.elements.length;n++){var r=t.elements[n];r&&this.checkLVal(r,e,i)}break;case"AssignmentPattern":this.checkLVal(t.left,e,i);break;case"RestElement":this.checkLVal(t.argument,e,i);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,i);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}}},{"./identifier":2,"./state":10,"./tokentype":14,"./util":15}],7:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}i.__esModule=!0;var o=t("./state"),s=t("./locutil"),a=function c(t,e,i){n(this,c),this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new s.SourceLocation(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])};i.Node=a;var l=o.Parser.prototype;l.startNode=function(){return new a(this,this.start,this.startLoc)},l.startNodeAt=function(t,e){return new a(this,t,e)},l.finishNode=function(t,e){return r.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},l.finishNodeAt=function(t,e,i,n){return r.call(this,t,e,i,n)}},{"./locutil":5,"./state":10}],8:[function(t,e,i){"use strict";function n(t){var e={};for(var i in a)e[i]=t&&o.has(t,i)?t[i]:a[i];return o.isArray(e.onToken)&&!function(){var t=e.onToken;e.onToken=function(e){return t.push(e)}}(),o.isArray(e.onComment)&&(e.onComment=r(e,e.onComment)),e}function r(t,e){return function(i,n,r,o,a,l){var c={type:i?"Block":"Line",value:n,start:r,end:o};t.locations&&(c.loc=new s.SourceLocation(this,a,l)),t.ranges&&(c.range=[r,o]),e.push(c)}}i.__esModule=!0,i.getOptions=n;var o=t("./util"),s=t("./locutil"),a={ecmaVersion:5,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:!0,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};i.defaultOptions=a},{"./locutil":5,"./util":15}],9:[function(t,e,i){"use strict";var n=t("./tokentype"),r=t("./state"),o=t("./whitespace"),s=r.Parser.prototype;s.isUseStrict=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.raw.slice(1,-1)},s.eat=function(t){return this.type===t&&(this.next(),!0)},s.isContextual=function(t){return this.type===n.types.name&&this.value===t},s.eatContextual=function(t){return this.value===t&&this.eat(n.types.name)},s.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},s.canInsertSemicolon=function(){return this.type===n.types.eof||this.type===n.types.braceR||o.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},s.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},s.semicolon=function(){this.eat(n.types.semi)||this.insertSemicolon()||this.unexpected()},s.afterTrailingComma=function(t){if(this.type==t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),this.next(),!0},s.expect=function(t){this.eat(t)||this.unexpected()},s.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")}},{"./state":10,"./tokentype":14,"./whitespace":16}],10:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var r=t("./identifier"),o=t("./tokentype"),s=t("./whitespace"),a=t("./options"),l={};i.plugins=l;var c=function(){function t(e,i,l){n(this,t),this.options=a.getOptions(e),this.sourceFile=this.options.sourceFile,this.isKeyword=r.keywords[this.options.ecmaVersion>=6?6:5],this.isReservedWord=r.reservedWords[this.options.ecmaVersion],this.input=String(i),this.containsEsc=!1,this.loadPlugins(this.options.plugins),l?(this.pos=l,this.lineStart=Math.max(0,this.input.lastIndexOf("\n",l)),this.curLine=this.input.slice(0,this.lineStart).split(s.lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=o.types.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.strict=this.inModule="module"===this.options.sourceType,this.potentialArrowAt=-1,this.inFunction=this.inGenerator=!1,this.labels=[],0===this.pos&&this.options.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)}return t.prototype.extend=function(t,e){this[t]=e(this[t])},t.prototype.loadPlugins=function(t){for(var e in t){var i=l[e];if(!i)throw new Error("Plugin '"+e+"' not found");i(this,t[e])}},t.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},t}();i.Parser=c},{"./identifier":2,"./options":8,"./tokentype":14,"./whitespace":16}],11:[function(t,e,i){"use strict";var n=t("./tokentype"),r=t("./state"),o=t("./whitespace"),s=r.Parser.prototype;s.parseTopLevel=function(t){var e=!0;for(t.body||(t.body=[]);this.type!==n.types.eof;){var i=this.parseStatement(!0,!0);t.body.push(i),e&&(this.isUseStrict(i)&&this.setStrict(!0),e=!1)}return this.next(),this.options.ecmaVersion>=6&&(t.sourceType=this.options.sourceType),this.finishNode(t,"Program")};var a={kind:"loop"},l={kind:"switch"};s.parseStatement=function(t,e){var i=this.type,r=this.startNode();switch(i){case n.types._break:case n.types._continue:return this.parseBreakContinueStatement(r,i.keyword);case n.types._debugger:return this.parseDebuggerStatement(r);case n.types._do:return this.parseDoStatement(r);case n.types._for:return this.parseForStatement(r);case n.types._function:return!t&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r);case n.types._class:return t||this.unexpected(),this.parseClass(r,!0);case n.types._if:return this.parseIfStatement(r);case n.types._return:return this.parseReturnStatement(r);case n.types._switch:return this.parseSwitchStatement(r);case n.types._throw:return this.parseThrowStatement(r);case n.types._try:return this.parseTryStatement(r);case n.types._let:case n.types._const:t||this.unexpected();case n.types._var:return this.parseVarStatement(r,i);case n.types._while:return this.parseWhileStatement(r);case n.types._with:return this.parseWithStatement(r);case n.types.braceL:return this.parseBlock();case n.types.semi:return this.parseEmptyStatement(r);case n.types._export:case n.types._import:return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===n.types._import?this.parseImport(r):this.parseExport(r);default:var o=this.value,s=this.parseExpression();return i===n.types.name&&"Identifier"===s.type&&this.eat(n.types.colon)?this.parseLabeledStatement(r,o,s):this.parseExpressionStatement(r,s)}},s.parseBreakContinueStatement=function(t,e){var i="break"==e;this.next(),this.eat(n.types.semi)||this.insertSemicolon()?t.label=null:this.type!==n.types.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var o=this.labels[r];if(null==t.label||o.name===t.label.name){if(null!=o.kind&&(i||"loop"===o.kind))break;if(t.label&&i)break}}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},s.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},s.parseDoStatement=function(t){return this.next(),this.labels.push(a),t.body=this.parseStatement(!1),this.labels.pop(),this.expect(n.types._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(n.types.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},s.parseForStatement=function(t){if(this.next(),this.labels.push(a),this.expect(n.types.parenL),this.type===n.types.semi)return this.parseFor(t,null);if(this.type===n.types._var||this.type===n.types._let||this.type===n.types._const){var e=this.startNode(),i=this.type;return this.next(),this.parseVar(e,!0,i),this.finishNode(e,"VariableDeclaration"),!(this.type===n.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==e.declarations.length||i!==n.types._var&&e.declarations[0].init?this.parseFor(t,e):this.parseForIn(t,e)}var r={start:0},o=this.parseExpression(!0,r);return this.type===n.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.toAssignable(o),this.checkLVal(o),this.parseForIn(t,o)):(r.start&&this.unexpected(r.start),this.parseFor(t,o))},s.parseFunctionStatement=function(t){return this.next(),this.parseFunction(t,!0)},s.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement(!1),t.alternate=this.eat(n.types._else)?this.parseStatement(!1):null,this.finishNode(t,"IfStatement")},s.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(n.types.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},s.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(n.types.braceL),this.labels.push(l);for(var e,i=!1;this.type!=n.types.braceR;)if(this.type===n.types._case||this.type===n.types._default){var r=this.type===n.types._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(i&&this.raise(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(n.types.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(!0));return e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},s.parseThrowStatement=function(t){return this.next(),o.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var c=[];s.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===n.types._catch){var e=this.startNode();this.next(),this.expect(n.types.parenL),e.param=this.parseBindingAtom(),this.checkLVal(e.param,!0),this.expect(n.types.parenR),e.guard=null,e.body=this.parseBlock(),t.handler=this.finishNode(e,"CatchClause")}return t.guardedHandlers=c,t.finalizer=this.eat(n.types._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},s.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},s.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(a),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"WhileStatement")},s.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement(!1),this.finishNode(t,"WithStatement")},s.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},s.parseLabeledStatement=function(t,e,i){for(var r=0;r<this.labels.length;++r)this.labels[r].name===e&&this.raise(i.start,"Label '"+e+"' is already declared");for(var o=this.type.isLoop?"loop":this.type===n.types._switch?"switch":null,r=this.labels.length-1;r>=0;r--){var s=this.labels[r];if(s.statementStart!=t.start)break;s.statementStart=this.start,s.kind=o}return this.labels.push({name:e,kind:o,statementStart:this.start}),t.body=this.parseStatement(!0),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},s.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},s.parseBlock=function(t){var e=this.startNode(),i=!0,r=void 0;for(e.body=[],this.expect(n.types.braceL);!this.eat(n.types.braceR);){var o=this.parseStatement(!0);e.body.push(o),i&&t&&this.isUseStrict(o)&&(r=this.strict,this.setStrict(this.strict=!0)),i=!1}return r===!1&&this.setStrict(!1),this.finishNode(e,"BlockStatement")},s.parseFor=function(t,e){return t.init=e,this.expect(n.types.semi),t.test=this.type===n.types.semi?null:this.parseExpression(),this.expect(n.types.semi),t.update=this.type===n.types.parenR?null:this.parseExpression(),this.expect(n.types.parenR),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"ForStatement")},s.parseForIn=function(t,e){var i=this.type===n.types._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.expect(n.types.parenR),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,i)},s.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i.keyword;;){var r=this.startNode();if(this.parseVarId(r),this.eat(n.types.eq)?r.init=this.parseMaybeAssign(e):i!==n.types._const||this.type===n.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"==r.id.type||e&&(this.type===n.types._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(n.types.comma))break}return t},s.parseVarId=function(t){t.id=this.parseBindingAtom(),this.checkLVal(t.id,!0)},s.parseFunction=function(t,e,i){return this.initFunction(t),this.options.ecmaVersion>=6&&(t.generator=this.eat(n.types.star)),(e||this.type===n.types.name)&&(t.id=this.parseIdent()),this.parseFunctionParams(t),this.parseFunctionBody(t,i),this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")},s.parseFunctionParams=function(t){this.expect(n.types.parenL),t.params=this.parseBindingList(n.types.parenR,!1,!1)},s.parseClass=function(t,e){this.next(),this.parseClassId(t,e),this.parseClassSuper(t);var i=this.startNode(),r=!1;for(i.body=[],this.expect(n.types.braceL);!this.eat(n.types.braceR);)if(!this.eat(n.types.semi)){var o=this.startNode(),s=this.eat(n.types.star),a=this.type===n.types.name&&"static"===this.value;this.parsePropertyName(o),o["static"]=a&&this.type!==n.types.parenL,o["static"]&&(s&&this.unexpected(),s=this.eat(n.types.star),this.parsePropertyName(o)),o.kind="method";var l=!1;if(!o.computed){var c=o.key;s||"Identifier"!==c.type||this.type===n.types.parenL||"get"!==c.name&&"set"!==c.name||(l=!0,o.kind=c.name,c=this.parsePropertyName(o)),!o["static"]&&("Identifier"===c.type&&"constructor"===c.name||"Literal"===c.type&&"constructor"===c.value)&&(r&&this.raise(c.start,"Duplicate constructor in the same class"),l&&this.raise(c.start,"Constructor can't have get/set modifier"),s&&this.raise(c.start,"Constructor can't be a generator"),o.kind="constructor",r=!0)}if(this.parseClassMethod(i,o,s),l){var u="get"===o.kind?0:1;if(o.value.params.length!==u){var h=o.value.start;"get"===o.kind?this.raise(h,"getter should have no params"):this.raise(h,"setter should have exactly one param")}}}return t.body=this.finishNode(i,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},s.parseClassMethod=function(t,e,i){e.value=this.parseMethod(i),t.body.push(this.finishNode(e,"MethodDefinition"))},s.parseClassId=function(t,e){t.id=this.type===n.types.name?this.parseIdent():e?this.unexpected():null},s.parseClassSuper=function(t){t.superClass=this.eat(n.types._extends)?this.parseExprSubscripts():null},s.parseExport=function(t){if(this.next(),this.eat(n.types.star))return this.expectContextual("from"),t.source=this.type===n.types.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(n.types._default)){var e=this.parseMaybeAssign(),i=!0;return"FunctionExpression"!=e.type&&"ClassExpression"!=e.type||(i=!1,e.id&&(e.type="FunctionExpression"==e.type?"FunctionDeclaration":"ClassDeclaration")),t.declaration=e,i&&this.semicolon(),this.finishNode(t,"ExportDefaultDeclaration")}return this.shouldParseExportStatement()?(t.declaration=this.parseStatement(!0),t.specifiers=[],t.source=null):(t.declaration=null,t.specifiers=this.parseExportSpecifiers(),this.eatContextual("from")?t.source=this.type===n.types.string?this.parseExprAtom():this.unexpected():t.source=null,this.semicolon()),this.finishNode(t,"ExportNamedDeclaration")},s.shouldParseExportStatement=function(){return this.type.keyword},s.parseExportSpecifiers=function(){var t=[],e=!0;for(this.expect(n.types.braceL);!this.eat(n.types.braceR);){if(e)e=!1;else if(this.expect(n.types.comma),this.afterTrailingComma(n.types.braceR))break;var i=this.startNode();i.local=this.parseIdent(this.type===n.types._default),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,t.push(this.finishNode(i,"ExportSpecifier"))}return t},s.parseImport=function(t){return this.next(),this.type===n.types.string?(t.specifiers=c,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===n.types.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},s.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===n.types.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLVal(i.local,!0),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(n.types.comma))return t}if(this.type===n.types.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,!0),t.push(this.finishNode(i,"ImportNamespaceSpecifier")),t}for(this.expect(n.types.braceL);!this.eat(n.types.braceR);){if(e)e=!1;else if(this.expect(n.types.comma),this.afterTrailingComma(n.types.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),i.local=this.eatContextual("as")?this.parseIdent():i.imported,this.checkLVal(i.local,!0),t.push(this.finishNode(i,"ImportSpecifier"))}return t}},{"./state":10,"./tokentype":14,"./whitespace":16}],12:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var r=t("./state"),o=t("./tokentype"),s=t("./whitespace"),a=function u(t,e,i,r){n(this,u),this.token=t,this.isExpr=!!e,this.preserveSpace=!!i,this.override=r};i.TokContext=a;var l={b_stat:new a("{",(!1)),b_expr:new a("{",(!0)),b_tmpl:new a("${",(!0)),p_stat:new a("(",(!1)),p_expr:new a("(",(!0)),q_tmpl:new a("`",(!0),(!0),function(t){return t.readTmplToken()}),f_expr:new a("function",(!0))};i.types=l;var c=r.Parser.prototype;c.initialContext=function(){return[l.b_stat]},c.braceIsBlock=function(t){if(t===o.types.colon){var e=this.curContext();if(e===l.b_stat||e===l.b_expr)return!e.isExpr}return t===o.types._return?s.lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):t===o.types._else||t===o.types.semi||t===o.types.eof||t===o.types.parenR||(t==o.types.braceL?this.curContext()===l.b_stat:!this.exprAllowed)},c.updateContext=function(t){var e=void 0,i=this.type;i.keyword&&t==o.types.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},o.types.parenR.updateContext=o.types.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var t=this.context.pop();t===l.b_stat&&this.curContext()===l.f_expr?(this.context.pop(),this.exprAllowed=!1):t===l.b_tmpl?this.exprAllowed=!0:this.exprAllowed=!t.isExpr},o.types.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?l.b_stat:l.b_expr),this.exprAllowed=!0},o.types.dollarBraceL.updateContext=function(){this.context.push(l.b_tmpl),this.exprAllowed=!0},o.types.parenL.updateContext=function(t){var e=t===o.types._if||t===o.types._for||t===o.types._with||t===o.types._while;this.context.push(e?l.p_stat:l.p_expr),this.exprAllowed=!0},o.types.incDec.updateContext=function(){},o.types._function.updateContext=function(){this.curContext()!==l.b_stat&&this.context.push(l.f_expr),this.exprAllowed=!1},o.types.backQuote.updateContext=function(){this.curContext()===l.q_tmpl?this.context.pop():this.context.push(l.q_tmpl),this.exprAllowed=!1}},{"./state":10,"./tokentype":14,"./whitespace":16}],13:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,i){try{return new RegExp(t,e)}catch(n){void 0!==i&&(n instanceof SyntaxError&&this.raise(i,"Error parsing regular expression: "+n.message),this.raise(n))}}function o(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(1023&t)+56320))}i.__esModule=!0;var s=t("./identifier"),a=t("./tokentype"),l=t("./state"),c=t("./locutil"),u=t("./whitespace"),h=function m(t){n(this,m),this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new c.SourceLocation(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])};i.Token=h;var p=l.Parser.prototype,f="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);p.next=function(){this.options.onToken&&this.options.onToken(new h(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},p.getToken=function(){return this.next(),new h(this)},"undefined"!=typeof Symbol&&(p[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===a.types.eof,value:e}}}}),p.setStrict=function(t){if(this.strict=t,this.type===a.types.num||this.type===a.types.string){if(this.pos=this.start,this.options.locations)for(;this.pos<this.lineStart;)this.lineStart=this.input.lastIndexOf("\n",this.lineStart-2)+1,--this.curLine;this.nextToken()}},p.curContext=function(){return this.context[this.context.length-1]},p.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(a.types.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},p.readToken=function(t){return s.isIdentifierStart(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},p.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=57344)return t;var e=this.input.charCodeAt(this.pos+1);return(t<<10)+e-56613888},p.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations){u.lineBreakG.lastIndex=e;for(var n=void 0;(n=u.lineBreakG.exec(this.input))&&n.index<this.pos;)++this.curLine,this.lineStart=n.index+n[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())},p.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&10!==n&&13!==n&&8232!==n&&8233!==n;)++this.pos,n=this.input.charCodeAt(this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())},p.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&u.nonASCIIwhitespace.test(String.fromCharCode(t))))break t;++this.pos}}},p.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},p.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(a.types.ellipsis)):(++this.pos,this.finishToken(a.types.dot))},p.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(a.types.assign,2):this.finishOp(a.types.slash,1)},p.readToken_mult_modulo=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(a.types.assign,2):this.finishOp(42===t?a.types.star:a.types.modulo,1)},p.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.finishOp(124===t?a.types.logicalOR:a.types.logicalAND,2):61===e?this.finishOp(a.types.assign,2):this.finishOp(124===t?a.types.bitwiseOR:a.types.bitwiseAND,1)},p.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(a.types.assign,2):this.finishOp(a.types.bitwiseXOR,1)},p.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45==e&&62==this.input.charCodeAt(this.pos+2)&&u.lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(a.types.incDec,2):61===e?this.finishOp(a.types.assign,2):this.finishOp(a.types.plusMin,1)},p.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(a.types.assign,i+1):this.finishOp(a.types.bitShift,i)):33==e&&60==t&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===e&&(i=61===this.input.charCodeAt(this.pos+2)?3:2),this.finishOp(a.types.relational,i))},p.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(a.types.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(a.types.arrow)):this.finishOp(61===t?a.types.eq:a.types.prefix,1)},p.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(a.types.parenL);case 41:return++this.pos,this.finishToken(a.types.parenR);case 59:return++this.pos,this.finishToken(a.types.semi);case 44:return++this.pos,this.finishToken(a.types.comma);case 91:return++this.pos,this.finishToken(a.types.bracketL);case 93:return++this.pos,this.finishToken(a.types.bracketR);case 123:return++this.pos,this.finishToken(a.types.braceL);case 125:return++this.pos,this.finishToken(a.types.braceR);case 58:return++this.pos,this.finishToken(a.types.colon);case 63:return++this.pos,this.finishToken(a.types.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(a.types.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:
case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 126:return this.finishOp(a.types.prefix,1)}this.raise(this.pos,"Unexpected character '"+o(t)+"'")},p.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};var d=!!r("￿","u");p.readRegexp=function(){for(var t=this,e=void 0,i=void 0,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(u.lineBreak.test(o)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===o)i=!0;else if("]"===o&&i)i=!1;else if("/"===o&&!i)break;e="\\"===o}++this.pos}var s=this.input.slice(n,this.pos);++this.pos;var l=this.readWord1(),c=s;if(l){var h=/^[gmsiy]*$/;this.options.ecmaVersion>=6&&(h=/^[gmsiyu]*$/),h.test(l)||this.raise(n,"Invalid regular expression flag"),l.indexOf("u")>=0&&!d&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,i,r){return i=Number("0x"+i),i>1114111&&t.raise(n+r+3,"Code point out of bounds"),"x"}),c=c.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"))}var p=null;return f||(r(c,void 0,n),p=r(s,l)),this.finishToken(a.types.regexp,{pattern:s,flags:l,value:p})},p.readInt=function(t,e){for(var i=this.pos,n=0,r=0,o=null==e?1/0:e;r<o;++r){var s=this.input.charCodeAt(this.pos),a=void 0;if(a=s>=97?s-97+10:s>=65?s-65+10:s>=48&&s<=57?s-48:1/0,a>=t)break;++this.pos,n=n*t+a}return this.pos===i||null!=e&&this.pos-i!==e?null:n},p.readRadixNumber=function(t){this.pos+=2;var e=this.readInt(t);return null==e&&this.raise(this.start+2,"Expected number in radix "+t),s.isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(a.types.num,e)},p.readNumber=function(t){var e=this.pos,i=!1,n=48===this.input.charCodeAt(this.pos);t||null!==this.readInt(10)||this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);46===r&&(++this.pos,this.readInt(10),i=!0,r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||(r=this.input.charCodeAt(++this.pos),43!==r&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number"),i=!0),s.isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=this.input.slice(e,this.pos),l=void 0;return i?l=parseFloat(o):n&&1!==o.length?/[89]/.test(o)||this.strict?this.raise(e,"Invalid number"):l=parseInt(o,8):l=parseInt(o,10),this.finishToken(a.types.num,l)},p.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e=void 0;if(123===t){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.raise(i,"Code point out of bounds")}else e=this.readHexChar(4);return e},p.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;92===n?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):(u.isNewLine(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(a.types.string,e)},p.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1))return this.pos===this.start&&this.type===a.types.template?36===i?(this.pos+=2,this.finishToken(a.types.dollarBraceL)):(++this.pos,this.finishToken(a.types.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(a.types.template,t));if(92===i)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(u.isNewLine(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},p.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return o(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\x0B";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(e>=48&&e<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(i,8);return n>255&&(i=i.slice(0,-1),n=parseInt(i,8)),n>0&&(this.strict||t)&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=i.length-1,String.fromCharCode(n)}return String.fromCharCode(e)}},p.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return null===i&&this.raise(e,"Bad character escape sequence"),i},p.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(s.isIdentifierChar(r,n))this.pos+=r<=65535?1:2;else{if(92!==r)break;this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;117!=this.input.charCodeAt(++this.pos)&&this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?s.isIdentifierStart:s.isIdentifierChar)(l,n)||this.raise(a,"Invalid Unicode escape"),t+=o(l),i=this.pos}e=!1}return t+this.input.slice(i,this.pos)},p.readWord=function(){var t=this.readWord1(),e=a.types.name;return(this.options.ecmaVersion>=6||!this.containsEsc)&&this.isKeyword(t)&&(e=a.keywords[t]),this.finishToken(e,t)}},{"./identifier":2,"./locutil":5,"./state":10,"./tokentype":14,"./whitespace":16}],14:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return new s(t,{beforeExpr:!0,binop:e})}function o(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e.keyword=t,u[t]=c["_"+t]=new s(t,e)}i.__esModule=!0;var s=function h(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n(this,h),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};i.TokenType=s;var a={beforeExpr:!0},l={startsExpr:!0},c={num:new s("num",l),regexp:new s("regexp",l),string:new s("string",l),name:new s("name",l),eof:new s("eof"),bracketL:new s("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new s("]"),braceL:new s("{",{beforeExpr:!0,startsExpr:!0}),braceR:new s("}"),parenL:new s("(",{beforeExpr:!0,startsExpr:!0}),parenR:new s(")"),comma:new s(",",a),semi:new s(";",a),colon:new s(":",a),dot:new s("."),question:new s("?",a),arrow:new s("=>",a),template:new s("template"),ellipsis:new s("...",a),backQuote:new s("`",l),dollarBraceL:new s("${",{beforeExpr:!0,startsExpr:!0}),eq:new s("=",{beforeExpr:!0,isAssign:!0}),assign:new s("_=",{beforeExpr:!0,isAssign:!0}),incDec:new s("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new s("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:r("||",1),logicalAND:r("&&",2),bitwiseOR:r("|",3),bitwiseXOR:r("^",4),bitwiseAND:r("&",5),equality:r("==/!=",6),relational:r("</>",7),bitShift:r("<</>>",8),plusMin:new s("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:r("%",10),star:r("*",10),slash:r("/",10)};i.types=c;var u={};i.keywords=u,o("break"),o("case",a),o("catch"),o("continue"),o("debugger"),o("default",a),o("do",{isLoop:!0}),o("else",a),o("finally"),o("for",{isLoop:!0}),o("function",l),o("if"),o("return",a),o("switch"),o("throw",a),o("try"),o("var"),o("let"),o("const"),o("while",{isLoop:!0}),o("with"),o("new",{beforeExpr:!0,startsExpr:!0}),o("this",l),o("super",l),o("class"),o("extends",a),o("export"),o("import"),o("yield",{beforeExpr:!0,startsExpr:!0}),o("null",l),o("true",l),o("false",l),o("in",{beforeExpr:!0,binop:7}),o("instanceof",{beforeExpr:!0,binop:7}),o("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),o("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),o("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},{}],15:[function(t,e,i){"use strict";function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i.__esModule=!0,i.isArray=n,i.has=r},{}],16:[function(t,e,i){"use strict";function n(t){return 10===t||13===t||8232===t||8233==t}i.__esModule=!0,i.isNewLine=n;var r=/\r\n?|\n|\u2028|\u2029/;i.lineBreak=r;var o=new RegExp(r.source,"g");i.lineBreakG=o;var s=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;i.nonASCIIwhitespace=s},{}]},{},[3])(3)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.acorn||(e.acorn={})).loose=t()}}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";e.exports="undefined"!=typeof acorn?acorn:require("./acorn")},{}],2:[function(t,e,i){"use strict";var n=t("./state"),r=t("./parseutil"),o=t(".."),s=n.LooseParser.prototype;s.checkLVal=function(t,e){if(!t)return t;switch(t.type){case"Identifier":return t;case"MemberExpression":return e?this.dummyIdent():t;case"ParenthesizedExpression":return t.expression=this.checkLVal(t.expression,e),t;case"ObjectPattern":case"ArrayPattern":case"RestElement":case"AssignmentPattern":if(this.options.ecmaVersion>=6)return t;default:return this.dummyIdent()}},s.parseExpression=function(t){var e=this.storeCurrentPos(),i=this.parseMaybeAssign(t);if(this.tok.type===o.tokTypes.comma){var n=this.startNodeAt(e);for(n.expressions=[i];this.eat(o.tokTypes.comma);)n.expressions.push(this.parseMaybeAssign(t));return this.finishNode(n,"SequenceExpression")}return i},s.parseParenExpression=function(){this.pushCx(),this.expect(o.tokTypes.parenL);var t=this.parseExpression();return this.popCx(),this.expect(o.tokTypes.parenR),t},s.parseMaybeAssign=function(t){var e=this.storeCurrentPos(),i=this.parseMaybeConditional(t);if(this.tok.type.isAssign){var n=this.startNodeAt(e);return n.operator=this.tok.value,n.left=this.tok.type===o.tokTypes.eq?this.toAssignable(i):this.checkLVal(i),this.next(),n.right=this.parseMaybeAssign(t),this.finishNode(n,"AssignmentExpression")}return i},s.parseMaybeConditional=function(t){var e=this.storeCurrentPos(),i=this.parseExprOps(t);if(this.eat(o.tokTypes.question)){var n=this.startNodeAt(e);return n.test=i,n.consequent=this.parseMaybeAssign(),n.alternate=this.expect(o.tokTypes.colon)?this.parseMaybeAssign(t):this.dummyIdent(),this.finishNode(n,"ConditionalExpression")}return i},s.parseExprOps=function(t){var e=this.storeCurrentPos(),i=this.curIndent,n=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(t),e,-1,t,i,n)},s.parseExprOp=function(t,e,i,n,r,s){if(this.curLineStart!=s&&this.curIndent<r&&this.tokenStartsLine())return t;var a=this.tok.type.binop;if(null!=a&&(!n||this.tok.type!==o.tokTypes._in)&&a>i){var l=this.startNodeAt(e);if(l.left=t,l.operator=this.tok.value,this.next(),this.curLineStart!=s&&this.curIndent<r&&this.tokenStartsLine())l.right=this.dummyIdent();else{var c=this.storeCurrentPos();l.right=this.parseExprOp(this.parseMaybeUnary(n),c,a,n,r,s)}return this.finishNode(l,/&&|\|\|/.test(l.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(l,e,i,n,r,s)}return t},s.parseMaybeUnary=function(t){if(this.tok.type.prefix){var e=this.startNode(),i=this.tok.type===o.tokTypes.incDec;return e.operator=this.tok.value,e.prefix=!0,this.next(),e.argument=this.parseMaybeUnary(t),i&&(e.argument=this.checkLVal(e.argument)),this.finishNode(e,i?"UpdateExpression":"UnaryExpression")}if(this.tok.type===o.tokTypes.ellipsis){var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(t),this.finishNode(e,"SpreadElement")}for(var n=this.storeCurrentPos(),r=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var e=this.startNodeAt(n);e.operator=this.tok.value,e.prefix=!1,e.argument=this.checkLVal(r),this.next(),r=this.finishNode(e,"UpdateExpression")}return r},s.parseExprSubscripts=function(){var t=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),t,!1,this.curIndent,this.curLineStart)},s.parseSubscripts=function(t,e,i,n,r){for(;;){if(this.curLineStart!=r&&this.curIndent<=n&&this.tokenStartsLine()){if(this.tok.type!=o.tokTypes.dot||this.curIndent!=n)return t;--n}if(this.eat(o.tokTypes.dot)){var s=this.startNodeAt(e);s.object=t,this.curLineStart!=r&&this.curIndent<=n&&this.tokenStartsLine()?s.property=this.dummyIdent():s.property=this.parsePropertyAccessor()||this.dummyIdent(),s.computed=!1,t=this.finishNode(s,"MemberExpression")}else if(this.tok.type==o.tokTypes.bracketL){this.pushCx(),this.next();var s=this.startNodeAt(e);s.object=t,s.property=this.parseExpression(),s.computed=!0,this.popCx(),this.expect(o.tokTypes.bracketR),t=this.finishNode(s,"MemberExpression")}else if(i||this.tok.type!=o.tokTypes.parenL){if(this.tok.type!=o.tokTypes.backQuote)return t;var s=this.startNodeAt(e);s.tag=t,s.quasi=this.parseTemplate(),t=this.finishNode(s,"TaggedTemplateExpression")}else{var s=this.startNodeAt(e);s.callee=t,s.arguments=this.parseExprList(o.tokTypes.parenR),t=this.finishNode(s,"CallExpression")}}},s.parseExprAtom=function(){var t=void 0;switch(this.tok.type){case o.tokTypes._this:case o.tokTypes._super:var e=this.tok.type===o.tokTypes._this?"ThisExpression":"Super";return t=this.startNode(),this.next(),this.finishNode(t,e);case o.tokTypes.name:var i=this.storeCurrentPos(),n=this.parseIdent();return this.eat(o.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(i),[n]):n;case o.tokTypes.regexp:t=this.startNode();var s=this.tok.value;return t.regex={pattern:s.pattern,flags:s.flags},t.value=s.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(t,"Literal");case o.tokTypes.num:case o.tokTypes.string:return t=this.startNode(),t.value=this.tok.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(t,"Literal");case o.tokTypes._null:case o.tokTypes._true:case o.tokTypes._false:return t=this.startNode(),t.value=this.tok.type===o.tokTypes._null?null:this.tok.type===o.tokTypes._true,t.raw=this.tok.type.keyword,this.next(),this.finishNode(t,"Literal");case o.tokTypes.parenL:var a=this.storeCurrentPos();this.next();var l=this.parseExpression();if(this.expect(o.tokTypes.parenR),this.eat(o.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(a),l.expressions||(r.isDummy(l)?[]:[l]));if(this.options.preserveParens){var c=this.startNodeAt(a);c.expression=l,l=this.finishNode(c,"ParenthesizedExpression")}return l;case o.tokTypes.bracketL:return t=this.startNode(),t.elements=this.parseExprList(o.tokTypes.bracketR,!0),this.finishNode(t,"ArrayExpression");case o.tokTypes.braceL:return this.parseObj();case o.tokTypes._class:return this.parseClass();case o.tokTypes._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case o.tokTypes._new:return this.parseNew();case o.tokTypes._yield:return t=this.startNode(),this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!=o.tokTypes.star&&!this.tok.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(o.tokTypes.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression");case o.tokTypes.backQuote:return this.parseTemplate();default:return this.dummyIdent()}},s.parseNew=function(){var t=this.startNode(),e=this.curIndent,i=this.curLineStart,n=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(o.tokTypes.dot))return t.meta=n,t.property=this.parseIdent(!0),this.finishNode(t,"MetaProperty");var r=this.storeCurrentPos();return t.callee=this.parseSubscripts(this.parseExprAtom(),r,!0,e,i),this.tok.type==o.tokTypes.parenL?t.arguments=this.parseExprList(o.tokTypes.parenR):t.arguments=[],this.finishNode(t,"NewExpression")},s.parseTemplateElement=function(){var t=this.startNode();return t.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,"\n"),cooked:this.tok.value},this.next(),t.tail=this.tok.type===o.tokTypes.backQuote,this.finishNode(t,"TemplateElement")},s.parseTemplate=function(){var t=this.startNode();this.next(),t.expressions=[];var e=this.parseTemplateElement();for(t.quasis=[e];!e.tail;)this.next(),t.expressions.push(this.parseExpression()),this.expect(o.tokTypes.braceR)?e=this.parseTemplateElement():(e=this.startNode(),e.value={cooked:"",raw:""},e.tail=!0),t.quasis.push(e);return this.expect(o.tokTypes.backQuote),this.finishNode(t,"TemplateLiteral")},s.parseObj=function(){var t=this.startNode();t.properties=[],this.pushCx();var e=this.curIndent+1,i=this.curLineStart;for(this.eat(o.tokTypes.braceL),this.curIndent+1<e&&(e=this.curIndent,i=this.curLineStart);!this.closes(o.tokTypes.braceR,e,i);){var n=this.startNode(),s=void 0,a=void 0;if(this.options.ecmaVersion>=6&&(a=this.storeCurrentPos(),n.method=!1,n.shorthand=!1,s=this.eat(o.tokTypes.star)),this.parsePropertyName(n),r.isDummy(n.key))r.isDummy(this.parseMaybeAssign())&&this.next(),this.eat(o.tokTypes.comma);else{if(this.eat(o.tokTypes.colon))n.kind="init",n.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===o.tokTypes.parenL||this.tok.type===o.tokTypes.braceL))n.kind="init",n.method=!0,n.value=this.parseMethod(s);else if(this.options.ecmaVersion>=5&&"Identifier"===n.key.type&&!n.computed&&("get"===n.key.name||"set"===n.key.name)&&this.tok.type!=o.tokTypes.comma&&this.tok.type!=o.tokTypes.braceR)n.kind=n.key.name,this.parsePropertyName(n),n.value=this.parseMethod(!1);else{if(n.kind="init",this.options.ecmaVersion>=6)if(this.eat(o.tokTypes.eq)){var l=this.startNodeAt(a);l.operator="=",l.left=n.key,l.right=this.parseMaybeAssign(),n.value=this.finishNode(l,"AssignmentExpression")}else n.value=n.key;else n.value=this.dummyIdent();n.shorthand=!0}t.properties.push(this.finishNode(n,"Property")),this.eat(o.tokTypes.comma)}}return this.popCx(),this.eat(o.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(t,"ObjectExpression")},s.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(o.tokTypes.bracketL))return t.computed=!0,t.key=this.parseExpression(),void this.expect(o.tokTypes.bracketR);t.computed=!1}var e=this.tok.type===o.tokTypes.num||this.tok.type===o.tokTypes.string?this.parseExprAtom():this.parseIdent();t.key=e||this.dummyIdent()},s.parsePropertyAccessor=function(){if(this.tok.type===o.tokTypes.name||this.tok.type.keyword)return this.parseIdent()},s.parseIdent=function(){var t=this.tok.type===o.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!t)return this.dummyIdent();var e=this.startNode();return this.next(),e.name=t,this.finishNode(e,"Identifier")},s.initFunction=function(t){t.id=null,t.params=[],this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1)},s.toAssignable=function(t,e){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"ObjectExpression":t.type="ObjectPattern";for(var i=t.properties,n=0;n<i.length;n++)this.toAssignable(i[n].value,e);break;case"ArrayExpression":t.type="ArrayPattern",this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",t.argument=this.toAssignable(t.argument,e);break;case"AssignmentExpression":t.type="AssignmentPattern",delete t.operator}return this.checkLVal(t,e)},s.toAssignableList=function(t,e){for(var i=0;i<t.length;i++)t[i]=this.toAssignable(t[i],e);return t},s.parseFunctionParams=function(t){return t=this.parseExprList(o.tokTypes.parenR),this.toAssignableList(t,!0)},s.parseMethod=function(t){var e=this.startNode();return this.initFunction(e),e.params=this.parseFunctionParams(),e.generator=t||!1,e.expression=this.options.ecmaVersion>=6&&this.tok.type!==o.tokTypes.braceL,e.body=e.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(e,"FunctionExpression")},s.parseArrowExpression=function(t,e){return this.initFunction(t),t.params=this.toAssignableList(e,!0),t.expression=this.tok.type!==o.tokTypes.braceL,t.body=t.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(t,"ArrowFunctionExpression")},s.parseExprList=function(t,e){this.pushCx();var i=this.curIndent,n=this.curLineStart,s=[];for(this.next();!this.closes(t,i+1,n);)if(this.eat(o.tokTypes.comma))s.push(e?null:this.dummyIdent());else{var a=this.parseMaybeAssign();if(r.isDummy(a)){if(this.closes(t,i,n))break;this.next()}else s.push(a);this.eat(o.tokTypes.comma)}return this.popCx(),this.eat(t)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),s}},{"..":1,"./parseutil":4,"./state":5}],3:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t,e){var i=new a.LooseParser(t,e);return i.next(),i.parseTopLevel()}i.__esModule=!0,i.parse_dammit=r;var o=t(".."),s=n(o),a=t("./state");t("./tokenize"),t("./statement"),t("./expression"),i.LooseParser=a.LooseParser,s.defaultOptions.tabSize=4,s.parse_dammit=r,s.LooseParser=a.LooseParser},{"..":1,"./expression":2,"./state":5,"./statement":6,"./tokenize":7}],4:[function(t,e,i){"use strict";function n(t){return"✖"==t.name}i.__esModule=!0,i.isDummy=n},{}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var r=t(".."),o=function(){function t(e,i){if(n(this,t),this.toks=r.tokenizer(e,i),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:r.tokTypes.eof,start:0,end:0},this.options.locations){var o=this.toks.curPosition();this.tok.loc=new r.SourceLocation(this.toks,o,o)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1}return t.prototype.startNode=function(){return new r.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},t.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},t.prototype.startNodeAt=function(t){return this.options.locations?new r.Node(this.toks,t[0],t[1]):new r.Node(this.toks,t)},t.prototype.finishNode=function(t,e){return t.type=e,t.end=this.last.end,this.options.locations&&(t.loc.end=this.last.loc.end),this.options.ranges&&(t.range[1]=this.last.end),t},t.prototype.dummyIdent=function(){var t=this.startNode();return t.name="✖",this.finishNode(t,"Identifier")},t.prototype.dummyString=function(){var t=this.startNode();return t.value=t.raw="✖",this.finishNode(t,"Literal")},t.prototype.eat=function(t){return this.tok.type===t&&(this.next(),!0)},t.prototype.isContextual=function(t){return this.tok.type===r.tokTypes.name&&this.tok.value===t},t.prototype.eatContextual=function(t){return this.tok.value===t&&this.eat(r.tokTypes.name)},t.prototype.canInsertSemicolon=function(){return this.tok.type===r.tokTypes.eof||this.tok.type===r.tokTypes.braceR||r.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},t.prototype.semicolon=function(){return this.eat(r.tokTypes.semi)},t.prototype.expect=function(t){if(this.eat(t))return!0;for(var e=1;e<=2;e++)if(this.lookAhead(e).type==t){for(var i=0;i<e;i++)this.next();return!0}},t.prototype.pushCx=function(){this.context.push(this.curIndent)},t.prototype.popCx=function(){this.curIndent=this.context.pop()},t.prototype.lineEnd=function(t){for(;t<this.input.length&&!r.isNewLine(this.input.charCodeAt(t));)++t;return t},t.prototype.indentationAfter=function(t){for(var e=0;;++t){var i=this.input.charCodeAt(t);if(32===i)++e;else{if(9!==i)return e;e+=this.options.tabSize}}},t.prototype.closes=function(t,e,i,n){return this.tok.type===t||this.tok.type===r.tokTypes.eof||i!=this.curLineStart&&this.curIndent<e&&this.tokenStartsLine()&&(!n||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<e)},t.prototype.tokenStartsLine=function(){for(var t=this.tok.start-1;t>=this.curLineStart;--t){var e=this.input.charCodeAt(t);if(9!==e&&32!==e)return!1}return!0},t}();i.LooseParser=o},{"..":1}],6:[function(t,e,i){"use strict";var n=t("./state"),r=t("./parseutil"),o=t(".."),s=n.LooseParser.prototype;s.parseTopLevel=function(){var t=this.startNodeAt(this.options.locations?[0,o.getLineInfo(this.input,0)]:0);for(t.body=[];this.tok.type!==o.tokTypes.eof;)t.body.push(this.parseStatement());return this.last=this.tok,this.options.ecmaVersion>=6&&(t.sourceType=this.options.sourceType),this.finishNode(t,"Program")},s.parseStatement=function(){var t=this.tok.type,e=this.startNode();switch(t){case o.tokTypes._break:case o.tokTypes._continue:this.next();var i=t===o.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?e.label=null:(e.label=this.tok.type===o.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(e,i?"BreakStatement":"ContinueStatement");case o.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement");case o.tokTypes._do:return this.next(),e.body=this.parseStatement(),e.test=this.eat(o.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(e,"DoWhileStatement");case o.tokTypes._for:if(this.next(),this.pushCx(),this.expect(o.tokTypes.parenL),this.tok.type===o.tokTypes.semi)return this.parseFor(e,null);if(this.tok.type===o.tokTypes._var||this.tok.type===o.tokTypes._let||this.tok.type===o.tokTypes._const){var n=this.parseVar(!0);return 1!==n.declarations.length||this.tok.type!==o.tokTypes._in&&!this.isContextual("of")?this.parseFor(e,n):this.parseForIn(e,n)}var s=this.parseExpression(!0);return this.tok.type===o.tokTypes._in||this.isContextual("of")?this.parseForIn(e,this.toAssignable(s)):this.parseFor(e,s);case o.tokTypes._function:return this.next(),this.parseFunction(e,!0);case o.tokTypes._if:return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(),e.alternate=this.eat(o.tokTypes._else)?this.parseStatement():null,this.finishNode(e,"IfStatement");case o.tokTypes._return:return this.next(),this.eat(o.tokTypes.semi)||this.canInsertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement");case o.tokTypes._switch:var a=this.curIndent,l=this.curLineStart;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.pushCx(),this.expect(o.tokTypes.braceL);for(var c=void 0;!this.closes(o.tokTypes.braceR,a,l,!0);)if(this.tok.type===o.tokTypes._case||this.tok.type===o.tokTypes._default){var u=this.tok.type===o.tokTypes._case;c&&this.finishNode(c,"SwitchCase"),e.cases.push(c=this.startNode()),c.consequent=[],this.next(),u?c.test=this.parseExpression():c.test=null,this.expect(o.tokTypes.colon)}else c||(e.cases.push(c=this.startNode()),c.consequent=[],c.test=null),c.consequent.push(this.parseStatement());return c&&this.finishNode(c,"SwitchCase"),this.popCx(),this.eat(o.tokTypes.braceR),this.finishNode(e,"SwitchStatement");case o.tokTypes._throw:return this.next(),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement");case o.tokTypes._try:if(this.next(),e.block=this.parseBlock(),e.handler=null,this.tok.type===o.tokTypes._catch){var h=this.startNode();this.next(),this.expect(o.tokTypes.parenL),h.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(o.tokTypes.parenR),h.guard=null,h.body=this.parseBlock(),e.handler=this.finishNode(h,"CatchClause")}return e.finalizer=this.eat(o.tokTypes._finally)?this.parseBlock():null,e.handler||e.finalizer?this.finishNode(e,"TryStatement"):e.block;case o.tokTypes._var:case o.tokTypes._let:case o.tokTypes._const:return this.parseVar();case o.tokTypes._while:return this.next(),e.test=this.parseParenExpression(),e.body=this.parseStatement(),this.finishNode(e,"WhileStatement");case o.tokTypes._with:return this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(),this.finishNode(e,"WithStatement");case o.tokTypes.braceL:return this.parseBlock();case o.tokTypes.semi:return this.next(),this.finishNode(e,"EmptyStatement");case o.tokTypes._class:return this.parseClass(!0);case o.tokTypes._import:return this.parseImport();case o.tokTypes._export:return this.parseExport();default:var p=this.parseExpression();return r.isDummy(p)?(this.next(),this.tok.type===o.tokTypes.eof?this.finishNode(e,"EmptyStatement"):this.parseStatement()):t===o.tokTypes.name&&"Identifier"===p.type&&this.eat(o.tokTypes.colon)?(e.body=this.parseStatement(),e.label=p,this.finishNode(e,"LabeledStatement")):(e.expression=p,this.semicolon(),this.finishNode(e,"ExpressionStatement"))}},s.parseBlock=function(){var t=this.startNode();this.pushCx(),this.expect(o.tokTypes.braceL);var e=this.curIndent,i=this.curLineStart;for(t.body=[];!this.closes(o.tokTypes.braceR,e,i,!0);)t.body.push(this.parseStatement());return this.popCx(),this.eat(o.tokTypes.braceR),this.finishNode(t,"BlockStatement")},s.parseFor=function(t,e){return t.init=e,t.test=t.update=null,this.eat(o.tokTypes.semi)&&this.tok.type!==o.tokTypes.semi&&(t.test=this.parseExpression()),this.eat(o.tokTypes.semi)&&this.tok.type!==o.tokTypes.parenR&&(t.update=this.parseExpression()),this.popCx(),this.expect(o.tokTypes.parenR),t.body=this.parseStatement(),this.finishNode(t,"ForStatement")},s.parseForIn=function(t,e){var i=this.tok.type===o.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.popCx(),this.expect(o.tokTypes.parenR),t.body=this.parseStatement(),this.finishNode(t,i)},s.parseVar=function(t){var e=this.startNode();e.kind=this.tok.type.keyword,this.next(),e.declarations=[];do{var i=this.startNode();i.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),i.init=this.eat(o.tokTypes.eq)?this.parseMaybeAssign(t):null,e.declarations.push(this.finishNode(i,"VariableDeclarator"))}while(this.eat(o.tokTypes.comma));if(!e.declarations.length){var i=this.startNode();i.id=this.dummyIdent(),e.declarations.push(this.finishNode(i,"VariableDeclarator"))}return t||this.semicolon(),this.finishNode(e,"VariableDeclaration")},s.parseClass=function(t){var e=this.startNode();this.next(),this.tok.type===o.tokTypes.name?e.id=this.parseIdent():t?e.id=this.dummyIdent():e.id=null,e.superClass=this.eat(o.tokTypes._extends)?this.parseExpression():null,e.body=this.startNode(),e.body.body=[],this.pushCx();var i=this.curIndent+1,n=this.curLineStart;for(this.eat(o.tokTypes.braceL),this.curIndent+1<i&&(i=this.curIndent,n=this.curLineStart);!this.closes(o.tokTypes.braceR,i,n);)if(!this.semicolon()){var s=this.startNode(),a=void 0;this.options.ecmaVersion>=6&&(s["static"]=!1,a=this.eat(o.tokTypes.star)),this.parsePropertyName(s),r.isDummy(s.key)?(r.isDummy(this.parseMaybeAssign())&&this.next(),this.eat(o.tokTypes.comma)):("Identifier"!==s.key.type||s.computed||"static"!==s.key.name||this.tok.type==o.tokTypes.parenL||this.tok.type==o.tokTypes.braceL?s["static"]=!1:(s["static"]=!0,a=this.eat(o.tokTypes.star),this.parsePropertyName(s)),this.options.ecmaVersion>=5&&"Identifier"===s.key.type&&!s.computed&&("get"===s.key.name||"set"===s.key.name)&&this.tok.type!==o.tokTypes.parenL&&this.tok.type!==o.tokTypes.braceL?(s.kind=s.key.name,this.parsePropertyName(s),s.value=this.parseMethod(!1)):(s.computed||s["static"]||a||!("Identifier"===s.key.type&&"constructor"===s.key.name||"Literal"===s.key.type&&"constructor"===s.key.value)?s.kind="method":s.kind="constructor",
s.value=this.parseMethod(a)),e.body.body.push(this.finishNode(s,"MethodDefinition")))}return this.popCx(),this.eat(o.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(e.body,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},s.parseFunction=function(t,e){return this.initFunction(t),this.options.ecmaVersion>=6&&(t.generator=this.eat(o.tokTypes.star)),this.tok.type===o.tokTypes.name?t.id=this.parseIdent():e&&(t.id=this.dummyIdent()),t.params=this.parseFunctionParams(),t.body=this.parseBlock(),this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")},s.parseExport=function(){var t=this.startNode();if(this.next(),this.eat(o.tokTypes.star))return t.source=this.eatContextual("from")?this.parseExprAtom():null,this.finishNode(t,"ExportAllDeclaration");if(this.eat(o.tokTypes._default)){var e=this.parseMaybeAssign();if(e.id)switch(e.type){case"FunctionExpression":e.type="FunctionDeclaration";break;case"ClassExpression":e.type="ClassDeclaration"}return t.declaration=e,this.semicolon(),this.finishNode(t,"ExportDefaultDeclaration")}return this.tok.type.keyword?(t.declaration=this.parseStatement(),t.specifiers=[],t.source=null):(t.declaration=null,t.specifiers=this.parseExportSpecifierList(),t.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(t,"ExportNamedDeclaration")},s.parseImport=function(){var t=this.startNode();if(this.next(),this.tok.type===o.tokTypes.string)t.specifiers=[],t.source=this.parseExprAtom(),t.kind="";else{var e=void 0;this.tok.type===o.tokTypes.name&&"from"!==this.tok.value&&(e=this.startNode(),e.local=this.parseIdent(),this.finishNode(e,"ImportDefaultSpecifier"),this.eat(o.tokTypes.comma)),t.specifiers=this.parseImportSpecifierList(),t.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),e&&t.specifiers.unshift(e)}return this.semicolon(),this.finishNode(t,"ImportDeclaration")},s.parseImportSpecifierList=function(){var t=[];if(this.tok.type===o.tokTypes.star){var e=this.startNode();this.next(),this.eatContextual("as")&&(e.local=this.parseIdent()),t.push(this.finishNode(e,"ImportNamespaceSpecifier"))}else{var i=this.curIndent,n=this.curLineStart,s=this.nextLineStart;for(this.pushCx(),this.eat(o.tokTypes.braceL),this.curLineStart>s&&(s=this.curLineStart);!this.closes(o.tokTypes.braceR,i+(this.curLineStart<=s?1:0),n);){var e=this.startNode();if(this.eat(o.tokTypes.star))this.eatContextual("as")&&(e.local=this.parseIdent()),this.finishNode(e,"ImportNamespaceSpecifier");else{if(this.isContextual("from"))break;if(e.imported=this.parseIdent(),r.isDummy(e.imported))break;e.local=this.eatContextual("as")?this.parseIdent():e.imported,this.finishNode(e,"ImportSpecifier")}t.push(e),this.eat(o.tokTypes.comma)}this.eat(o.tokTypes.braceR),this.popCx()}return t},s.parseExportSpecifierList=function(){var t=[],e=this.curIndent,i=this.curLineStart,n=this.nextLineStart;for(this.pushCx(),this.eat(o.tokTypes.braceL),this.curLineStart>n&&(n=this.curLineStart);!this.closes(o.tokTypes.braceR,e+(this.curLineStart<=n?1:0),i)&&!this.isContextual("from");){var s=this.startNode();if(s.local=this.parseIdent(),r.isDummy(s.local))break;s.exported=this.eatContextual("as")?this.parseIdent():s.local,this.finishNode(s,"ExportSpecifier"),t.push(s),this.eat(o.tokTypes.comma)}return this.eat(o.tokTypes.braceR),this.popCx(),t}},{"..":1,"./parseutil":4,"./state":5}],7:[function(t,e,i){"use strict";function n(t){return t<14&&t>8||32===t||160===t||r.isNewLine(t)}var r=t(".."),o=t("./state"),s=o.LooseParser.prototype;s.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},s.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===r.tokTypes.dot&&"."===this.input.substr(this.toks.end,1)&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=r.tokTypes.ellipsis),new r.Token(this.toks)}catch(t){if(!(t instanceof SyntaxError))throw t;var e=t.message,i=t.raisedAt,o=!0;if(/unterminated/i.test(e))if(i=this.lineEnd(t.pos+1),/string/.test(e))o={start:t.pos,end:i,type:r.tokTypes.string,value:this.input.slice(t.pos+1,i)};else if(/regular expr/i.test(e)){var s=this.input.slice(t.pos,i);try{s=new RegExp(s)}catch(t){}o={start:t.pos,end:i,type:r.tokTypes.regexp,value:s}}else o=!!/template/.test(e)&&{start:t.pos,end:i,type:r.tokTypes.template,value:this.input.slice(t.pos,i)};else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(e))for(;i<this.input.length&&!n(this.input.charCodeAt(i));)++i;else if(/character escape|expected hexadecimal/i.test(e))for(;i<this.input.length;){var a=this.input.charCodeAt(i++);if(34===a||39===a||r.isNewLine(a))break}else if(/unexpected character/i.test(e))i++,o=!1;else{if(!/regular expression/i.test(e))throw t;o=!0}if(this.resetTo(i),o===!0&&(o={start:i,end:i,type:r.tokTypes.name,value:"✖"}),o)return this.options.locations&&(o.loc=new r.SourceLocation(this.toks,r.getLineInfo(this.input,o.start),r.getLineInfo(this.input,o.end))),o}},s.resetTo=function(t){this.toks.pos=t;var e=this.input.charAt(t-1);if(this.toks.exprAllowed=!e||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(e)||/[enwfd]/.test(e)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(this.input.slice(t-10,t)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=r.lineBreakG.lastIndex=0;for(var i=void 0;(i=r.lineBreakG.exec(this.input))&&i.index<t;)++this.toks.curLine,this.toks.lineStart=i.index+i[0].length}},s.lookAhead=function(t){for(;t>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[t-1]}},{"..":1,"./state":5}]},{},[3])(3)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.acorn||(e.acorn={})).walk=t()}}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,n,r,o){n||(n=i.base),function s(t,i,r){var o=r||t.type,a=e[o];n[o](t,i,s),a&&a(t,i)}(t,r,o)}function o(t,e,n,r){n||(n=i.base),r||(r=[]),function o(t,i,r){var s=r||t.type,a=e[s];t!=i[i.length-1]&&(i=i.slice(),i.push(t)),n[s](t,i,o),a&&a(t,i)}(t,r)}function s(t,e,n,r,o){var s=n?i.make(n,r):r;!function a(t,e,i){s[i||t.type](t,e,a)}(t,e,o)}function a(t){return"string"==typeof t?function(e){return e==t}:t?t:function(){return!0}}function l(t,e,n,r,o,s){r=a(r),o||(o=i.base);try{!function c(t,i,s){var a=s||t.type;if((null==e||t.start<=e)&&(null==n||t.end>=n)&&o[a](t,i,c),(null==e||t.start==e)&&(null==n||t.end==n)&&r(a,t))throw new m(t,i)}(t,s)}catch(l){if(l instanceof m)return l;throw l}}function c(t,e,n,r,o){n=a(n),r||(r=i.base);try{!function l(t,i,o){var s=o||t.type;if(!(t.start>e||t.end<e)&&(r[s](t,i,l),n(s,t)))throw new m(t,i)}(t,o)}catch(s){if(s instanceof m)return s;throw s}}function u(t,e,n,r,o){n=a(n),r||(r=i.base);try{!function l(t,i,o){if(!(t.end<e)){var s=o||t.type;if(t.start>=e&&n(s,t))throw new m(t,i);r[s](t,i,l)}}(t,o)}catch(s){if(s instanceof m)return s;throw s}}function h(t,e,n,r,o){n=a(n),r||(r=i.base);var s=void 0;return function l(t,i,o){if(!(t.start>e)){var a=o||t.type;t.end<=e&&(!s||s.node.end<t.end)&&n(a,t)&&(s=new m(t,i)),r[a](t,i,l)}}(t,o),s}function p(t,e){e||(e=i.base);var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function f(t,e,i){i(t,e)}function d(t,e,i){}i.__esModule=!0,i.simple=r,i.ancestor=o,i.recursive=s,i.findNodeAt=l,i.findNodeAround=c,i.findNodeAfter=u,i.findNodeBefore=h,i.make=p;var m=function v(t,e){n(this,v),this.node=t,this.state=e},g={};i.base=g,g.Program=g.BlockStatement=function(t,e,i){for(var n=0;n<t.body.length;++n)i(t.body[n],e,"Statement")},g.Statement=f,g.EmptyStatement=d,g.ExpressionStatement=g.ParenthesizedExpression=function(t,e,i){return i(t.expression,e,"Expression")},g.IfStatement=function(t,e,i){i(t.test,e,"Expression"),i(t.consequent,e,"Statement"),t.alternate&&i(t.alternate,e,"Statement")},g.LabeledStatement=function(t,e,i){return i(t.body,e,"Statement")},g.BreakStatement=g.ContinueStatement=d,g.WithStatement=function(t,e,i){i(t.object,e,"Expression"),i(t.body,e,"Statement")},g.SwitchStatement=function(t,e,i){i(t.discriminant,e,"Expression");for(var n=0;n<t.cases.length;++n){var r=t.cases[n];r.test&&i(r.test,e,"Expression");for(var o=0;o<r.consequent.length;++o)i(r.consequent[o],e,"Statement")}},g.ReturnStatement=g.YieldExpression=function(t,e,i){t.argument&&i(t.argument,e,"Expression")},g.ThrowStatement=g.SpreadElement=function(t,e,i){return i(t.argument,e,"Expression")},g.TryStatement=function(t,e,i){i(t.block,e,"Statement"),t.handler&&(i(t.handler.param,e,"Pattern"),i(t.handler.body,e,"ScopeBody")),t.finalizer&&i(t.finalizer,e,"Statement")},g.WhileStatement=g.DoWhileStatement=function(t,e,i){i(t.test,e,"Expression"),i(t.body,e,"Statement")},g.ForStatement=function(t,e,i){t.init&&i(t.init,e,"ForInit"),t.test&&i(t.test,e,"Expression"),t.update&&i(t.update,e,"Expression"),i(t.body,e,"Statement")},g.ForInStatement=g.ForOfStatement=function(t,e,i){i(t.left,e,"ForInit"),i(t.right,e,"Expression"),i(t.body,e,"Statement")},g.ForInit=function(t,e,i){"VariableDeclaration"==t.type?i(t,e):i(t,e,"Expression")},g.DebuggerStatement=d,g.FunctionDeclaration=function(t,e,i){return i(t,e,"Function")},g.VariableDeclaration=function(t,e,i){for(var n=0;n<t.declarations.length;++n)i(t.declarations[n],e)},g.VariableDeclarator=function(t,e,i){i(t.id,e,"Pattern"),t.init&&i(t.init,e,"Expression")},g.Function=function(t,e,i){t.id&&i(t.id,e,"Pattern");for(var n=0;n<t.params.length;n++)i(t.params[n],e,"Pattern");i(t.body,e,t.expression?"ScopeExpression":"ScopeBody")},g.ScopeBody=function(t,e,i){return i(t,e,"Statement")},g.ScopeExpression=function(t,e,i){return i(t,e,"Expression")},g.Pattern=function(t,e,i){"Identifier"==t.type?i(t,e,"VariablePattern"):"MemberExpression"==t.type?i(t,e,"MemberPattern"):i(t,e)},g.VariablePattern=d,g.MemberPattern=f,g.RestElement=function(t,e,i){return i(t.argument,e,"Pattern")},g.ArrayPattern=function(t,e,i){for(var n=0;n<t.elements.length;++n){var r=t.elements[n];r&&i(r,e,"Pattern")}},g.ObjectPattern=function(t,e,i){for(var n=0;n<t.properties.length;++n)i(t.properties[n].value,e,"Pattern")},g.Expression=f,g.ThisExpression=g.Super=g.MetaProperty=d,g.ArrayExpression=function(t,e,i){for(var n=0;n<t.elements.length;++n){var r=t.elements[n];r&&i(r,e,"Expression")}},g.ObjectExpression=function(t,e,i){for(var n=0;n<t.properties.length;++n)i(t.properties[n],e)},g.FunctionExpression=g.ArrowFunctionExpression=g.FunctionDeclaration,g.SequenceExpression=g.TemplateLiteral=function(t,e,i){for(var n=0;n<t.expressions.length;++n)i(t.expressions[n],e,"Expression")},g.UnaryExpression=g.UpdateExpression=function(t,e,i){i(t.argument,e,"Expression")},g.BinaryExpression=g.LogicalExpression=function(t,e,i){i(t.left,e,"Expression"),i(t.right,e,"Expression")},g.AssignmentExpression=g.AssignmentPattern=function(t,e,i){i(t.left,e,"Pattern"),i(t.right,e,"Expression")},g.ConditionalExpression=function(t,e,i){i(t.test,e,"Expression"),i(t.consequent,e,"Expression"),i(t.alternate,e,"Expression")},g.NewExpression=g.CallExpression=function(t,e,i){if(i(t.callee,e,"Expression"),t.arguments)for(var n=0;n<t.arguments.length;++n)i(t.arguments[n],e,"Expression")},g.MemberExpression=function(t,e,i){i(t.object,e,"Expression"),t.computed&&i(t.property,e,"Expression")},g.ExportNamedDeclaration=g.ExportDefaultDeclaration=function(t,e,i){t.declaration&&i(t.declaration,e),t.source&&i(t.source,e,"Expression")},g.ExportAllDeclaration=function(t,e,i){i(t.source,e,"Expression")},g.ImportDeclaration=function(t,e,i){for(var n=0;n<t.specifiers.length;n++)i(t.specifiers[n],e);i(t.source,e,"Expression")},g.ImportSpecifier=g.ImportDefaultSpecifier=g.ImportNamespaceSpecifier=g.Identifier=g.Literal=d,g.TaggedTemplateExpression=function(t,e,i){i(t.tag,e,"Expression"),i(t.quasi,e)},g.ClassDeclaration=g.ClassExpression=function(t,e,i){return i(t,e,"Class")},g.Class=function(t,e,i){t.id&&i(t.id,e,"Pattern"),t.superClass&&i(t.superClass,e,"Expression");for(var n=0;n<t.body.body.length;n++)i(t.body.body[n],e)},g.MethodDefinition=g.Property=function(t,e,i){t.computed&&i(t.key,e,"Expression"),i(t.value,e,"Expression")},g.ComprehensionExpression=function(t,e,i){for(var n=0;n<t.blocks.length;n++)i(t.blocks[n].right,e,"Expression");i(t.body,e,"Expression")}},{}]},{},[1])(1)}),function(){Object.create=Object.create||function(){function t(){}if(!({__proto__:null}instanceof Object))return function(t){return{__proto__:t}};var e=document.body.appendChild(document.createElement("iframe"));e.src="javascript:";var i=e.contentWindow.Object.prototype;return delete i.hasOwnProperty,delete i.isPrototypeOf,delete i.propertyIsEnumerable,delete i.valueOf,delete i.toString,delete i.toLocaleString,delete i.constructor,function(e){return t.prototype=e||i,new t}}();var t=Array.prototype;t.some=t.some||function(t){for(var e=0;e<this.length;++e)if(t(this[e],e))return!0},t.forEach=t.forEach||function(t){for(var e=0;e<this.length;++e)t(this[e],e)},t.indexOf=t.indexOf||function(t,e){for(var i=e||0;i<this.length;++i)if(this[i]===t)return i;return-1},t.lastIndexOf=t.lastIndexOf||function(t,e){for(var i=null==e?this.length-1:e;i>=0;++i)if(this[i]===t)return i;return-1},t.map=t.map||function(t){for(var e=[],i=0;i<this.length;++i)e.push(t(this[i],i));return e},Array.isArray=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},String.prototype.trim=String.prototype.trim||function(){for(var t=0,e=this.length;/\s/.test(this.charAt(t));)++t;for(;/\s/.test(this.charAt(e-1));)--e;return this.slice(t,e)},function(){function t(t){var e,i,a,c="json"==t;if(c||"json-stringify"==t||"json-parse"==t){if("json-stringify"==t||c){if(e="function"==typeof l.stringify&&S){(a=function(){return 1}).toJSON=a;try{e="0"===l.stringify(0)&&"0"===l.stringify(new Number)&&'""'==l.stringify(new String)&&l.stringify(s)===n&&l.stringify(n)===n&&l.stringify()===n&&"1"===l.stringify(a)&&"[1]"==l.stringify([a])&&"[null]"==l.stringify([n])&&"null"==l.stringify(o)&&"[null,null,null]"==l.stringify([n,s,o])&&'{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==l.stringify({A:[a,r,!1,o,"\0\b\n\f\r\t"]})&&"1"===l.stringify(o,a)&&"[\n 1,\n 2\n]"==l.stringify([1,2],o,1)&&'"-271821-04-20T00:00:00.000Z"'==l.stringify(new Date((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==l.stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l.stringify(new Date((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==l.stringify(new Date((-1)))}catch(u){e=!1}}if(!c)return e}if("json-parse"==t||c){if("function"==typeof l.parse)try{if(0===l.parse("0")&&!l.parse(!1)&&(a=l.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),i=5==a.a.length&&1==a.a[0])){try{i=!l.parse('"\t"')}catch(h){}if(i)try{i=1!=l.parse("01")}catch(p){}}}catch(f){i=!1}if(!c)return i}return e&&i}}var e,i,n=void 0,r=!0,o=null,s={}.toString,a="function"==typeof define&&define.c,l=!a&&"object"==typeof exports&&exports;l||a?"object"==typeof JSON&&JSON?a?l=JSON:(l.stringify=JSON.stringify,l.parse=JSON.parse):a&&(l=this.JSON={}):l=this.JSON||(this.JSON={});var c,u,h,p,f,d,m,g,v,y,b,x,_,w,k,C,S=new Date((-0xc782b5b800cec));try{S=-109252==S.getUTCFullYear()&&0===S.getUTCMonth()&&1==S.getUTCDate()&&10==S.getUTCHours()&&37==S.getUTCMinutes()&&6==S.getUTCSeconds()&&708==S.getUTCMilliseconds()}catch(T){}t("json")||(S||(w=Math.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(t,e){return k[e]+365*(t-1970)+w((t-1969+(e=+(e>1)))/4)-w((t-1901+e)/100)+w((t-1601+e)/400)}),(e={}.hasOwnProperty)||(e=function(t){var i,n={};return(n.__proto__=o,n.__proto__={toString:1},n).toString!=s?e=function(t){var e=this.__proto__,t=t in(this.__proto__=o,this);return this.__proto__=e,t}:(i=n.constructor,e=function(t){var e=(this.constructor||i).prototype;return t in this&&!(t in e&&this[t]===e[t])}),n=o,e.call(this,t)}),i=function(t,i){var n,r,a,l=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(a in r)e.call(r,a)&&l++;n=r=o,l?l=2==l?function(t,i){var n,r={},o="[object Function]"==s.call(t);for(n in t)!(o&&"prototype"==n)&&!e.call(r,n)&&(r[n]=1)&&e.call(t,n)&&i(n)}:function(t,i){var n,r,o="[object Function]"==s.call(t);for(n in t)!(o&&"prototype"==n)&&e.call(t,n)&&!(r="constructor"===n)&&i(n);(r||e.call(t,n="constructor"))&&i(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],l=function(t,i){var n,o="[object Function]"==s.call(t);for(n in t)!(o&&"prototype"==n)&&e.call(t,n)&&i(n);for(o=r.length;n=r[--o];e.call(t,n)&&i(n));}),l(t,i)},t("json-stringify")||(c={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},u=function(t,e){return("000000"+(e||0)).slice(-t)},h=function(t){for(var e,i='"',n=0;e=t.charAt(n);n++)i+='\\"\b\f\n\r\t'.indexOf(e)>-1?c[e]:c[e]=e<" "?"\\u00"+u(2,e.charCodeAt(0).toString(16)):e;return i+'"'},p=function(t,a,l,c,f,d,m){var g,v,y,b,x,_,k,S,T,E=a[t];if("object"==typeof E&&E)if(g=s.call(E),"[object Date]"!=g||e.call(E,"toJSON"))"function"==typeof E.toJSON&&("[object Number]"!=g&&"[object String]"!=g&&"[object Array]"!=g||e.call(E,"toJSON"))&&(E=E.toJSON(t));else if(E>-1/0&&E<1/0){if(C){for(y=w(E/864e5),g=w(y/365.2425)+1970-1;C(g+1,0)<=y;g++);for(v=w((y-C(g,0))/30.42);C(g,v+1)<=y;v++);y=1+y-C(g,v),b=(E%864e5+864e5)%864e5,x=w(b/36e5)%24,_=w(b/6e4)%60,k=w(b/1e3)%60,b%=1e3}else g=E.getUTCFullYear(),v=E.getUTCMonth(),y=E.getUTCDate(),x=E.getUTCHours(),_=E.getUTCMinutes(),k=E.getUTCSeconds(),b=E.getUTCMilliseconds();E=(g<=0||g>=1e4?(g<0?"-":"+")+u(6,g<0?-g:g):u(4,g))+"-"+u(2,v+1)+"-"+u(2,y)+"T"+u(2,x)+":"+u(2,_)+":"+u(2,k)+"."+u(3,b)+"Z"}else E=o;if(l&&(E=l.call(a,t,E)),E===o)return"null";if(g=s.call(E),"[object Boolean]"==g)return""+E;if("[object Number]"==g)return E>-1/0&&E<1/0?""+E:"null";if("[object String]"==g)return h(E);if("object"==typeof E){for(t=m.length;t--;)if(m[t]===E)throw TypeError();if(m.push(E),S=[],a=d,d+=f,"[object Array]"==g){for(v=0,t=E.length;v<t;T||(T=r),v++)g=p(v,E,l,c,f,d,m),S.push(g===n?"null":g);t=T?f?"[\n"+d+S.join(",\n"+d)+"\n"+a+"]":"["+S.join(",")+"]":"[]"}else i(c||E,function(t){var e=p(t,E,l,c,f,d,m);e!==n&&S.push(h(t)+":"+(f?" ":"")+e),T||(T=r)}),t=T?f?"{\n"+d+S.join(",\n"+d)+"\n"+a+"}":"{"+S.join(",")+"}":"{}";return m.pop(),t}},l.stringify=function(t,e,i){var n,r,o,a,l,c;if("function"==typeof e||"object"==typeof e&&e)if("[object Function]"==s.call(e))r=e;else if("[object Array]"==s.call(e))for(o={},a=0,l=e.length;a<l;c=e[a++],("[object String]"==s.call(c)||"[object Number]"==s.call(c))&&(o[c]=1));if(i)if("[object Number]"==s.call(i)){if((i-=i%1)>0)for(n="",i>10&&(i=10);n.length<i;n+=" ");}else"[object String]"==s.call(i)&&(n=i.length<=10?i:i.slice(0,10));return p("",(c={},c[""]=t,c),r,o,n,"",[])}),t("json-parse")||(f=String.fromCharCode,d={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},m=function(){throw x=_=o,SyntaxError()},g=function(){for(var t,e,i,n,s,a=_,l=a.length;x<l;)if(t=a.charAt(x),"\t\r\n ".indexOf(t)>-1)x++;else{if("{}[]:,".indexOf(t)>-1)return x++,t;if('"'==t){for(e="@",x++;x<l;)if(t=a.charAt(x),t<" ")m();else if("\\"==t)if(t=a.charAt(++x),'\\"/btnfr'.indexOf(t)>-1)e+=d[t],x++;else if("u"==t){for(i=++x,n=x+4;x<n;x++)t=a.charAt(x),t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"||m();e+=f("0x"+a.slice(i,x))}else m();else{if('"'==t)break;e+=t,x++}if('"'==a.charAt(x))return x++,e}else{if(i=x,"-"==t&&(s=r,t=a.charAt(++x)),t>="0"&&t<="9"){for("0"==t&&(t=a.charAt(x+1),t>="0"&&t<="9")&&m();x<l&&(t=a.charAt(x),t>="0"&&t<="9");x++);if("."==a.charAt(x)){for(n=++x;n<l&&(t=a.charAt(n),t>="0"&&t<="9");n++);n==x&&m(),x=n}if(t=a.charAt(x),"e"==t||"E"==t){for(t=a.charAt(++x),("+"==t||"-"==t)&&x++,n=x;n<l&&(t=a.charAt(n),t>="0"&&t<="9");n++);n==x&&m(),x=n}return+a.slice(i,x)}if(s&&m(),"true"==a.slice(x,x+4))return x+=4,r;if("false"==a.slice(x,x+5))return x+=5,!1;if("null"==a.slice(x,x+4))return x+=4,o}m()}return"$"},v=function(t){var e,i;if("$"==t&&m(),"string"==typeof t){if("@"==t.charAt(0))return t.slice(1);if("["==t){for(e=[];t=g(),"]"!=t;i||(i=r))i&&(","==t?(t=g(),"]"==t&&m()):m()),","==t&&m(),e.push(v(t));return e}if("{"==t){for(e={};t=g(),"}"!=t;i||(i=r))i&&(","==t?(t=g(),"}"==t&&m()):m()),(","==t||"string"!=typeof t||"@"!=t.charAt(0)||":"!=g())&&m(),e[t.slice(1)]=v(g());return e}m()}return t},b=function(t,e,i){i=y(t,e,i),i===n?delete t[e]:t[e]=i},y=function(t,e,n){var r,o=t[e];if("object"==typeof o&&o)if("[object Array]"==s.call(o))for(r=o.length;r--;)b(o,r,n);else i(o,function(t){b(o,t,n)});return n.call(t,e,o)},l.parse=function(t,e){var i,n;return x=0,_=t,i=v(g()),"$"!=g()&&m(),x=_=o,e&&"[object Function]"==s.call(e)?y((n={},n[""]=i,n),"",e):i})),a&&define(function(){return l})}()}(),function(t,e){return"object"==typeof exports&&"object"==typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):void e((t.tern||(t.tern={})).signal={})}(this,function(t){function e(t,e){var i=this._handlers||(this._handlers=Object.create(null));(i[t]||(i[t]=[])).push(e)}function i(t,e){var i=this._handlers&&this._handlers[t];if(i)for(var n=0;n<i.length;++n)if(i[n]==e){i.splice(n,1);break}}function n(t,e){var i=t._handlers&&t._handlers[e];return i&&i.length?i.slice():a}function r(t,e,i,r,o){for(var s=n(this,t),a=0;a<s.length;++a)s[a].call(this,e,i,r,o)}function o(t,e,i,r,o){for(var s=n(this,t),a=0;a<s.length;++a){var l=s[a].call(this,e,i,r,o);if(l)return l}}function s(t){var e=this._handlers&&this._handlers[t];return e&&e.length>0&&e}var a=[];t.mixin=function(t){return t.on=e,t.off=i,t.signal=r,t.signalReturnFirst=o,t.hasHandler=s,t}}),function(t,e){return"object"==typeof exports&&"object"==typeof module?e(exports,require("./infer"),require("./signal"),require("acorn"),require("acorn/dist/walk")):"function"==typeof define&&define.amd?define(["exports","./infer","./signal","acorn/dist/acorn","acorn/dist/walk"],e):void e(t.tern||(t.tern={}),tern,tern.signal,acorn,acorn.walk)}(this,function(t,e,i,n,r){"use strict";function o(t,e){this.name=t,this.parent=e,this.scope=this.text=this.ast=this.lineOffsets=null}function s(t,i){var n={directSourceFile:i,allowReturnOutsideFunction:!0,allowImportExportEverywhere:!0,ecmaVersion:t.options.ecmaVersion,allowHashBang:!0},r=t.signalReturnFirst("preParse",i.text,n)||i.text,o=e.parse(r,n);return t.signal("postParse",o,r),o}function a(t,i,n){t.text=n.options.stripCRs?i.replace(/\r\n/g,"\n"):i,e.withContext(n.cx,function(){t.ast=s(n,t)}),t.lineOffsets=null}function l(t,i,n){if(i.query&&!G.hasOwnProperty(i.query.type))return n("No query type '"+i.query.type+"' defined");var r=i.query;r||n(null,{});var o=i.files||[];o.length&&++t.uses;for(var s=0;s<o.length;++s){var a=o[s];a.name=t.normalizeFilename(a.name),"delete"==a.type?t.delFile(a.name):u(t,a.name,null,"full"==a.type?a.text:null)}var l="number"==typeof i.timeout?[i.timeout]:null;if(!r)return void p(t,l,function(){});var c=G[r.type];if(c.takesFile){if("string"!=typeof r.file)return n(".query.file must be a string");/^#/.test(r.file)||u(t,r.file,null)}p(t,l,function(i){if(i)return n(i);var s=c.takesFile&&v(t,o,r.file);return c.fullFile&&"part"==s.type?n("Can't run a "+r.type+" query on a file fragment"):(e.resetGuessing(),void e.withContext(t.cx,function(){var i,o=function(){i=c.run(t,r,s)};try{l?e.withTimeout(l[0],o):o()}catch(a){return t.options.debug&&"TernError"!=a.name&&console.error(a.stack),n(a)}n(null,i)}))})}function c(t,i){return e.withContext(t.cx,function(){i.scope=t.cx.topScope,t.signal("beforeLoad",i),e.analyze(i.ast,i.name,i.scope),t.signal("afterLoad",i)}),i}function u(t,e,i,n){var r=t.findFile(e);if(r)return null!=n&&(r.scope&&(t.needsPurge.push(e),r.scope=null),a(r,n,t)),void(b(t,r.parent)>b(t,i)&&(r.parent=i,r.excluded&&(r.excluded=null)));var s=new o(e,i);t.files.push(s),t.fileMap[e]=s,null!=n?a(s,n,t):t.options.async?(t.startAsyncAction(),t.options.getFile(e,function(e,i){a(s,i||"",t),t.finishAsyncAction(e)})):a(s,t.options.getFile(e)||"",t)}function h(t,e,i){var n=function(){t.off("everythingFetched",n),clearTimeout(r),p(t,e,i)};t.on("everythingFetched",n);var r=setTimeout(n,t.options.fetchTimeout)}function p(t,i,n){if(t.pending)return h(t,i,n);var r=t.fetchError;if(r)return t.fetchError=null,n(r);t.needsPurge.length>0&&e.withContext(t.cx,function(){e.purge(t.needsPurge),t.needsPurge.length=0});for(var o=!0,s=0;s<t.files.length;){for(var a=[];s<t.files.length;++s){var l=t.files[s];null==l.text?o=!1:null!=l.scope||l.excluded||a.push(l)}a.sort(function(e,i){return b(t,e.parent)-b(t,i.parent)});for(var u=0;u<a.length;u++){var l=a[u];if(l.parent&&!_(t,l))l.excluded=!0;else if(i){var p=+new Date;try{e.withTimeout(i[0],function(){c(t,l)})}catch(r){if(r instanceof e.TimedOut)return n(r);throw r}i[0]-=+new Date-p}else c(t,l)}}o?n():h(t,i,n)}function f(t){var e=t.indexOf("\n");return e<0?t:t.slice(0,e)}function d(t,e,i){var n=Math.max(0,i-500),r=null;if(!/^\s*$/.test(t))for(;;){var o=e.indexOf(t,n);if(o<0||o>i+500)break;(null==r||Math.abs(r-i)>Math.abs(o-i))&&(r=o),n=o+t.length}return r}function m(t){for(var e=0;t;++e,t=t.prev);return e}function g(t){var e=new Error(t);return e.name="TernError",e}function v(t,i,n){var o=n.match(/^#(\d+)$/);if(!o)return t.findFile(n);var a=i[o[1]];if(!a||"delete"==a.type)throw g("Reference to unknown file "+n);if("full"==a.type)return t.fileMap[a.name];var l=a.backing=t.fileMap[a.name],c=a.offset;a.offsetLines&&(c={line:a.offsetLines,ch:0}),a.offset=c=Z(l,null==a.offsetLines?a.offset:{line:a.offsetLines,ch:0},!0);var u,h,p=f(a.text),v=d(p,l.text,c),y=null==v?Math.max(0,l.text.lastIndexOf("\n",c)):v;return e.withContext(t.cx,function(){e.purge(a.name,y,y+a.text.length);var i,n=a.text;if(i=n.match(/(?:"([^"]*)"|([\w$]+))\s*:\s*function\b/)){var o=r.findNodeAround(a.backing.ast,y,"ObjectExpression");o&&o.node.objType&&(u={type:o.node.objType,prop:i[2]||i[1]})}if(v&&(i=p.match(/^(.*?)\bfunction\b/))){for(var c=i[1].length,f="",d=0;d<c;++d)f+=" ";a.text=f+n.slice(c),h=!0}var g=e.scopeAt(l.ast,y,l.scope),b=e.scopeAt(l.ast,y+n.length,l.scope),x=a.scope=m(g)<m(b)?b:g;a.ast=s(t,a),e.analyze(a.ast,a.name,x);t:if(u||h){var _=e.scopeAt(a.ast,p.length,g);if(!_.fnType)break t;if(u){var w=u.type.getProp(u.prop);w.addType(_.fnType)}else if(h){var k=e.scopeAt(l.ast,y+p.length,l.scope);if(k==g||!k.fnType)break t;var C=k.fnType,S=_.fnType;if(!S||S.name!=C.name&&C.name)break t;for(var d=0,T=Math.min(C.args.length,S.args.length);d<T;++d)C.args[d].propagate(S.args[d]);C.self.propagate(S.self),S.retval.propagate(C.retval)}}}),a}function y(t){var e=0;return r.simple(t,{Expression:function(){++e}}),e}function b(t,e){for(var i=0;e;)e=t.fileMap[e].parent,++i;return i}function x(t,e){for(;;){var i=t.fileMap[e.parent];if(!i.parent)break;e=i}return e.name}function _(t,e){var i=x(t,e),n=y(e.ast),r=t.budgets[i];return null==r&&(r=t.budgets[i]=t.options.dependencyBudget),!(r<n)&&(t.budgets[i]=r-n,!0)}function w(t){return"number"==typeof t||"object"==typeof t&&"number"==typeof t.line&&"number"==typeof t.ch}function k(t){if(t.query){if("string"!=typeof t.query.type)return".query.type must be a string";if(t.query.start&&!w(t.query.start))return".query.start must be a position";if(t.query.end&&!w(t.query.end))return".query.end must be a position"}if(t.files){if(!Array.isArray(t.files))return"Files property must be an array";for(var e=0;e<t.files.length;++e){var i=t.files[e];if("object"!=typeof i)return".files[n] must be objects";if("string"!=typeof i.name)return".files[n].name must be a string";if("delete"!=i.type){if("string"!=typeof i.text)return".files[n].text must be a string";if("part"==i.type){if(!w(i.offset)&&"number"!=typeof i.offsetLines)return".files[n].offset must be a position"}else if("full"!=i.type)return'.files[n].type must be "full" or "part"'}}}}function C(t,e){for(var i=t.text,n=t.lineOffsets||(t.lineOffsets=[0]),r=0,o=0,s=Math.min(Math.floor(e/Q),n.length-1),r=n[s],o=s*Q;o<e;){if(++o,r=i.indexOf("\n",r)+1,0===r)return null;o%Q===0&&n.push(r)}return r}function S(t,e){if(!t)return{line:0,ch:0};for(var i,n,r=t.lineOffsets||(t.lineOffsets=[0]),o=t.text,s=r.length-1;s>=0;--s)r[s]<=e&&(i=s*Q,n=r[s]);for(;;){var a=o.indexOf("\n",n);if(a>=e||a<0)break;n=a+1,++i}return{line:i,ch:e-n}}function T(t){for(var e in t)null==t[e]&&delete t[e];return t}function E(t,e,i){null!=i&&(t[e]=i)}function A(t,e){"string"!=typeof t&&(t=t.name,e=e.name);var i=/^[A-Z]/.test(t),n=/^[A-Z]/.test(e);return i==n?t<e?-1:t==e?0:1:i?1:-1}function M(t,e,i){return"Literal"==t.type&&"string"==typeof t.value&&t.start==e-1&&t.end<=i+1}function L(t,e){for(var i=0;i<t.properties.length;i++){var n=t.properties[i];if(n.key.start<=e&&n.key.end>=e)return n}}function N(t,i,r){function o(e,n,r,o){if((!b&&i.omitObjectPrototype===!1||n!=t.cx.protos.Object||h)&&!(i.filter!==!1&&h&&0!==(i.caseInsensitive?e.toLowerCase():e).indexOf(h)||u&&u.props[e])){var s=it(i,p,e,n&&n.props[e],r);o&&s&&"string"!=typeof s&&o(s)}}if(null==i.end)throw g("missing .query.end field");var s=t.signalReturnFirst("completion",r,i);if(s)return s;for(var a=Z(r,i.end),l=a,c=r.text;a&&n.isIdentifierChar(c.charCodeAt(a-1));)--a;if(i.expandWordForward!==!1)for(;l<c.length&&n.isIdentifierChar(c.charCodeAt(l));)++l;var u,h=c.slice(a,l),p=[];i.caseInsensitive&&(h=h.toLowerCase());var f,d,m,v,y,b,x=e.findExpressionAround(r.ast,null,a,r.scope);if(x){var _=x.node;if("MemberExpression"==_.type&&_.object.end<a)y=x;else if(M(_,a,l)){var w=e.parentNode(_,r.ast);"MemberExpression"==w.type&&w.property==_&&(y={node:w,state:x.state})}else if("ObjectExpression"==_.type){var k=L(_,l);k?(b=x,d=v=k.key.name):h||/:\s*$/.test(r.text.slice(0,a))||(b=x,d=v=!0)}}if(b)m=e.typeFromContext(r.ast,b),u=b.node.objType;else if(y)d=y.node.property,d="Literal"==d.type?d.value.slice(1):d.name,y.node=y.node.object,m=e.expressionType(y);else if("."==c.charAt(a-1)){for(var C=a-1;C&&("."==c.charAt(C-1)||n.isIdentifierChar(c.charCodeAt(C-1)));)C--;var S=c.slice(C,a-1);S&&(m=e.def.parsePath(S,r.scope).getObjType(),d=h)}if(null!=d){if(t.cx.completingProperty=d,m&&e.forAllPropertiesOf(m,o),!p.length&&i.guess!==!1&&m&&m.guessProperties&&m.guessProperties(function(t,e,i){t!=d&&"✖"!=t&&o(t,e,i)}),!p.length&&h.length>=2&&i.guess!==!1)for(var d in t.cx.props)o(d,t.cx.props[d][0],0);f="memberCompletion"}else e.forAllLocalsAt(r.ast,a,r.scope,o),i.includeKeywords&&(t.options.ecmaVersion>=6?et:tt).forEach(function(t){o(t,null,0,function(t){t.isKeyword=!0})}),f="variableCompletion";return t.signal(f,r,a,l,o),i.sort!==!1&&p.sort(A),t.cx.completingProperty=null,{start:J(i,r,a),end:J(i,r,l),isProperty:!!d,isObjectKey:!!v,completions:p}}function P(t,e){var i=e.prefix,n=[];for(var r in t.cx.props)"<i>"==r||i&&0!==r.indexOf(i)||n.push(r);return e.sort!==!1&&n.sort(A),{completions:n}}function I(t,e){var i,n,r=t.body;return!!r&&(Array.isArray(r)?(i=r[0].start,n=r[r.length-1].end):(i=r.start,n=r.end),i<=e&&n>=e)}function D(t,e,i){var n=nt(t,e,i);if(n)return n;throw g("No expression at the given position.")}function O(t){return t&&(t=t.getType())&&t instanceof e.Obj?t:null}function R(t,i,n,r){var o;r&&(e.resetGuessing(),o=e.expressionType(r));var s=t.hasHandler("typeAt");if(s)for(var a=Z(n,i.end),l=0;l<s.length;l++)o=s[l](n,a,r,o);
if(!o)throw g("No type found at the given position.");var c;if("ObjectExpression"==r.node.type&&null!=i.end&&(c=L(r.node,Z(n,i.end)))){var u=c.key.name,h=O(e.typeFromContext(n.ast,r));if(h&&h.hasProp(u))o=h.hasProp(u);else{var p=O(o);p&&p.hasProp(u)&&(o=p.hasProp(u))}}return o}function F(t,i,n){var r,o=nt(n,i),s=R(t,i,n,o),a=s;if(s=i.preferFunction?s.getFunctionType()||s.getType():s.getType(),o&&("Identifier"==o.node.type?r=o.node.name:"MemberExpression"!=o.node.type||o.node.computed?"MethodDefinition"!=o.node.type||o.node.computed||(r=o.node.key.name):r=o.node.property.name),null!=i.depth&&"number"!=typeof i.depth)throw g(".query.depth must be a number");var l={guess:e.didGuess(),type:e.toString(a,i.depth),name:s&&s.name,exprName:r,doc:a.doc,url:a.url};return s&&z(i,s,l),T(l)}function H(t,e){if(!e)return null;if("full"==t.docFormat)return e;var i=/.\n[\s@\n]/.exec(e);if(i&&(e=e.slice(0,i.index+1)),e=e.replace(/\n\s*/g," "),e.length<100)return e;var n=/[\.!?] [A-Z]/g;n.lastIndex=80;var r=n.exec(e);return r&&(e=e.slice(0,r.index+1)),e}function j(t,i,n){var r=nt(n,i),o=R(t,i,n,r),s={url:o.url,doc:H(i,o.doc),type:e.toString(o)},a=o.getType();return a&&z(i,a,s),T(s)}function z(t,i,n){n.url||(n.url=i.url),n.doc||(n.doc=H(t,i.doc)),n.origin||(n.origin=i.origin);var r,o=e.cx().protos;!n.url&&!n.doc&&i.proto&&(r=i.proto.hasCtor)&&i.proto!=o.Object&&i.proto!=o.Function&&i.proto!=o.Array&&(n.url=r.url,n.doc=H(t,r.doc))}function W(t,i,n){var r=nt(n,i),o=R(t,i,n,r);if(e.didGuess())return{};var s=rt(o),a={url:o.url,doc:H(i,o.doc),origin:o.origin};if(o.types)for(var l=o.types.length-1;l>=0;--l){var c=o.types[l];z(i,c,a),s||(s=rt(c))}if(s&&s.node){var u=s.node.sourceFile||t.fileMap[s.origin],h=J(i,u,s.node.start),p=J(i,u,s.node.end);a.start=h,a.end=p,a.file=s.origin;var f=Math.max(0,s.node.start-50);a.contextOffset=s.node.start-f,a.context=u.text.slice(f,f+50)}else s&&(a.file=s.origin,ot(t,i,s,a));return T(a)}function B(t,i,n,r,o){function s(t){return function(e,n,r){var s={file:t.name,start:J(i,t,e.start),end:J(i,t,e.end)};if(o){for(var c=n;c!=l;c=c.prev){var h=c.hasProp(o);if(h)throw g("Renaming `"+a+"` to `"+o+"` would make a variable at line "+(S(t,e.start).line+1)+" point to the definition at line "+(S(t,h.name.start).line+1))}var p=r[r.length-2];p&&"Property"==p.type&&p.key==p.value&&(s.isShorthand=!0)}u.push(s)}}for(var a=r.node.name,l=r.state;l&&!(a in l.props);l=l.prev);if(!l)throw g("Could not find a definition for "+a);var c,u=[];if(l.originNode){if(c="local",o){for(var h=l.prev;h&&!(o in h.props);h=h.prev);h&&e.findRefs(l.originNode,l,o,h,function(t){throw g("Renaming `"+a+"` to `"+o+"` would shadow the definition used at line "+(S(n,t.start).line+1))})}e.findRefs(l.originNode,l,a,l,s(n))}else if(c="global",i.onlySourceFile)e.findRefs(n.ast,n.scope,a,l,s(n));else for(var p=0;p<t.files.length;++p){var f=t.files[p];e.findRefs(f.ast,f.scope,a,l,s(f))}return{refs:u,type:c,name:a}}function q(t,i,n,r,o){function s(t){return function(e){c.push({file:t.name,start:J(i,t,e.start),end:J(i,t,e.end)})}}var a=e.expressionType(r);"MethodDefinition"==r.node.type&&(a=a.propertyOf);var l=a.getObjType();if(!l)throw g("Couldn't determine type of base object.");var c=[];if(i.onlySourceFile)e.findPropRefs(n.ast,n.scope,l,o.name,s(n));else for(var u=0;u<t.files.length;++u){var h=t.files[u];e.findPropRefs(h.ast,h.scope,l,o.name,s(h))}return{refs:c,name:o.name}}function $(t,e,i){var n=D(i,e,!0);if(n&&"Identifier"==n.node.type)return B(t,e,i,n);if(n&&"MemberExpression"==n.node.type&&!n.node.computed){var r=n.node.property;return n.node=n.node.object,q(t,e,i,n,r)}if(n&&"ObjectExpression"==n.node.type)for(var o=Z(i,e.end),s=0;s<n.node.properties.length;++s){var a=n.node.properties[s].key;if(a.start<=o&&a.end>=o)return q(t,e,i,n,a)}else if(n&&"MethodDefinition"==n.node.type){var r=n.node.key;return q(t,e,i,n,r)}throw g("Not at a variable or property name.")}function U(t,e,i){if("string"!=typeof e.newName)throw g(".query.newName should be a string");var n=D(i,e);if(!n||"Identifier"!=n.node.type)throw g("Not at a variable.");var r=B(t,e,i,n,e.newName),o=r.refs;delete r.refs,r.files=t.files.map(function(t){return t.name});for(var s=r.changes=[],a=0;a<o.length;++a){var l=o[a];l.isShorthand?l.text=n.node.name+": "+e.newName:l.text=e.newName,s.push(l)}return r}function V(t){return{files:t.files.map(function(t){return t.name})}}var K=Object.create(null);t.registerPlugin=function(t,e){K[t]=e};var Y=t.defaultOptions={debug:!1,async:!1,getFile:function(t,e){this.async&&e(null,null)},normalizeFilename:function(t){return t},defs:[],plugins:{},fetchTimeout:1e3,dependencyBudget:2e4,reuseInstances:!0,stripCRs:!1,ecmaVersion:6,projectDir:"/",parent:null},G={completions:{takesFile:!0,run:N},properties:{run:P},type:{takesFile:!0,run:F},documentation:{takesFile:!0,run:j},definition:{takesFile:!0,run:W},refs:{takesFile:!0,fullFile:!0,run:$},rename:{takesFile:!0,fullFile:!0,run:U},files:{run:V}};t.defineQueryType=function(t,e){G[t]=e},o.prototype.asLineChar=function(t){return S(this,t)};var X=t.Server=function(t){this.cx=null,this.options=t||{};for(var e in Y)t.hasOwnProperty(e)||(t[e]=Y[e]);this.projectDir=t.projectDir.replace(/\\/g,"/"),/\/$/.test(this.projectDir)||(this.projectDir+="/"),this.parent=t.parent,this.handlers=Object.create(null),this.files=[],this.fileMap=Object.create(null),this.needsPurge=[],this.budgets=Object.create(null),this.uses=0,this.pending=0,this.asyncError=null,this.mod={},this.defs=t.defs.slice(0),this.plugins=Object.create(null);for(var i in t.plugins)t.plugins.hasOwnProperty(i)&&this.loadPlugin(i,t.plugins[i]);this.reset()};X.prototype=i.mixin({addFile:function(t,e,i){!i||i in this.fileMap||(i=null),t in this.fileMap||(t=this.normalizeFilename(t)),u(this,t,i,e)},delFile:function(t){var e=this.findFile(t);if(e){this.needsPurge.push(e.name);for(var i=0;i<this.files.length;i++)this.files[i]==e?this.files.splice(i--,1):this.files[i].parent==t&&(this.files[i].parent=null);delete this.fileMap[e.name]}},reset:function(){this.signal("reset"),this.cx=new e.Context(this.defs,this),this.uses=0,this.budgets=Object.create(null);for(var t=0;t<this.files.length;++t){var i=this.files[t];i.scope=null}this.signal("postReset")},request:function(t,e){var i=k(t);if(i)return e(i);var n=this;l(this,t,function(t,i){e(t,i),n.uses>40&&(n.reset(),p(n,null,function(){}))})},findFile:function(t){return this.fileMap[this.normalizeFilename(t)]},flush:function(t){var i=this.cx;p(this,null,function(n){return n?t(n):void e.withContext(i,t)})},startAsyncAction:function(){++this.pending},finishAsyncAction:function(t){t&&(this.asyncError=t),0===--this.pending&&this.signal("everythingFetched")},addDefs:function(t,e){e?this.defs.unshift(t):this.defs.push(t),this.cx&&this.reset()},deleteDefs:function(t){for(var e=0;e<this.defs.length;e++)if(this.defs[e]["!name"]==t)return this.defs.splice(e,1),void(this.cx&&this.reset())},loadPlugin:function(t,e){if(1==arguments.length&&(e=this.options.plugins[t]||!0),!(t in this.plugins)&&t in K&&e){this.plugins[t]=!0;var i=K[t](this,e);if(i&&(i.defs&&this.addDefs(i.defs,i.loadFirst),i.passes))for(var n in i.passes)i.passes.hasOwnProperty(n)&&this.on(n,i.passes[n])}},normalizeFilename:function(t){var e=this.options.normalizeFilename(t).replace(/\\/g,"/");return 0==e.indexOf(this.projectDir)&&(e=e.slice(this.projectDir.length)),e}});var Q=25,Z=t.resolvePos=function(t,e,i){if("number"!=typeof e){var n=C(t,e.line);if(null==n){if(!i)throw g("File doesn't contain a line "+e.line);e=t.text.length}else e=n+e.ch}if(e>t.text.length){if(!i)throw g("Position "+e+" is outside of file.");e=t.text.length}return e},J=t.outputPos=function(t,e,i){if(t.lineCharPositions){var n=S(e,i);return"part"==e.type&&(n.line+=null!=e.offsetLines?e.offsetLines:S(e.backing,e.offset).line),n}return i+("part"==e.type?e.offset:0)},tt="break do instanceof typeof case else new var catch finally return void continue for switch while debugger function this with default if throw delete in try".split(" "),et=tt.concat("export class extends const super yield import let static".split(" ")),it=t.addCompletion=function(t,i,n,r,o){for(var s=t.types||t.docs||t.urls||t.origins,a=s||t.depths,l=0;l<i.length;++l){var c=i[l];if((a?c.name:c)==n)return}var u=a?{name:n}:n;if(i.push(u),r&&s){e.resetGuessing();var h=r.getType();u.guess=e.didGuess(),t.types&&(u.type=e.toString(r)),t.docs&&E(u,"doc",H(t,r.doc||h&&h.doc)),t.urls&&E(u,"url",r.url||h&&h.url),t.origins&&E(u,"origin",r.origin||h&&h.origin)}return t.depths&&(u.depth=o||0),u},nt=t.findQueryExpr=function(t,i,n){if(null==i.end)throw g("missing .query.end field");if(i.variable){var r=e.scopeAt(t.ast,Z(t,i.end),t.scope);return{node:{type:"Identifier",name:i.variable,start:i.end,end:i.end+1},state:r}}var o=i.start&&Z(t,i.start),s=Z(t,i.end),a=e.findExpressionAt(t.ast,o,s,t.scope);if(!a){var l=e.findExpressionAround(t.ast,o,s,t.scope);l&&!I(l.node,s)&&("ObjectExpression"==l.node.type||n||(null==o?s:o)-l.node.start<20||l.node.end-s<20)&&(a=l)}return a},rt=t.getSpan=function(t){if(t.origin){if(t.originNode){var e=t.originNode;return/^Function/.test(e.type)&&e.id&&(e=e.id),{origin:t.origin,node:e}}return t.span?{origin:t.origin,span:t.span}:void 0}},ot=t.storeSpan=function(t,e,i,n){if(n.origin=i.origin,i.span){var r=/^(\d+)\[(\d+):(\d+)\]-(\d+)\[(\d+):(\d+)\]$/.exec(i.span);n.start=e.lineCharPositions?{line:Number(r[2]),ch:Number(r[3])}:Number(r[1]),n.end=e.lineCharPositions?{line:Number(r[5]),ch:Number(r[6])}:Number(r[4])}else{var o=t.fileMap[i.origin];n.start=J(e,o,i.node.start),n.end=J(e,o,i.node.end)}};t.version="0.19.0"}),function(t){return"object"==typeof exports&&"object"==typeof module?exports.init=t:"function"==typeof define&&define.amd?define({init:t}):void(tern.def={init:t})}(function(t,e){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(t,e,i){return t.call?t(e,i):t}function r(t,i){if("!ret"==i){if(t.retval)return t.retval;var n=new e.AVal;return t.propagate(new e.IsCallee(e.ANull,[],null,n)),n}return t.getProp(i)}function o(t,i,r,o){return function(s,a){for(var l=[],c=0;c<i.length;c++)l.push(n(i[c],s,a));return new e.Fn(t,e.ANull,l,n(r,s,a),o)}}function s(t){return function(i,r){for(var o=new e.AVal,s=0;s<t.length;s++)n(t[s],i,r).propagate(o);return o.maxWeight=1e5,o}}function a(t){return function(i,n){return new e.Arr(t(i,n))}}function l(t){return function(i,r){return new e.Arr(t.map(function(t){return n(t,i,r)}))}}function c(t){if(t instanceof e.Fn&&t.args)for(var i=0;i<t.args.length;++i){var n=t.args[i];n instanceof e.Fn&&n.args&&n.args.length&&u(t,i)}}function u(t,i){p(t,function(n,r){r[i]&&r[i].propagate(new e.IsCallee(e.cx().topScope,t.args[i].args,null,e.ANull))})}function h(t,i,n,r){var o=new x(t,null,n,r).parseType(!1,i,!0);return o instanceof e.AVal?o.types.forEach(c):c(o),o}function p(t,e,i){var n=t.computeRet,r=t.retval;t.computeRet=function(t,o,s){var a=e(t,o,s),l=n?n(t,o,s):r;return i?a:l}}function f(t,i){for(var n=0;n<i.length&&t!=e.ANull;++n){var r=i[n];if("!"==r.charAt(0))if("!proto"==r)t=t instanceof e.Obj&&t.proto||e.ANull;else{var o=t.getFunctionType();if(o)if("!ret"==r)t=o.retval&&o.retval.getType(!1)||e.ANull;else{var s=o.args&&o.args[Number(r.slice(1))];t=s&&s.getType(!1)||e.ANull}else t=e.ANull}else if(t instanceof e.Obj&&("prototype"==r&&t instanceof e.Fn||t.hasProp(r))){var a=t.getProp(r);t=!a||a.isEmpty()?e.ANull:a.types[0]}else t=e.ANull}return t}function d(t){var e=Object.create(t.prototype);return e.props=Object.create(null),e.isShell=!0,e}function m(t){if(!t["!type"]||/^(fn\(|\[|\+)/.test(t["!type"]))return!1;for(var e in t)if("!type"!=e&&"!doc"!=e&&"!url"!=e&&"!span"!=e&&"!data"!=e)return!1;return!0}function g(t,n,r){if(!t){var o=n["!type"];if(o)if(/^fn\(/.test(o))t=d(e.Fn);else if("["==o.charAt(0))t=d(e.Arr);else{if("+"!=o.charAt(0))throw new Error("Invalid !type spec: "+o);t=d(e.Obj)}else t=n["!stdProto"]?e.cx().protos[n["!stdProto"]]:d(e.Obj);t.name=r}for(var s in n)if(i(n,s)&&33!=s.charCodeAt(0)){var a=n[s];if("string"==typeof a||m(a))continue;var l=t.defProp(s);g(l.getObjType(),a,r?r+"."+s:s).propagate(l)}return t}function v(t,n,r){if(t.isShell){delete t.isShell;var o=n["!type"];if(o)h(o,r,t);else{var s=n["!proto"]&&h(n["!proto"]);e.Obj.call(t,!(s instanceof e.Obj)||s,r)}}var a=n["!effects"];if(a&&t instanceof e.Fn)for(var l=0;l<a.length;++l)w(a[l],t);y(n,t);for(var c in n)if(i(n,c)&&33!=c.charCodeAt(0)){var u=n[c],p=t.defProp(c),f=r?r+"."+c:c;if("string"==typeof u)p.isEmpty()&&h(u,f).propagate(p);else{if(m(u)){if(!p.isEmpty())continue;h(u["!type"],f,null,!0).propagate(p)}else v(p.getObjType(),u,f);u["!doc"]&&(p.doc=u["!doc"]),u["!url"]&&(p.url=u["!url"]),u["!span"]&&(p.span=u["!span"])}}return t}function y(t,e){t["!doc"]&&(e.doc=t["!doc"]),t["!url"]&&(e.url=t["!url"]),t["!span"]&&(e.span=t["!span"]),t["!data"]&&(e.metaData=t["!data"])}function b(t,i){var n=e.cx(),r=n.parent;e.addOrigin(n.curOrigin=t["!name"]||"env#"+n.origins.length),n.localDefs=n.definitions[n.curOrigin]=Object.create(null),r&&r.signal("preLoadDef",t),g(i,t);var o=t["!define"];if(o){for(var s in o){var a=o[s];n.localDefs[s]="string"==typeof a?k(a):g(null,a,s)}for(var s in o){var a=o[s];"string"!=typeof a&&v(n.localDefs[s],o[s],s)}}v(i,t),r&&r.signal("postLoadDef",t),n.curOrigin=n.localDefs=null}var x=t.TypeParser=function(t,e,i,n){this.pos=e||0,this.spec=t,this.base=i,this.forceNew=n};x.prototype={eat:function(t){if(1==t.length?this.spec.charAt(this.pos)==t:this.spec.indexOf(t,this.pos)==this.pos)return this.pos+=t.length,!0},word:function(t){for(var e,i="",t=t||/[\w$]/;(e=this.spec.charAt(this.pos))&&t.test(e);)i+=e,++this.pos;return i},error:function(){throw new Error("Unrecognized type spec: "+this.spec+" (at "+this.pos+")")},parseFnType:function(t,i,n,r){var s=[],a=[],l=!1;if(!this.eat(")"))for(var c=0;;++c){var u,h=this.spec.indexOf(": ",this.pos);h!=-1&&(u=this.spec.slice(this.pos,h),/^[$\w?]+$/.test(u)?this.pos=h+2:u=null),a.push(u);var p=this.parseType(t);if(p.call&&(l=!0),s.push(p),!this.eat(", ")){this.eat(")")||this.error();break}}var f,d,m,g;if(this.eat(" -> ")){var v=this.pos;f=this.parseType(!0),f.call&&!l&&(d=f,f=e.ANull,m=v)}else f=e.ANull;return l?o(i,s,f,r):(n&&(g=this.base)?e.Fn.call(this.base,i,e.ANull,s,a,f,r):g=new e.Fn(i,e.ANull,s,a,f,r),d&&(g.computeRet=d),null!=m&&(g.computeRetSource=this.spec.slice(m,this.pos)),g)},parseType:function(t,i,n){var r=this.parseTypeMaybeProp(t,i,n);if(!this.eat("|"))return r;for(var o=[r],a=r.call;;){var l=this.parseTypeMaybeProp(t,i,n);if(o.push(l),l.call&&(a=!0),!this.eat("|"))break}if(a)return s(o);for(var c=new e.AVal,u=0;u<o.length;u++)o[u].propagate(c);return c.maxWeight=1e5,c},parseTypeMaybeProp:function(t,e,i){for(var n=this.parseTypeInner(t,e,i);t&&this.eat(".");)n=this.extendWithProp(n);return n},extendWithProp:function(t){var e=this.word(/[\w<>$!:]/)||this.error();return t.apply?function(i,n){return r(t(i,n),e)}:r(t,e)},parseTypeInner:function(t,i,n){var r;if(this.eat("fn(")||(r=this.eat("fn*(")))return this.parseFnType(t,i,n,r);if(this.eat("[")){for(var o,s=this.parseType(t),c=s.call;this.eat(", ");){o||(o=[s]);var u=this.parseType(t);o.push(u),c=c||u.call}return this.eat("]")||this.error(),c?o?l(o):a(s):n&&this.base?(e.Arr.call(this.base,o||s),this.base):new e.Arr(o||s)}if(this.eat("+")){var h=this.word(/[\w$<>\.:!]/),p=e.cx().localDefs[h+".prototype"];if(!p){var p=k(h);if(!(p instanceof e.Obj))return p;var d=f(p,["prototype"]);d&&(d=d.getObjType())&&(p=d)}if(t&&this.eat("["))return this.parsePoly(p);if(n&&this.base){this.base.proto=p;var i=p.hasCtor&&p.hasCtor.name||p.name;return i&&(this.base.name=i),this.base}return n&&this.forceNew?new e.Obj(p):e.getInstance(p)}if(this.eat(":")){var i=this.word(/[\w$\.]/);return e.getSymbol(i)}if(t&&this.eat("!")){var m=this.word(/\d/);if(m)return m=Number(m),function(t,i){return i[m]||e.ANull};if(this.eat("this"))return function(t){return t};if(this.eat("custom:")){var g=this.word(/[\w$]/);return C[g]||function(){return e.ANull}}return this.fromWord("!"+this.word(/[\w$<>\.!:]/))}return this.eat("?")?e.ANull:this.fromWord(this.word(/[\w$<>\.!:`]/))},fromWord:function(t){var i=e.cx();switch(t){case"number":return i.num;case"string":return i.str;case"bool":return i.bool;case"<top>":return i.topScope}return i.localDefs&&t in i.localDefs?i.localDefs[t]:k(t)},parsePoly:function(t){var i,n="<i>";(i=this.spec.slice(this.pos).match(/^\s*([\w$:]+)\s*=\s*/))&&(n=i[1],this.pos+=i[0].length);var r=this.parseType(!0);if(this.eat("]")||this.error(),r.call)return function(i,o){var s=new e.Obj(t);return r(i,o).propagate(s.defProp(n)),s};var o=new e.Obj(t);return r.propagate(o.defProp(n)),o}};var _,w=t.parseEffect=function(t,i){var r;if(0==t.indexOf("propagate ")){var o=new x(t,10),s=o.parseType(!0);o.eat(" ")||o.error();var a=o.parseType(!0);p(i,function(t,e){n(s,t,e).propagate(n(a,t,e))})}else if(0==t.indexOf("call ")){var l=5==t.indexOf("and return ",5),o=new x(t,l?16:5),c=o.parseType(!0),u=null,h=[];for(o.eat(" this=")&&(u=o.parseType(!0));o.eat(" ");)h.push(o.parseType(!0));p(i,function(t,i){for(var r=n(c,t,i),o=u?n(u,t,i):e.ANull,s=[],a=0;a<h.length;++a)s.push(n(h[a],t,i));var p=l?new e.AVal:e.ANull;return r.propagate(new e.IsCallee(o,s,null,p)),p},l)}else if(r=t.match(/^custom (\S+)\s*(.*)/)){var f=C[r[1]];f&&p(i,r[2]?f(r[2]):f)}else{if(0!=t.indexOf("copy "))throw new Error("Unknown effect type: "+t);var o=new x(t,5),d=o.parseType(!0);o.eat(" ");var m=o.parseType(!0);p(i,function(t,i){var r=n(d,t,i),o=n(m,t,i);r.forAllProps(function(t,i,n){n&&"<i>"!=t&&o.propagate(new e.DefProp(t,i))})})}},k=t.parsePath=function(t,i){var n=e.cx(),r=n.paths[t],o=t;if(null!=r)return r;n.paths[t]=e.ANull;var s=i||_||n.topScope;if(n.localDefs)for(var a in n.localDefs)if(0==t.indexOf(a)){if(t==a)return n.paths[t]=n.localDefs[t];if("."==t.charAt(a.length)){s=n.localDefs[a],t=t.slice(a.length+1);break}}var l=f(s,t.split("."));return n.paths[o]=l==e.ANull?null:l,l};t.load=function(t,i){i||(i=e.cx().topScope);var n=_;_=i;try{b(t,i)}finally{_=n}},t.parse=function(t,i,n){var r=e.cx();i&&(r.origin=i,r.localDefs=r.definitions[i]);try{return"string"==typeof t?h(t,n):v(g(null,t,n),t,n)}finally{i&&(r.origin=r.localDefs=null)}};var C=Object.create(null);e.registerFunction=function(t,e){C[t]=e};var S=e.constraint({construct:function(t,e,i){this.created=t,this.target=e,this.spec=i},addType:function(t){if(t instanceof e.Obj&&this.created++<5){var i=new e.Obj(t),n=this.spec;if(n instanceof e.AVal&&(n=n.getObjType(!1)),n instanceof e.Obj)for(var r in n.props){var o=n.props[r].types[0],s=i.defProp(r);if(o&&o instanceof e.Obj&&o.props.value){var a=o.props.value.getType(!1);a&&s.addType(a)}}this.target.addType(i)}}});e.registerFunction("Object_create",function(t,i,n){if(n&&n.length&&"Literal"==n[0].type&&null==n[0].value)return new e.Obj;var r=new e.AVal;return i[0]&&i[0].propagate(new S(0,r,i[1])),r});var T=e.constraint({construct:function(t){this.target=t},addType:function(t){t instanceof e.Obj&&(t.hasProp("value")?t.getProp("value").propagate(this.target):t.hasProp("get")&&t.getProp("get").propagate(new e.IsCallee(e.ANull,[],null,this.target)))}});e.registerFunction("Object_defineProperty",function(t,i,n){if(n&&n.length>=3&&"Literal"==n[1].type&&"string"==typeof n[1].value){var r=i[0],o=new e.AVal;r.propagate(new e.DefProp(n[1].value,o,n[1])),i[2].propagate(new T(o))}return e.ANull}),e.registerFunction("Object_defineProperties",function(t,i,n){if(i.length>=2){var r=i[0];i[1].forAllProps(function(t,i,o){if(o){var s=new e.AVal;r.propagate(new e.DefProp(t,s,n&&n[1])),i.propagate(new T(s))}})}return e.ANull});var E=e.constraint({construct:function(t,e,i){this.self=t,this.args=e,this.target=i},addType:function(t){if(t instanceof e.Fn){this.target.addType(new e.Fn(t.name,e.ANull,t.args.slice(this.args.length),t.argNames.slice(this.args.length),t.retval,t.generator)),this.self.propagate(t.self);for(var i=0;i<Math.min(t.args.length,this.args.length);++i)this.args[i].propagate(t.args[i])}}});e.registerFunction("Function_bind",function(t,i){if(!i.length)return e.ANull;var n=new e.AVal;return t.propagate(new E(i[0],i.slice(1),n)),n}),e.registerFunction("Array_ctor",function(t,i){var n=new e.Arr;if(1!=i.length||!i[0].hasType(e.cx().num))for(var r=n.getProp("<i>"),o=0;o<i.length;++o)i[o].propagate(r);return n}),e.registerFunction("Promise_ctor",function(t,i,n){var r=e.cx().definitions.ecma6;if(!r||i.length<1)return e.ANull;var o=new e.Obj(r["Promise.prototype"]),s=o.defProp(":t",n&&n[0]),a=new e.AVal;a.propagate(s);var l=new e.Fn("execute",e.ANull,[a],["value"],e.ANull),c=r.Promise_reject;return i[0].propagate(new e.IsCallee(e.ANull,[l,c],null,e.ANull)),o});var A=e.constraint({construct:function(t){this.output=t},addType:function(t){t.constructor==e.Obj&&"Promise"==t.name&&t.hasProp(":t")?t.getProp(":t").propagate(this.output):t.propagate(this.output)}}),M=50;return e.registerFunction("Promise_then",function(t,i,n){var r=i.length&&i[0].getFunctionType(),o=e.cx().definitions.ecma6;if(!r||!o)return t;var s,a=new e.Obj(o["Promise.prototype"]),l=a.defProp(":t",n&&n[0]);return r.retval.isEmpty()&&(s=t.getType())instanceof e.Obj&&s.hasProp(":t")&&s.getProp(":t").propagate(l,M),r.retval.propagate(new A(l)),a}),e.registerFunction("getOwnPropertySymbols",function(t,i){if(!i.length)return e.ANull;var n=new e.AVal;return i[0].forAllProps(function(t,i,r){r&&":"==t.charAt(0)&&n.addType(e.getSymbol(t.slice(1)))}),n}),e.registerFunction("getSymbol",function(t,i,n){return n.length&&"Literal"==n[0].type&&"string"==typeof n[0].value?e.getSymbol(n[0].value):e.ANull}),t}),function(t){return"object"==typeof exports&&"object"==typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):void t(tern.comment||(tern.comment={}))}(function(t){function e(t){return t<14&&t>8||32===t||160===t}function i(t,i){for(;i>0;--i){var n=t.charCodeAt(i-1);if(10==n)break;if(!e(n))return!1}return!0}t.commentsBefore=function(t,n){var r,o=null,s=0;t:for(;n>0;){var a=t.charCodeAt(n-1);if(10==a)for(var l=--n,c=!1;l>0;--l){if(a=t.charCodeAt(l-1),47==a&&47==t.charCodeAt(l-2)){if(!i(t,l-2))break t;var u=t.slice(l,n);!s&&r?o[0]=u+"\n"+o[0]:(o||(o=[])).unshift(u),r=!0,s=0,n=l-2;break}if(10==a){if(!c&&++s>1)break t;break}c||e(a)||(c=!0)}else if(47==a&&42==t.charCodeAt(n-2)){for(var l=n-2;l>1;--l)if(42==t.charCodeAt(l-1)&&47==t.charCodeAt(l-2)){if(!i(t,l-2))break t;(o||(o=[])).unshift(t.slice(l,n-2)),r=!1,s=0;break}n=l-2}else{if(!e(a))break;--n}}return o},t.commentAfter=function(t,i){for(;i<t.length;){var n=t.charCodeAt(i);if(47==n){var r,o=t.charCodeAt(i+1);if(47==o)r=t.indexOf("\n",i+2);else{if(42!=o)return;r=t.indexOf("*/",i+2)}return t.slice(i+2,r<0?t.length:r)}e(n)&&++i}},t.ensureCommentsBefore=function(e,i){return i.hasOwnProperty("commentsBefore")?i.commentsBefore:i.commentsBefore=t.commentsBefore(e,i.start)}}),function(t,e){return"object"==typeof exports&&"object"==typeof module?e(exports,require("acorn"),require("acorn/dist/acorn_loose"),require("acorn/dist/walk"),require("./def"),require("./signal")):"function"==typeof define&&define.amd?define(["exports","acorn/dist/acorn","acorn/dist/acorn_loose","acorn/dist/walk","./def","./signal"],e):void e(t.tern||(t.tern={}),acorn,acorn,acorn.walk,tern.def,tern.signal)}(this,function(t,e,i,n,r,o){"use strict";function s(t,e){var i=Object.create(t);if(e)for(var n in e)i[n]=e[n];return i}function a(t,e,i){var n=t.getType(!1),r=e.getType(!1);return!n||!r||l(n,r,i)}function l(t,e,i){if(!t||i>=5)return e;if(!t||t==e)return t;if(!e)return t;if(t.constructor!=e.constructor)return!1;if(t.constructor!=At){if(t.constructor==St){var n=0,r=0,o=0;for(var s in t.props)n++,s in e.props&&a(t.props[s],e.props[s],i+1)&&o++;for(var s in e.props)r++;return!(n&&r&&o<Math.max(n,r)/2)&&(n>r?t:e)}return t.constructor==Et&&(!!(t.args.length==e.args.length&&t.args.every(function(t,n){return a(t,e.args[n],i+1)})&&a(t.retval,e.retval,i+1)&&a(t.self,e.self,i+1))&&t)}var c=t.getProp("<i>").getType(!1);if(!c)return e;var u=e.getProp("<i>").getType(!1);return!u||l(c,u,i+1)?e:void 0}function c(t){for(var e=0,i=0,n=0,r=null,o=0;o<t.length;++o){var s=t[o];if(s instanceof At)++e;else if(s instanceof Et)++i;else if(s instanceof St)++n;else if(s instanceof Ct){if(r&&s.name!=r.name)return null;r=s}}var a=(e&&1)+(i&&1)+(n&&1)+(r&&1);if(a>1)return null;if(r)return r;for(var l=0,c=null,o=0;o<t.length;++o){var s=t[o],u=0;if(e)u=s.getProp("<i>").isEmpty()?1:2;else if(i){u=1;for(var h=0;h<s.args.length;++h)s.args[h].isEmpty()||++u;s.retval.isEmpty()||++u}else n&&(u=s.name?100:2);u>=l&&(l=u,c=s)}return c}function u(t,e){Lt.disabledComputing={fn:t,prev:Lt.disabledComputing};var i=e();return Lt.disabledComputing=Lt.disabledComputing.prev,i}function h(t){var e=t.charCodeAt(0);return e>=48&&e<=57&&!/\D/.test(t)}function p(t){return"__proto__"==t||"✖"==t||Tt&&"__iterator__"==t}function f(t,e){var i=Lt.props[t]||(Lt.props[t]=[]);i.push(e)}function d(t){return Lt.props[t]}function m(e){if(Lt.workList)return e(Lt.workList);for(var i=[],n=0,r=Lt.workList=function(t,e,r){n<Pt-It*i.length&&i.push(t,e,r,n)},o=e(r),s=0;s<i.length;s+=4){if(Nt&&+new Date>=Nt)throw new t.TimedOut;n=i[s+3]+1,i[s+1].addType(i[s],i[s+2])}return Lt.workList=null,o}function g(t,e,i){var n=Lt.curSuperCtor,r=Lt.curSuper;Lt.curSuperCtor=t,Lt.curSuper=e;var o=i();return Lt.curSuperCtor=n,Lt.curSuper=r,o}function v(t,e){for(;t.isBlock||t.isCatch||e===!1&&t.fnType&&t.fnType.isArrowFn();)t=t.prev;return t}function y(t,e){var i=v(t).fnType;i&&(i.instantiateScore=(i.instantiateScore||0)+e)}function b(t,e){try{return n.simple(t,{Expression:function(){if(--e<=0)throw Ot}}),!0}catch(i){if(i==Ot)return!1;throw i}}function x(t,e){var i=e.instantiateScore;return!Lt.disabledComputing&&i&&e.args.length&&b(t,5*i)?(y(v(e.originNode.scope.prev),i/2),_(t,e),!0):void(e.instantiateScore=null)}function _(t,e){for(var i=0;i<e.args.length;++i)e.args[i]=new st;e.self=new st,e.computeRet=function(i,r){return u(e,function(){var o=Lt.curOrigin;Lt.curOrigin=e.origin;var s=t.scope,a=new Dt(s.prev,s.originNode);for(var l in s.props)for(var c=a.defProp(l,s.props[l].originNode),u=0;u<r.length;++u)e.argNames[u]==l&&u<r.length&&r[u].propagate(c);for(var h=e.argNames.length!=r.length?e.argNames.slice(0,r.length):e.argNames;h.length<r.length;)h.push("?");if(a.fnType=new Et(e.name,i,r,h,X,e.generator),a.fnType.originNode=e.originNode,e.arguments){var p=a.fnType.arguments=new st;a.defProp("arguments").addType(new At(p));for(var u=0;u<r.length;++u)r[u].propagate(p)}return t.scope=a,n.recursive(t.body,a,null,Rt),n.recursive(t.body,a,null,zt),Lt.curOrigin=o,a.fnType.retval})}}function w(t){function e(t,n,r){if(!(r>3)&&t.forward)for(var o=0;o<t.forward.length;++o){var s=t.forward[o].propagatesTo();if(s){var a,l=n;if(s instanceof st)a=s;else{if(!(s.target instanceof st))continue;l+=s.pathExt,a=s.target}if(a==i)return l;var c=e(a,l,r+1);if(c)return c}}}var i=t.retval;if(i!=X&&!t.isArrowFn()){var n,o;!i.isEmpty()&&(n=i.getType())instanceof At&&(i=o=n.getProp("<i>"));for(var s=e(t.self,"!this",0),a=0;!s&&a<t.args.length;++a)s=e(t.args[a],"!"+a,0);if(s){o&&(s="["+s+"]");var l=new r.TypeParser(s),c=l.parseType(!0);return t.computeRet=c.apply?c:function(){return c},t.computeRetSource=s,!0}}}function k(t,e){return t.defProp(e.name,e)}function C(t){return"Identifier"==t.type?t.name:"AssignmentPattern"==t.type?C(t.left):"ObjectPattern"==t.type?"{"+t.properties.map(function(t){return C(t.value)}).join(", ")+"}":"ArrayPattern"==t.type?"["+t.elements.map(function(t){return t?C(t):""}).join(", ")+"]":"RestElement"==t.type?"..."+C(t.argument):"_"}function S(t){return"VariableDeclaration"==t.type&&"var"!=t.kind||"FunctionDeclaration"==t.type||"ClassDeclaration"==t.type}function T(t,e){return{inner:t,outer:e||t}}function E(t){var e=t.getSymbolType();if(e)return e.asPropName()}function A(t){switch(t){case"+":case"-":case"~":return Lt.num;case"!":return Lt.bool;case"typeof":return Lt.str;case"void":case"delete":return X}}function M(t){switch(t){case"==":case"!=":case"===":case"!==":case"<":case">":case">=":case"<=":case"in":case"instanceof":return!0}}function L(t){if(t.regex)return mt(Lt.protos.RegExp);switch(typeof t.value){case"boolean":return Lt.bool;case"number":return Lt.num;case"string":return Lt.str;case"object":case"function":return t.value?mt(Lt.protos.RegExp):X}}function N(t,e){if(t==e||e==X)return t;if(t==X)return e;var i=new st;return t.propagate(i),e.propagate(i),i}function P(t,e){for(var i=0;i<t.params.length;i++){var n=t.params[i];"Identifier"!=n.type&&D(n,e,t.scope.fnType.args[i])}}function I(t,e){return e.hasProp(t.name)||Lt.topScope.defProp(t.name,t)}function D(t,e,i){var n=Ht[t.type];n&&n(t,e,i)}function O(t){var e=v(t);return e.fnType?e.fnType.self:e}function R(t){t.isEmpty()&&t.propertyOf&&(t.propertyOf.getProp(t.propertyName).addType(new St,it),R(t.propertyOf))}function F(t,e,i){!i&&t.id&&(i=t.id.name);var n,r,o=Lt.protos.Object;if(t.superClass)if("Literal"==t.superClass.type&&null==t.superClass.value)o=null;else{var s,a=W(t.superClass,e);n=a.getFunctionType(),n&&(s=n.getProp("prototype").getObjType())?o=s:(n=a,r=a.getProp("prototype"))}var l=new St(o,i&&i+".prototype");return r&&r.propagate(new _t(l)),g(n,r||o,function(){for(var n,r=t.body.body,o=0;o<r.length;o++)"constructor"==r[o].kind&&(n=r[o].value);var s=t.objType=n?W(n,e):new Et(i,X,[],null,X);s.originNode=t.id||n||t;var a=mt(l,s);s.self.addType(a),s.defProp("prototype",t).addType(l);for(var o=0;o<r.length;o++){var c,u=r[o];if("constructor"!=u.kind){var h=Ft(u,e);"<i>"==h||"set"==u.kind?c=X:(c=(u["static"]?s:l).defProp(h,u.key),c.initializer=!0,"get"==u.kind&&(c=new pt(a,[],null,c))),W(u.value,e,c);var p=c.getFunctionType();p&&p.self.addType(a)}}return s})}function H(t,e,i){var n=t.length>1&&t.length<6;if(n){for(var r,o=!0,s=0;s<t.length;s++){var a=t[s];a?"Literal"!=a.type||r&&r!=typeof a.value?o=!1:r=typeof a.value:n=!1}o&&(n=!1)}if(n){for(var l=[],s=0;s<t.length;++s)l.push(i(t[s],e));return new At(l)}if(t.length<2)return new At(t[0]&&i(t[0],e));for(var c=new st,s=0;s<t.length;s++)t[s]&&i(t[s],e).propagate(c);return new At(c)}function j(t){return function(e,i,n,r){var o=t(e,i,r);return n&&o.propagate(n),o}}function z(t){return function(e,i,n,r){return n||(n=new st),t(e,i,n,r),n}}function W(t,e,i,n){var r=jt[t.type];return r?r(t,e,i,n):X}function B(t){return"VariableDeclaration"==t.type?t.declarations[0].id:t}function q(t,e,i){var n=Array.isArray(t);return n&&1==t.length&&(t=t[0],n=!1),n?null==i?function(e){return t.indexOf(e.origin)>-1}:function(n,r){return r&&r.start>=e&&r.end<=i&&t.indexOf(n.origin)>-1}:null==i?function(e){return e.origin==t}:function(n,r){return r&&r.start>=e&&r.end<=i&&n.origin==t}}function $(t){Ut=!0;var e=d(t);if(e)for(var i=0;i<e.length;++i){var n=e[i].getProp(t);if(!n.isEmpty())return n}return X}function U(t,e){var i=new St((!0));i.defProp("done").addType(Lt.bool),e.propagate(i.defProp("value"));var n=new Et(null,X,t?[t]:[],t?["?"]:[],i),r=new St(Lt.definitions.ecma6&&Lt.definitions.ecma6.generator_prototype||!0);return r.defProp("next").addType(n),r}function V(t,e){return t.generator?t.computeRet?U(t.yieldval,e):(t.generator===!0&&(t.generator=U(t.yieldval,e)),t.generator):e}function K(t,e,i){var n=Y(t,i).getFunctionType();if(!n)return X;var r=n.retval;if(n.computeRet){for(var o=0,s=[];o<e.length;++o)s.push(Y(e[o],i));var a=X;"MemberExpression"==t.type&&(a=Y(t.object,i)),r=n.computeRet(a,s,e)}return V(n,r)}function Y(t,e){var i=Bt[t.type];return i?i(t,e):X}var G=t.toString=function(t,e,i){return!t||t==i||e&&e<-3?"?":t.toString(e,i)},X=t.ANull=o.mixin({addType:function(){},propagate:function(){},getProp:function(){return X},forAllProps:function(){},hasType:function(){return!1},isEmpty:function(){return!0},getFunctionType:function(){},getObjType:function(){},getSymbolType:function(){},getType:function(){},gatherProperties:function(){},propagatesTo:function(){},typeHint:function(){},propHint:function(){},toString:function(){return"?"}}),Q=100,Z=90,J=10,tt=6,et=6,it=1,nt=90,rt=2,ot=4,st=t.AVal=function(){this.types=[],this.forward=null,
this.maxWeight=0};st.prototype=s(X,{addType:function(t,e){if(e=e||Q,this.maxWeight<e){if(this.maxWeight=e,1==this.types.length&&this.types[0]==t)return;this.types.length=0}else if(this.maxWeight>e||this.types.indexOf(t)>-1)return;this.signal("addType",t),this.types.push(t);var i=this.forward;i&&m(function(n){for(var r=0;r<i.length;++r)n(t,i[r],e)})},propagate:function(t,e){if(!(t==X||t instanceof kt&&this.forward&&this.forward.length>2)){e&&e!=Q&&(t=new wt(t,e)),(this.forward||(this.forward=[])).push(t);var i=this.types;i.length&&m(function(n){for(var r=0;r<i.length;++r)n(i[r],t,e)})}},getProp:function(t){if(p(t))return X;var e=(this.props||(this.props=Object.create(null)))[t];return e||(e=this.props[t]=new st,this.propagate(new ct(t,e))),e},forAllProps:function(t){this.propagate(new ht(t))},hasType:function(t){return this.types.indexOf(t)>-1},isEmpty:function(){return 0===this.types.length},getFunctionType:function(){for(var t=this.types.length-1;t>=0;--t)if(this.types[t]instanceof Et)return this.types[t]},getObjType:function(){for(var t=null,e=this.types.length-1;e>=0;--e){var i=this.types[e];if(i instanceof St){if(i.name)return i;t||(t=i)}}return t},getSymbolType:function(){for(var t=this.types.length-1;t>=0;--t)if(this.types[t]instanceof Mt)return this.types[t]},getType:function(t){return 0===this.types.length&&t!==!1?this.makeupType():1===this.types.length?this.types[0]:c(this.types)},toString:function(t,e){if(0==this.types.length)return G(this.makeupType(),t,e);if(1==this.types.length)return G(this.types[0],t,e);var i=at(this.types);return i.length>2?"?":i.map(function(i){return G(i,t,e)}).join("|")},makeupPropType:function(t){var e=this.propertyName,i=t.proto&&t.proto.hasProp(e);if(i){var n=i.getType();if(n)return n}if("<i>"!=e){var r=t.hasProp("<i>");if(r)return r.getType()}else if(t.props["<i>"]!=this)for(var o in t.props){var s=t.props[o];if(!s.isEmpty())return s.getType()}},makeupType:function(){var t=this.propertyOf&&this.makeupPropType(this.propertyOf);if(t)return t;if(!this.forward)return null;for(var e=this.forward.length-1;e>=0;--e){var i=this.forward[e].typeHint();if(i&&!i.isEmpty())return Ut=!0,i}for(var n=Object.create(null),r=null,e=0;e<this.forward.length;++e){var o=this.forward[e].propHint();o&&"length"!=o&&"<i>"!=o&&"✖"!=o&&o!=Lt.completingProperty&&(n[o]=!0,r=o)}if(!r)return null;var s=d(r);if(s){var a=[];t:for(var e=0;e<s.length;++e){var l=s[e];for(var o in n)if(!l.hasProp(o))continue t;l.hasCtor&&(l=mt(l)),a.push(l)}var u=c(a);if(u)return Ut=!0,u}},typeHint:function(){return this.types.length?this.getType():null},propagatesTo:function(){return this},gatherProperties:function(t,e){for(var i=0;i<this.types.length;++i)this.types[i].gatherProperties(t,e)},guessProperties:function(t){if(this.forward)for(var e=0;e<this.forward.length;++e){var i=this.forward[e].propHint();i&&t(i,null,0)}var n=this.makeupType();n&&n.gatherProperties(t)}});var at=t.simplifyTypes=function(t){var e=[];t:for(var i=0;i<t.length;++i){for(var n=t[i],r=0;r<e.length;r++){var o=l(n,e[r],0);if(o){e[r]=o;continue t}}e.push(n)}return e},lt=t.constraint=function(t){var e=function(){this.origin=Lt.curOrigin,this.construct.apply(this,arguments)};e.prototype=Object.create(X);for(var i in t)t.hasOwnProperty(i)&&(e.prototype[i]=t[i]);return e},ct=lt({construct:function(t,e){this.prop=t,this.target=e},addType:function(t,e){t.getProp&&t.getProp(this.prop).propagate(this.target,e)},propHint:function(){return this.prop},propagatesTo:function(){if("<i>"==this.prop||!/[^\w_]/.test(this.prop))return{target:this.target,pathExt:"."+this.prop}}}),ut=t.PropHasSubset=t.DefProp=lt({construct:function(t,e,i){this.prop=t,this.type=e,this.originNode=i},addType:function(t,e){if(t instanceof St){var i=t.defProp(this.prop,this.originNode);i.origin||(i.origin=this.origin),this.type.propagate(i,e)}},propHint:function(){return this.prop}}),ht=lt({construct:function(t){this.c=t},addType:function(t){t instanceof St&&t.forAllProps(this.c)}}),pt=t.IsCallee=lt({construct:function(t,e,i,n){this.self=t,this.args=e,this.argNodes=i,this.retval=n,this.disabled=Lt.disabledComputing},addType:function(t,e){if(t instanceof Et){for(var i=0;i<this.args.length;++i)i<t.args.length&&this.args[i].propagate(t.args[i],e),t.arguments&&this.args[i].propagate(t.arguments,e);t.isArrowFn()||this.self.propagate(t.self,this.self==Lt.topScope?nt:e);var n=t.computeRet,r=t.retval;if(n)for(var o=this.disabled;o;o=o.prev)(o.fn==t||t.originNode&&o.fn.originNode==t.originNode)&&(n=null);if(n){var s=Lt.disabledComputing;Lt.disabledComputing=this.disabled,r=n(this.self,this.args,this.argNodes),Lt.disabledComputing=s}V(t,r).propagate(this.retval,e)}},typeHint:function(){for(var t=[],e=0;e<this.args.length;++e)t.push("?");return new Et(null,this.self,this.args,t,X)},propagatesTo:function(){return{target:this.retval,pathExt:".!ret"}}}),ft=lt({construct:function(t,e,i,n){this.propName=t,this.args=e,this.argNodes=i,this.retval=n,this.disabled=Lt.disabledComputing},addType:function(t,e){var i=new pt(t,this.args,this.argNodes,this.retval);i.disabled=this.disabled,t.getProp(this.propName).propagate(i,e)},propHint:function(){return this.propName}}),dt=t.IsCtor=lt({construct:function(t,e){this.target=t,this.noReuse=e},addType:function(t,e){t instanceof Et&&(Lt.parent&&!Lt.parent.options.reuseInstances&&(this.noReuse=!0),t.getProp("prototype").propagate(new gt(!this.noReuse&&t,this.target),e))}}),mt=t.getInstance=function(t,e){if(e===!1)return new St(t);e||(e=t.hasCtor),t.instances||(t.instances=[]);for(var i=0;i<t.instances.length;++i){var n=t.instances[i];if(n.ctor==e)return n.instance}var r=new St(t,e&&e.name);return r.origin=t.origin,t.instances.push({ctor:e,instance:r}),r},gt=t.IsProto=lt({construct:function(t,e){this.ctor=t,this.target=e},addType:function(t,e){t instanceof St&&((this.count=(this.count||0)+1)>8||(t==Lt.protos.Array?this.target.addType(new At):this.target.addType(mt(t,this.ctor))))}}),vt=lt({construct:function(t){this.fn=t},addType:function(t,e){if(t instanceof St&&!t.hasCtor){t.hasCtor=this.fn;var i=new xt(t,this.fn);i.addType(this.fn),t.forAllProps(function(t,e,n){n&&e.propagate(i)})}}}),yt=lt({construct:function(t,e){this.other=t,this.target=e},addType:function(t,e){t==Lt.str?this.target.addType(Lt.str,e):t==Lt.num&&this.other.hasType(Lt.num)&&this.target.addType(Lt.num,e)},typeHint:function(){return this.other}}),bt=t.IfObj=lt({construct:function(t){this.target=t},addType:function(t,e){t instanceof St&&this.target.addType(t,e)},propagatesTo:function(){return this.target}}),xt=lt({construct:function(t,e){this.obj=t,this.ctor=e},addType:function(t){t instanceof Et&&t.self&&t.self.addType(mt(this.obj,this.ctor),ot)}}),_t=lt({construct:function(t){this.obj=t},addType:function(t){t instanceof St&&this.obj.proto==Lt.protos.Object&&this.obj.replaceProto(t)}}),wt=lt({construct:function(t,e){this.inner=t,this.weight=e},addType:function(t,e){this.inner.addType(t,Math.min(e,this.weight))},propagatesTo:function(){return this.inner.propagatesTo()},typeHint:function(){return this.inner.typeHint()},propHint:function(){return this.inner.propHint()}}),kt=t.Type=function(){};kt.prototype=s(X,{constructor:kt,propagate:function(t,e){t.addType(this,e)},hasType:function(t){return t==this},isEmpty:function(){return!1},typeHint:function(){return this},getType:function(){return this}});var Ct=t.Prim=function(t,e){this.name=e,this.proto=t};Ct.prototype=s(kt.prototype,{constructor:Ct,toString:function(){return this.name},getProp:function(t){return this.proto.hasProp(t)||X},gatherProperties:function(t,e){this.proto&&this.proto.gatherProperties(t,e)}});var St=t.Obj=function(t,e){if(this.props||(this.props=Object.create(null)),this.proto=t===!0?Lt.protos.Object:t,t&&t!=Lt.protos.Object&&!e&&t.name&&!(this instanceof Et)){var i=/^(.*)\.prototype$/.exec(this.proto.name);i&&(e=i[1])}this.name=e,this.maybeProps=null,this.origin=Lt.curOrigin};St.prototype=s(kt.prototype,{constructor:St,toString:function(t){if(null==t&&(t=0),t<=0&&this.name)return this.name;var e=[],i=!1;for(var n in this.props)if("<i>"!=n){if(e.length>5){i=!0;break}t?e.push(n+": "+G(this.props[n],t-1,this)):e.push(n)}return e.sort(),i&&e.push("..."),"{"+e.join(", ")+"}"},hasProp:function(t,e){h(t)&&(t=this.normalizeIntegerProp(t));var i=this.props[t];if(e!==!1)for(var n=this.proto;n&&!i;n=n.proto)i=n.props[t];return i},defProp:function(t,e){var i=this.hasProp(t,!1);if(i)return e&&!i.originNode&&(i.originNode=e),i;if(p(t))return X;h(t)&&(t=this.normalizeIntegerProp(t));var n=this.maybeProps&&this.maybeProps[t];return n?(delete this.maybeProps[t],this.maybeUnregProtoPropHandler()):(n=new st,n.propertyOf=this,n.propertyName=t),this.props[t]=n,n.originNode=e,n.origin=Lt.curOrigin,this.broadcastProp(t,n,!0),n},getProp:function(t){var e=this.hasProp(t,!0)||this.maybeProps&&this.maybeProps[t];if(e)return e;if(p(t))return X;h(t)&&(t=this.normalizeIntegerProp(t));var i=this.ensureMaybeProps()[t]=new st;return i.propertyOf=this,i.propertyName=t,i},normalizeIntegerProp:function(t){return"<i>"},broadcastProp:function(t,e,i){if(i&&(this.signal("addProp",t,e),this instanceof Dt||f(t,this)),this.onNewProp)for(var n=0;n<this.onNewProp.length;++n){var r=this.onNewProp[n];r.onProtoProp?r.onProtoProp(t,e,i):r(t,e,i)}},onProtoProp:function(t,e,i){var n=this.maybeProps&&this.maybeProps[t];n&&(delete this.maybeProps[t],this.maybeUnregProtoPropHandler(),this.proto.getProp(t).propagate(n)),this.broadcastProp(t,e,!1)},replaceProto:function(t){this.proto&&this.maybeProps&&this.proto.unregPropHandler(this),this.proto=t,this.maybeProps&&this.proto.forAllProps(this)},ensureMaybeProps:function(){return this.maybeProps||(this.proto&&this.proto.forAllProps(this),this.maybeProps=Object.create(null)),this.maybeProps},removeProp:function(t){var e=this.props[t];delete this.props[t],this.ensureMaybeProps()[t]=e,e.types.length=0},forAllProps:function(t){this.onNewProp||(this.onNewProp=[],this.proto&&this.proto.forAllProps(this)),this.onNewProp.push(t);for(var e=this;e;e=e.proto)for(var i in e.props)t.onProtoProp?t.onProtoProp(i,e.props[i],e==this):t(i,e.props[i],e==this)},maybeUnregProtoPropHandler:function(){if(this.maybeProps){for(var t in this.maybeProps)return;this.maybeProps=null}!this.proto||this.onNewProp&&this.onNewProp.length||this.proto.unregPropHandler(this)},unregPropHandler:function(t){for(var e=0;e<this.onNewProp.length;++e)if(this.onNewProp[e]==t){this.onNewProp.splice(e,1);break}this.maybeUnregProtoPropHandler()},gatherProperties:function(t,e){for(var i in this.props)"<i>"!=i&&":"!=i.charAt(0)&&t(i,this,e);this.proto&&this.proto.gatherProperties(t,e+1)},getObjType:function(){return this}});var Tt="undefined"!=typeof StopIteration,Et=t.Fn=function(t,e,i,n,r,o){St.call(this,Lt.protos.Function,t),this.self=e,this.args=i,this.argNames=n,this.retval=r,this.generator=o};Et.prototype=s(St.prototype,{constructor:Et,toString:function(t){null==t&&(t=0);for(var e=this.generator?"fn*(":"fn(",i=0;i<this.args.length;++i){i&&(e+=", ");var n=this.argNames[i];n&&"?"!=n&&(e+=n+": "),e+=t>-3?G(this.args[i],t-1,this):"?"}return e+=")",this.retval.isEmpty()||(e+=" -> "+(t>-3?G(this.retval,t-1,this):"?")),e},getProp:function(t){if("prototype"==t){var e=this.hasProp(t,!1);if(!e){e=this.defProp(t);var i=new St((!0),this.name&&this.name+".prototype");i.origin=this.origin,e.addType(i,J)}return e}return St.prototype.getProp.call(this,t)},defProp:function(t,e){if("prototype"==t){var i=this.hasProp(t,!1);return i?i:(i=St.prototype.defProp.call(this,t,e),i.origin=this.origin,i.propagate(new vt(this)),i)}return St.prototype.defProp.call(this,t,e)},getFunctionType:function(){return this},isArrowFn:function(){return this.originNode&&"ArrowFunctionExpression"==this.originNode.type}});var At=t.Arr=function(t){St.call(this,Lt.protos.Array);var e=this.defProp("<i>");if(Array.isArray(t)){this.tuple=t.length;for(var i=0;i<t.length;i++){var n=this.defProp(String(i));t[i].propagate(n),n.propagate(e)}}else t&&(this.tuple=0,t.propagate(e))};At.prototype=s(St.prototype,{constructor:At,toString:function(t){if(null==t&&(t=0),t<=-3)return"[?]";var e="";if(this.tuple){for(var i,n=0;n in this.props;n++){var r=G(this.getProp(String(n)),t-1,this);i=null==i?r:i==r&&r,e+=(e?", ":"")+r}i&&(e=i)}else e=G(this.getProp("<i>"),t-1,this);return"["+e+"]"},normalizeIntegerProp:function(t){return+t<this.tuple?t:"<i>"}});var Mt=t.Sym=function(t,e){Ct.call(this,Lt.protos.Symbol,"Symbol"),this.symName=t,this.originNode=e};Mt.prototype=s(Ct.prototype,{constructor:Mt,asPropName:function(){return":"+this.symName},getSymbolType:function(){return this}}),t.getSymbol=function(t,e){var i=t.replace(/[^\w$\.]/g,"_"),n=Lt.symbols[i];return n?(e&&!n.originNode&&(n.originNode=e),n):Lt.symbols[i]=new Mt(i,e)},t.Context=function(e,i){this.parent=i,this.props=Object.create(null),this.protos=Object.create(null),this.origins=[],this.curOrigin="ecma5",this.paths=Object.create(null),this.definitions=Object.create(null),this.purgeGen=0,this.workList=null,this.disabledComputing=null,this.curSuperCtor=this.curSuper=null,this.symbols=Object.create(null),t.withContext(this,function(){if(Lt.protos.Object=new St(null,"Object.prototype"),Lt.topScope=new Dt,Lt.topScope.name="<top>",Lt.protos.Array=new St((!0),"Array.prototype"),Lt.protos.Function=new Et("Function.prototype",X,[],[],X),Lt.protos.Function.proto=Lt.protos.Object,Lt.protos.RegExp=new St((!0),"RegExp.prototype"),Lt.protos.String=new St((!0),"String.prototype"),Lt.protos.Number=new St((!0),"Number.prototype"),Lt.protos.Boolean=new St((!0),"Boolean.prototype"),Lt.protos.Symbol=new St((!0),"Symbol.prototype"),Lt.str=new Ct(Lt.protos.String,"string"),Lt.bool=new Ct(Lt.protos.Boolean,"bool"),Lt.num=new Ct(Lt.protos.Number,"number"),Lt.curOrigin=null,e)for(var t=0;t<e.length;++t)r.load(e[t])})},t.Context.prototype.startAnalysis=function(){this.disabledComputing=this.workList=this.curSuperCtor=this.curSuper=null};var Lt=null;t.cx=function(){return Lt},t.withContext=function(t,e){var i=Lt;Lt=t;try{return e()}finally{Lt=i}},t.TimedOut=function(){this.message="Timed out",this.stack=(new Error).stack},t.TimedOut.prototype=Object.create(Error.prototype),t.TimedOut.prototype.name="infer.TimedOut";var Nt;t.withTimeout=function(t,e){var i=+new Date+t,n=Nt;if(n&&n<i)return e();Nt=i;try{return e()}finally{Nt=n}},t.addOrigin=function(t){Lt.origins.indexOf(t)<0&&Lt.origins.push(t)};var Pt=20,It=1e-4,Dt=t.Scope=function(t,e,i,n){St.call(this,t||!0),this.prev=t,this.originNode=e,this.isBlock=!!i,this.isCatch=!!n};Dt.prototype=s(St.prototype,{constructor:Dt,defVar:function(t,e){for(var i=this;;i=i.proto){var n=i.props[t];if(n)return n;if(!i.prev)return i.defProp(t,e)}}});var Ot={},Rt=t.scopeGatherer=n.make({VariablePattern:function(t,e){e.inner&&k(e.inner,t)},AssignmentPattern:function(t,e,i){i(t.left,e,"Pattern"),i(t.right,e.outer,"Expression")},AssignmentExpression:function(t,e,i){"MemberExpression"==t.left.type?i(t.left,e,"Expression"):i(t.left,T(!1,e),"Pattern"),i(t.right,e,"Expression")},MemberPattern:function(t,e,i){i(t,e.outer)},Function:function(t,e,i){for(var n=t.scope=new Dt(e,t),r=[],o=[],s=0;s<t.params.length;++s){var a=t.params[s];if(o.push(C(a)),"Identifier"==a.type)r.push(k(n,a));else{var l=new st;r.push(l),l.originNode=a,i(a,T(n),"Pattern")}}if(n.fnType=new Et(t.id&&t.id.name,new st,r,o,X,t.generator),n.fnType.originNode=t,t.id){var c="FunctionDeclaration"==t.type;k(c?e:n,t.id)}i(t.body,n,t.expression?"Expression":"Statement")},BlockStatement:function(t,e,i){!t.scope&&t.body.some(S)&&(e=t.scope=new Dt(e,t,(!0))),n.base.BlockStatement(t,e,i)},CatchClause:function(t,e,i){if(e=t.scope=new Dt(e,t,(!1),(!0)),"Identifier"==t.param.type){var n=k(e,t.param);i(t.body,e,"Statement");var r=Lt.definitions.ecma5;r&&n.isEmpty()&&mt(r["Error.prototype"]).propagate(n,et)}else i(t.param,T(e),"Pattern")},VariableDeclaration:function(t,e,i){for(var n="var"==t.kind?v(e):e,r=0;r<t.declarations.length;++r){var o=t.declarations[r];i(o.id,T(n,e),"Pattern"),o.init&&i(o.init,e,"Expression")}},ClassDeclaration:function(t,e,i){k(e,t.id),t.superClass&&i(t.superClass,e,"Expression");for(var n=0;n<t.body.body.length;n++)i(t.body.body[n],e)},ForInStatement:function(t,e,i){!t.scope&&S(t.left)&&(e=t.scope=new Dt(e,t,(!0))),n.base.ForInStatement(t,e,i)},ForStatement:function(t,e,i){!t.scope&&t.init&&S(t.init)&&(e=t.scope=new Dt(e,t,(!0))),n.base.ForStatement(t,e,i)},ImportDeclaration:function(t,e){for(var i=0;i<t.specifiers.length;i++)k(e,t.specifiers[i].local)}});Rt.ForOfStatement=Rt.ForInStatement;var Ft=t.propName=function(t,e){var i=t.property||t.key;if(!t.computed&&"Identifier"==i.type)return i.name;if("Literal"==i.type){if("string"==typeof i.value)return i.value;if("number"==typeof i.value)return String(i.value)}if(e){var n=E(W(i,e));if(n)return t.propName=n}else if(t.propName)return t.propName;return"<i>"},Ht=t.inferPatternVisitor={Identifier:function(t,e,i){i.propagate(I(t,e))},MemberExpression:function(t,e,i){var n=W(t.object,e),r=Ft(t,e);n.propagate(new ut(r,i,t.property))},RestElement:function(t,e,i){D(t.argument,e,new At(i))},ObjectPattern:function(t,e,i){for(var n=0;n<t.properties.length;++n){var r=t.properties[n];D(r.value,e,i.getProp(Ft(r)))}},ArrayPattern:function(t,e,i){for(var n=0;n<t.elements.length;n++)t.elements[n]&&D(t.elements[n],e,i.getProp(String(n)))},AssignmentPattern:function(t,e,i){D(t.left,e,N(i,W(t.right,e)))}},jt=t.inferExprVisitor={ArrayExpression:j(function(t,e){return H(t.elements,e,W)}),ObjectExpression:j(function(t,e,i){for(var n,r=Lt.protos.Object,o=0;o<t.properties.length;++o){var s=t.properties[o];if("__proto__"==s.key.name)if("Literal"==s.value.type&&null==s.value.value)r=null;else{var a=W(s.value,e),l=a.getObjType();l?r=l:n=a}}var c=t.objType=new St(r,i);return n&&n.propagate(new _t(c)),c.originNode=t,g(null,n||r,function(){for(var i=0;i<t.properties.length;++i){var n=t.properties[i],r=n.key;if(!p(n.key.name)){var o,s=Ft(n,e);if("<i>"==s||"set"==n.kind)o=X;else{var a=o=c.defProp(s,r);a.initializer=!0,"get"==n.kind&&(o=new pt(c,[],null,a))}W(n.value,e,o,s),"FunctionExpression"==n.value.type&&n.value.scope.fnType.self.addType(c,rt)}}}),c}),FunctionExpression:j(function(t,e,i){var r=t.scope,o=r.fnType;return i&&!o.name&&(o.name=i),P(t,r),t.expression?W(t.body,r,r.fnType.retval=new st):n.recursive(t.body,r,null,zt,"Statement"),"ArrowFunctionExpression"==t.type&&O(e).propagate(o.self),x(t,o)||w(o),t.id&&r.getProp(t.id.name).addType(o),o}),ClassExpression:j(F),SequenceExpression:j(function(t,e){for(var i=0,n=t.expressions.length-1;i<n;++i)W(t.expressions[i],e,X);return W(t.expressions[n],e)}),UnaryExpression:j(function(t,e){return W(t.argument,e,X),A(t.operator)}),UpdateExpression:j(function(t,e){return W(t.argument,e,X),Lt.num}),BinaryExpression:j(function(t,e){if("+"==t.operator){var i=W(t.left,e),n=W(t.right,e);if(i.hasType(Lt.str)||n.hasType(Lt.str))return Lt.str;if(i.hasType(Lt.num)&&n.hasType(Lt.num))return Lt.num;var r=new st;return i.propagate(new yt(n,r)),n.propagate(new yt(i,r)),r}return W(t.left,e,X),W(t.right,e,X),M(t.operator)?Lt.bool:Lt.num}),AssignmentExpression:j(function(t,e,i){var n,r;if("MemberExpression"==t.left.type?(r=Ft(t.left,e),i||(i="Identifier"==t.left.object.type?t.left.object.name+"."+r:r)):i||"Identifier"!=t.left.type||(i=t.left.name),t.operator&&"="!=t.operator&&"+="!=t.operator?(W(t.right,e,X),n=Lt.num):n=W(t.right,e,null,i),"MemberExpression"==t.left.type){var o=W(t.left.object,e);if("prototype"==r&&y(e,20),"<i>"==r){var s=t.left.property.name,a=e.props[s],l=a&&a.iteratesOver;if(l){y(e,20);var c="MemberExpression"==t.right.type&&t.right.computed&&t.right.property.name==s;return l.forAllProps(function(t,e,i){i&&"prototype"!=t&&"<i>"!=t&&o.propagate(new ut(t,c?e:X))}),n}}o.propagate(new ut(r,n,t.left.property)),R(o),"FunctionExpression"==t.right.type&&o.propagate(t.right.scope.fnType.self,rt)}else D(t.left,e,n);return n}),LogicalExpression:z(function(t,e,i){W(t.left,e,i),W(t.right,e,i)}),ConditionalExpression:z(function(t,e,i){W(t.test,e,X),W(t.consequent,e,i),W(t.alternate,e,i)}),NewExpression:z(function(t,e,i,n){"Identifier"==t.callee.type&&t.callee.name in e.props&&y(e,20);for(var r=0,o=[];r<t.arguments.length;++r)o.push(W(t.arguments[r],e));var s=W(t.callee,e),a=new st;s.propagate(new dt(a,n&&/\.prototype$/.test(n))),a.propagate(i,Z),s.propagate(new pt(a,o,t.arguments,new bt(i)))}),CallExpression:z(function(t,e,i){for(var n=0,r=[];n<t.arguments.length;++n)r.push(W(t.arguments[n],e));var o=v(e).fnType;if("MemberExpression"==t.callee.type){var s=W(t.callee.object,e),a=Ft(t.callee,e);o&&("call"==a||"apply"==a)&&o.args.indexOf(s)>-1&&y(e,30),s.propagate(new ft(a,r,t.arguments,i))}else if("Super"==t.callee.type&&Lt.curSuperCtor)t.callee.superType=Lt.curSuperCtor,Lt.curSuperCtor.propagate(new pt(O(e),r,t.arguments,i)),O(e).propagate(i,Z);else{var l=W(t.callee,e);o&&o.args.indexOf(l)>-1&&y(e,30);var c=l.getFunctionType();c&&c.instantiateScore&&o&&y(e,c.instantiateScore/5),l.propagate(new pt(Lt.topScope,r,t.arguments,i))}}),MemberExpression:z(function(t,e,i){var n,r=Ft(t);if("<i>"==r){var o=W(t.property,e),s=E(o);s?r=t.propName=s:o.hasType(Lt.num)||(n=tt)}W(t.object,e).getProp(r).propagate(i,n)}),Identifier:j(function(t,e){if("arguments"==t.name){var i=v(e,!1);!i.fnType||t.name in i.props||i.defProp(t.name,i.fnType.originNode).addType(new At(i.fnType.arguments=new st))}return e.getProp(t.name)}),ThisExpression:j(function(t,e){return O(e)}),Super:j(function(t){return t.superType=Lt.curSuper||X}),Literal:j(function(t){return L(t)}),TemplateLiteral:j(function(t,e){for(var i=0;i<t.expressions.length;++i)W(t.expressions[i],e,X);return Lt.str}),TaggedTemplateExpression:z(function(t,e,i){for(var n=[new At(Lt.str)],r=0;r<t.quasi.expressions.length;++r)n.push(W(t.quasi.expressions[r],e));W(t.tag,e,new pt(Lt.topScope,n,t.quasi.expressions,i))}),YieldExpression:j(function(t,e){var i=X,n=v(e).fnType;return n&&(n.retval==X&&(n.retval=new st),n.yieldval||(n.yieldval=new st),i=n.retval),t.argument&&(t.delegate?W(t.argument,e,new ft("next",[],null,new ct("value",i))):W(t.argument,e,i)),n?n.yieldval:X})};jt.ArrowFunctionExpression=jt.FunctionExpression;var zt=t.inferWrapper=n.make({Expression:function(t,e){W(t,t.scope||e,X)},FunctionDeclaration:function(t,e,i){var n=t.scope,r=n.fnType;P(t,n),i(t.body,n,"Statement"),x(t,r)||w(r),e.getProp(t.id.name).addType(r)},Statement:function(t,e,i){i(t,t.scope||e)},VariableDeclaration:function(t,e){for(var i=0;i<t.declarations.length;++i){var n=t.declarations[i];if("Identifier"==n.id.type){var r=e.getProp(n.id.name);n.init&&W(n.init,e,r,n.id.name)}else n.init&&D(n.id,e,W(n.init,e))}},ClassDeclaration:function(t,e){e.getProp(t.id.name).addType(F(t,e,t.id.name))},ReturnStatement:function(t,e){if(t.argument){var i=X,n=v(e).fnType;n&&(n.retval==X&&(n.retval=new st),i=n.retval),W(t.argument,e,i)}},ForInStatement:function(t,e,i){var n=W(t.right,e);if("Identifier"==t.right.type&&t.right.name in e.props||"MemberExpression"==t.right.type&&"prototype"==t.right.property.name){y(e,5);var r=B(t.left);"Identifier"==r.type?(r.name in e.props&&(e.getProp(r.name).iteratesOver=n),n.getProp("<i>").propagate(I(r,e))):D(r,e,n.getProp("<i>"))}i(t.body,e,"Statement")},ForOfStatement:function(t,e,i){var n,r=B(t.left);"Identifier"==r.type?n=I(r,e):D(r,e,n=new st),W(t.right,e,new ft(":Symbol.iterator",[],null,new ft("next",[],null,new ct("value",n)))),i(t.body,e,"Statement")}}),Wt=t.parse=function(t,n,r){n&&!Array.isArray(n)||(n=r);var o;try{o=e.parse(t,n)}catch(s){o=i.parse_dammit(t,n)}return o};t.analyze=function(e,i,r){"string"==typeof e&&(e=Wt(e)),i||(i="file#"+Lt.origins.length),t.addOrigin(Lt.curOrigin=i),r||(r=Lt.topScope),Lt.startAnalysis(),n.recursive(e,r,null,Rt),Lt.parent&&Lt.parent.signal("preInfer",e,r),n.recursive(e,r,null,zt),Lt.parent&&Lt.parent.signal("postInfer",e,r),Lt.curOrigin=null},t.purge=function(t,e,i){var n=q(t,e,i);++Lt.purgeGen,Lt.topScope.purge(n);for(var r in Lt.props){for(var o=Lt.props[r],s=0;s<o.length;++s){var a=o[s],l=a.props[r];l&&!n(l,l.originNode)||o.splice(s--,1)}o.length||delete Lt.props[r]}},st.prototype.purge=function(t){if(this.purgeGen!=Lt.purgeGen){this.purgeGen=Lt.purgeGen;for(var e=0;e<this.types.length;++e){var i=this.types[e];t(i,i.originNode)?this.types.splice(e--,1):i.purge(t)}if(this.types.length||(this.maxWeight=0),this.forward)for(var e=0;e<this.forward.length;++e){var n=this.forward[e];t(n)?(this.forward.splice(e--,1),this.props&&(this.props=null)):n.purge&&n.purge(t)}}},X.purge=function(){},St.prototype.purge=function(t){if(this.purgeGen==Lt.purgeGen)return!0;this.purgeGen=Lt.purgeGen;for(var e in this.props){var i=this.props[e];t(i,i.originNode)&&this.removeProp(e),i.purge(t)}},Et.prototype.purge=function(t){if(!St.prototype.purge.call(this,t)){this.self.purge(t),this.retval.purge(t);for(var e=0;e<this.args.length;++e)this.args[e].purge(t)}};var Bt=t.typeFinder={ArrayExpression:function(t,e){return H(t.elements,e,Y)},ObjectExpression:function(t){return t.objType},ClassExpression:function(t){return t.objType},FunctionExpression:function(t){return t.scope.fnType},ArrowFunctionExpression:function(t){return t.scope.fnType},SequenceExpression:function(t,e){return Y(t.expressions[t.expressions.length-1],e)},UnaryExpression:function(t){return A(t.operator)},UpdateExpression:function(){return Lt.num},BinaryExpression:function(t,e){if(M(t.operator))return Lt.bool;if("+"==t.operator){var i=Y(t.left,e),n=Y(t.right,e);if(i.hasType(Lt.str)||n.hasType(Lt.str))return Lt.str}return Lt.num},AssignmentExpression:function(t,e){return Y(t.right,e)},LogicalExpression:function(t,e){var i=Y(t.left,e);return i.isEmpty()?Y(t.right,e):i},ConditionalExpression:function(t,e){var i=Y(t.consequent,e);return i.isEmpty()?Y(t.alternate,e):i},NewExpression:function(t,e){var i=Y(t.callee,e).getFunctionType(),n=i&&i.getProp("prototype").getObjType();return n?mt(n,i):X},CallExpression:function(t,e){return K(t.callee,t.arguments,e)},MemberExpression:function(t,e){var i=Ft(t),n=Y(t.object,e).getType();return n?n.getProp(i):"<i>"==i?X:$(i)},MethodDefinition:function(t){var e=Ft(t),i=O(t.value.scope).getType();return i?i.getProp(e):X},Identifier:function(t,e){return e.hasProp(t.name)||X},ThisExpression:function(t,e){return O(e)},Literal:function(t){return L(t)},Super:j(function(t){return t.superType}),TemplateLiteral:function(){return Lt.str},TaggedTemplateExpression:function(t,e){return K(t.tag,t.quasi.expressions,e)},YieldExpression:function(t,e){var i=v(e).fnType;return i?i.yieldval:X}},qt=t.searchVisitor=n.make({Function:function(t,e,i){n.base.Function(t,t.scope,i)},CatchClause:function(t,e,i){n.base.CatchClause(t,t.scope,i)},Property:function(t,e,i){t.computed&&i(t.key,e,"Expression"),t.key!=t.value&&i(t.value,e,"Expression")},Statement:function(t,e,i){i(t,t.scope||e)},ImportSpecifier:function(t,e,i){i(t.local,e)},ImportDefaultSpecifier:function(t,e,i){i(t.local,e)},ImportNamespaceSpecifier:function(t,e,i){i(t.local,e)}});t.fullVisitor=n.make({MemberExpression:function(t,e,i){i(t.object,e,"Expression"),i(t.property,e,t.computed?"Expression":null)},Property:function(t,e,i){t.computed&&i(t.key,e,"Expression"),i(t.value,e,"Expression")}},qt),t.findExpressionAt=function(t,e,i,r,o){var s=o||function(t,e){return("Identifier"!=e.type||"✖"!=e.name)&&Bt.hasOwnProperty(e.type)};return n.findNodeAt(t,e,i,s,qt,r||Lt.topScope)},t.findExpressionAround=function(t,e,i,r,o){var s=o||function(t,i){return!(null!=e&&i.start>e)&&(("Identifier"!=i.type||"✖"!=i.name)&&Bt.hasOwnProperty(i.type))};return n.findNodeAround(t,i,s,qt,r||Lt.topScope)},t.expressionType=function(t){return Y(t.node,t.state)},t.parentNode=function(t,e){function i(e,o,s){if(e.start<=t.start&&e.end>=t.end){var a=r[r.length-1];if(e==t)throw{found:a};a!=e&&r.push(e),n.base[s||e.type](e,o,i),a!=e&&r.pop()}}var r=[];try{i(e,null)}catch(o){if(o.found)return o.found;throw o}};var $t=t.findTypeFromContext={ArrayExpression:function(t,e,i){return i(t,!0).getProp("<i>")},ObjectExpression:function(t,e,i){for(var n=0;n<t.properties.length;++n){var r=e.properties[n];if(r.value==e)return i(t,!0).getProp(Ft(r))}},UnaryExpression:function(t){return A(t.operator)},UpdateExpression:function(){return Lt.num},BinaryExpression:function(t){return M(t.operator)?Lt.bool:Lt.num},AssignmentExpression:function(t,e,i){return i(t.left)},LogicalExpression:function(t,e,i){return i(t,!0)},ConditionalExpression:function(t,e,i){if(t.consequent==e||t.alternate==e)return i(t,!0)},CallExpression:function(t,e,i){for(var n=0;n<t.arguments.length;n++){var r=t.arguments[n];if(r==e){var o=i(t.callee).getFunctionType();if(o instanceof Et)return o.args[n];break}}},ReturnStatement:function(t,e,i){var r=n.findNodeAround(e.sourceFile.ast,e.start-1,"Function");if(r){var o="FunctionDeclaration"!=r.node.type?i(r.node,!0).getFunctionType():r.node.scope.fnType;if(o)return o.retval.getType()}},VariableDeclarator:function(t,e,i){if(t.init==e)return i(t.id)}};$t.NewExpression=$t.CallExpression,t.typeFromContext=function(e,i){var n=t.parentNode(i.node,e),r=null;if($t.hasOwnProperty(n.type)){var o=$t[n.type];r=o&&o(n,i.node,function(n,r){var o={node:n,state:i.state},s=r?t.typeFromContext(e,o):t.expressionType(o);return s||X})}return r||t.expressionType(i)};var Ut=!1;t.resetGuessing=function(t){Ut=t},t.didGuess=function(){return Ut},t.forAllPropertiesOf=function(t,e){t.gatherProperties(e,0)},t.findRefs=function(e,i,r,o,s){function a(t,i,n){if(t.name==r&&(t!=e.id||"FunctionDeclaration"!=e.type))for(var a=i;a;a=a.prev)if(a==o&&s(t,i,n),r in a.props)return}n.ancestor(e,{Identifier:a,VariablePattern:a},t.fullVisitor,i)};var Vt=n.make({Function:function(t,e,i){i(t.body,t.scope,t.expression?"Expression":"Statement")},Statement:function(t,e,i){i(t,t.scope||e)}});t.findPropRefs=function(t,e,i,r,o){function s(t){for(;t&&t!=i;){if(t.props[r]||t.maybeProps&&t.maybeProps[r])return!1;t=t.proto}return t}for(;i&&!i.props[r]&&(!i.maybeProps||!i.maybeProps[r]);)i=i.proto;if(!i)throw new Error("Couldn't locate property in the base object type.");n.simple(t,{MemberExpression:function(t,e){t.computed||Ft(t)!=r||s(Y(t.object,e).getType())&&o(t.property,e)},ObjectExpression:function(t,e){if(Y(t,e).getType()==i)for(var n=0;n<t.properties.length;++n)Ft(t.properties[n])==r&&o(t.properties[n].key,e)},MethodDefinition:function(t){Ft(t)==r&&t.value&&s(O(t.value.scope).getType())&&o(t.key,t.value.scope)}},Vt,e)};var Kt=t.scopeAt=function(t,e,i){var r=n.findNodeAround(t,e,function(t,e){return e.scope});return r?r.node.scope:i||Lt.topScope};t.forAllLocalsAt=function(t,e,i,n){var r=Kt(t,e,i);r.gatherProperties(n,0)},r=t.def=r.init({},t)}),function(t){return"object"==typeof exports&&"object"==typeof module?t(require("../lib/infer"),require("../lib/tern"),require("../lib/comment"),require("acorn"),require("acorn/dist/walk")):"function"==typeof define&&define.amd?define(["../lib/infer","../lib/tern","../lib/comment","acorn/dist/acorn","acorn/dist/walk"],t):void t(tern,tern,tern.comment,acorn,acorn.walk)}(function(t,e,i,n,r){"use strict";function o(t,e){function n(t){i.ensureCommentsBefore(e,t)}r.simple(t,{VariableDeclaration:n,FunctionDeclaration:n,MethodDefinition:n,Property:n,AssignmentExpression:function(t){"="==t.operator&&n(t)},CallExpression:function(t){s(t)&&n(t)},ExportNamedDeclaration:function(t){n(t)},ExportDefaultDeclaration:function(t){n(t)}})}function s(t){return"MemberExpression"==t.callee.type&&"Object"==t.callee.object.name&&"defineProperty"==t.callee.property.name&&t.arguments.length>=3&&"string"==typeof t.arguments[1].value}function a(e,i){x(e.sourceFile.text,i),r.simple(e,{VariableDeclaration:function(t,e){var i=t.declarations[0].id;t.commentsBefore&&"Identifier"==i.type&&u(t,t.commentsBefore,e,e.getProp(t.declarations[0].id.name))},FunctionDeclaration:function(t,e){t.commentsBefore&&u(t,t.commentsBefore,e,e.getProp(t.id.name),t.scope.fnType)},ClassDeclaration:function(t,e){t.commentsBefore&&u(t,t.commentsBefore,e,e.getProp(t.id.name),t.objType)},AssignmentExpression:function(e,i){e.commentsBefore&&u(e,e.commentsBefore,i,t.expressionType({node:e.left,
state:i}))},ObjectExpression:function(e,i){for(var n=0;n<e.properties.length;++n){var r=e.properties[n],o=t.propName(r);"<i>"!=o&&r.commentsBefore&&u(r,r.commentsBefore,i,e.objType.getProp(o))}},Class:function(e,i){var n=e.objType.getProp("prototype").getObjType();if(n)for(var r=0;r<e.body.body.length;r++){var o,s=e.body.body[r];s.commentsBefore&&("constructor"==s.kind?u(s,s.commentsBefore,i,e.objType):"<i>"!=(o=t.propName(s))&&u(s,s.commentsBefore,i,n.getProp(o)))}},CallExpression:function(e,i){if(e.commentsBefore&&s(e)){var n=t.expressionType({node:e.arguments[0],state:i}).getObjType();if(n&&n instanceof t.Obj){var r=n.props[e.arguments[1].value];r&&u(e,e.commentsBefore,i,r)}}},ExportNamedDeclaration:function(t,e){t.commentsBefore&&t.declaration&&"FunctionDeclaration"===t.declaration.type&&u(t.declaration,t.commentsBefore,e,e.getProp(t.declaration.id.name),t.declaration.scope.fnType)},ExportDefaultDeclaration:function(t,e){t.commentsBefore&&t.declaration&&"FunctionDeclaration"===t.declaration.type&&u(t.declaration,t.commentsBefore,e,e.getProp(t.declaration.id.name),t.declaration.scope.fnType)}},t.searchVisitor,i)}function l(e){var i=e["!typedef"],n=t.cx(),r=e["!name"];if(i)for(var o in i)n.parent.mod.jsdocTypedefs[o]=v(t.def.parse(i[o],r,o),o)}function c(t){for(var e,i=1;i<t.length;i++){var n=t[i],r=n.match(/^[\s\*]*/)[0];if(r!=n)if(null==e)e=r;else{for(var o=0;o<e.length&&e.charCodeAt(o)==r.charCodeAt(o);)++o;o<e.length&&(e=e.slice(0,o))}}for(t=t.map(function(t,i){if(t=t.replace(/\s+$/,""),0==i&&null!=e)for(var n=0;n<e.length;n++){var r=t.indexOf(e.slice(n));if(0==r)return t.slice(e.length-n)}return null==e||0==i?t.replace(/^[\s\*]*/,""):t.length<e.length?"":t.slice(e.length)});t.length&&!t[t.length-1];)t.pop();for(;t.length&&!t[0];)t.shift();return t}function u(e,i,n,r,o){b(e,n,r,i);var s=t.cx();!o&&r instanceof t.AVal&&r.types.length&&(o=r.types[r.types.length-1],o instanceof t.Obj&&o.origin==s.curOrigin&&!o.doc||(o=null));for(var a=i.length-1;a>=0;a--){var l=c(i[a].split(/\r\n?|\n/)).join("\n");if(l){r instanceof t.AVal&&(r.doc=l),o&&(o.doc=l);break}}}function h(t,e){for(;/\s/.test(t.charAt(e));)++e;return e}function p(t){if(!n.isIdentifierStart(t.charCodeAt(0)))return!1;for(var e=1;e<t.length;e++)if(!n.isIdentifierChar(t.charCodeAt(e)))return!1;return!0}function f(t,e,i,n){for(var r=[],o=[],s=!1,a=!0;i=h(e,i),!a||e.charAt(i)!=n;a=!1){var l=e.indexOf(":",i);if(l<0)return null;var c=e.slice(i,l);if(!p(c))return null;r.push(c),i=l+1;var u=m(t,e,i);if(!u)return null;i=u.end,s=s||u.madeUp,o.push(u.type),i=h(e,i);var f=e.charAt(i);if(++i,f==n)break;if(","!=f)return null}return{labels:r,types:o,end:i,madeUp:s}}function d(e,i,n){var r=g(e,i,n);return r?"[]"==i.slice(r.end,r.end+2)?{madeUp:r.madeUp,end:r.end+2,type:new t.Arr(r.type)}:r:null}function m(e,i,n){for(var r,o=!1,s=!1;;){var a=d(e,i,n);if(!a)return null;if(s=s||a.madeUp,o?a.type.propagate(o):r=a.type,n=h(i,a.end),"|"!=i.charAt(n))break;n++,o||(o=new t.AVal,r.propagate(o),r=o)}var l=!1;return"="==i.charAt(n)&&(++n,l=!0),{type:r,end:n,isOptional:l,madeUp:s}}function g(e,i,r){r=h(i,r);var o,s=!1;if(i.indexOf("function(",r)==r){var a=f(e,i,r+9,")"),l=t.ANull;if(!a)return null;if(r=h(i,a.end),":"==i.charAt(r)){++r;var c=m(e,i,r+1);if(!c)return null;r=c.end,l=c.type,s=c.madeUp}o=new t.Fn(null,t.ANull,a.types,a.labels,l)}else if("["==i.charAt(r)){var u=m(e,i,r+1);if(!u)return null;if(r=h(i,u.end),s=u.madeUp,"]"!=i.charAt(r))return null;++r,o=new t.Arr(u.type)}else if("{"==i.charAt(r)){var p=f(e,i,r+1,"}");if(!p)return null;o=new t.Obj((!0));for(var d=0;d<p.types.length;++d){var g=o.defProp(p.labels[d]);g.initializer=!0,p.types[d].propagate(g)}r=p.end,s=p.madeUp}else if("("==i.charAt(r)){var u=m(e,i,r+1);if(!u)return null;if(r=h(i,u.end),")"!=i.charAt(r))return null;++r,o=u.type}else{var y=r;if(!n.isIdentifierStart(i.charCodeAt(r)))return null;for(;n.isIdentifierChar(i.charCodeAt(r));)++r;if(y==r)return null;var b=i.slice(y,r);if(/^(number|integer)$/i.test(b))o=t.cx().num;else if(/^bool(ean)?$/i.test(b))o=t.cx().bool;else if(/^string$/i.test(b))o=t.cx().str;else if(/^(null|undefined)$/i.test(b))o=t.ANull;else if(/^array$/i.test(b)){var u=null;if("."==i.charAt(r)&&"<"==i.charAt(r+1)){var x=m(e,i,r+2);if(!x)return null;if(r=h(i,x.end),s=x.madeUp,">"!=i.charAt(r++))return null;u=x.type}o=new t.Arr(u)}else if(/^object$/i.test(b)){if(o=new t.Obj((!0)),"."==i.charAt(r)&&"<"==i.charAt(r+1)){var _=m(e,i,r+2);if(!_)return null;if(r=h(i,_.end),s=s||_.madeUp,","!=i.charAt(r++))return null;var w=m(e,i,r);if(!w)return null;if(r=h(i,w.end),s=_.madeUp||w.madeUp,">"!=i.charAt(r++))return null;w.type.propagate(o.defProp("<i>"))}}else{for(;46==i.charCodeAt(r)||n.isIdentifierChar(i.charCodeAt(r));)++r;var k,C=i.slice(y,r),S=t.cx(),T=S.parent&&S.parent.mod.jsdocTypedefs;T&&C in T?o=T[C]:(k=t.def.parsePath(C,e).getObjType())?o=v(k,C):(S.jsdocPlaceholders||(S.jsdocPlaceholders=Object.create(null)),o=C in S.jsdocPlaceholders?S.jsdocPlaceholders[C]:S.jsdocPlaceholders[C]=new t.Obj(null,C),s=!0)}}return{type:o,end:r,madeUp:s}}function v(e,i){if(e instanceof t.Fn&&/(?:^|\.)[A-Z][^\.]*$/.test(i)){var n=e.getProp("prototype").getObjType();if(n instanceof t.Obj)return t.getInstance(n)}return e}function y(t,e,i){if(i=h(e,i||0),"{"!=e.charAt(i))return null;var n=m(t,e,i+1);if(!n)return null;var r=h(e,n.end);return"}"!=e.charAt(r)?null:(n.end=r+1,n)}function b(t,e,i,n){for(var r,o,s,a,l,c,u=0;u<n.length;++u)for(var h,p=n[u],f=/(?:\n|$|\*)\s*@(type|param|arg(?:ument)?|returns?|this|class|constructor)\s+(.*)/g;h=f.exec(p);)if("class"!=h[1]&&"constructor"!=h[1]){if("this"==h[1]&&(c=m(e,h[2],0)))l=c,a=!0;else if(c=y(e,h[2]))switch(a=!0,h[1]){case"returns":case"return":s=c;break;case"type":r=c;break;case"param":case"arg":case"argument":var d=h[2].slice(c.end).match(/^\s*(\[?)\s*([^\]\s=]+)\s*(?:=[^\]]+\s*)?(\]?).*/);if(!d)continue;var g=d[2]+(c.isOptional||"["===d[1]&&"]"===d[3]?"?":"");(o||(o=Object.create(null)))[g]=c}}else l=a=!0;a&&k(r,l,o,s,t,i)}function x(e,i){for(var n,r=t.cx(),o=/\s@typedef\s+(.*)/g;n=o.exec(e);){var s=y(i,n[1]),a=s&&n[1].slice(s.end).match(/^\s*(\S+)/);if(a&&s.type instanceof t.Obj){for(var l=e.slice(n.index+n[0].length);n=/\s+@prop(?:erty)?\s+(.*)/.exec(l);){var c,u=y(i,n[1]);u&&(c=n[1].slice(u.end).match(/^\s*(\S+)/))&&u.type.propagate(s.type.defProp(c[1])),l=l.slice(n[0].length)}r.parent.mod.jsdocTypedefs[a[1]]=s.type}}}function _(e,i){var n=t.cx().parent.mod.docComment.weight;e.type.propagate(i,n||(e.madeUp?C:void 0))}function w(t){return"FunctionExpression"==t.type||"ArrowFunctionExpression"==t.type}function k(e,i,n,r,o,s){var a;if("VariableDeclaration"==o.type){var l=o.declarations[0];l.init&&w(l.init)&&(a=l.init.scope.fnType)}else"FunctionDeclaration"==o.type?a=o.scope.fnType:"AssignmentExpression"==o.type?w(o.right)&&(a=o.right.scope.fnType):"CallExpression"==o.type||w(o.value)&&(a=o.value.scope.fnType);if(a&&(n||r||i)){if(n)for(var c=0;c<a.argNames.length;++c){var u=a.argNames[c],h=n[u];!h&&(h=n[u+"?"])&&(a.argNames[c]+="?"),h&&_(h,a.args[c])}if(r&&(a.retval==t.ANull&&(a.retval=new t.AVal),_(r,a.retval)),i===!0){var p=a.getProp("prototype").getObjType();i=p&&{type:t.getInstance(p,a)}}i&&_(i,a.self)}else e&&_(e,s)}var C=1,S=101;e.registerPlugin("doc_comment",function(t,e){t.mod.jsdocTypedefs=Object.create(null),t.on("reset",function(){t.mod.jsdocTypedefs=Object.create(null)}),t.mod.docComment={weight:e&&e.strong?S:void 0,fullDocs:e&&e.fullDocs},t.on("postParse",o),t.on("postInfer",a),t.on("postLoadDef",l)})}),!function(t,e,i){"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof i.define&&i.define.amd?define(e):i[t]=e()}("Firepad",function(){var t=t||{};t.utils={},t.utils.makeEventEmitter=function(t,e){t.prototype.allowedEvents_=e,t.prototype.on=function(t,e,i){this.validateEventType_(t),this.eventListeners_=this.eventListeners_||{},this.eventListeners_[t]=this.eventListeners_[t]||[],this.eventListeners_[t].push({callback:e,context:i})},t.prototype.off=function(t,e){this.validateEventType_(t),this.eventListeners_=this.eventListeners_||{};for(var i=this.eventListeners_[t]||[],n=0;n<i.length;n++)if(i[n].callback===e)return void i.splice(n,1)},t.prototype.trigger=function(t){this.eventListeners_=this.eventListeners_||{};for(var e=this.eventListeners_[t]||[],i=0;i<e.length;i++)e[i].callback.apply(e[i].context,Array.prototype.slice.call(arguments,1))},t.prototype.validateEventType_=function(t){if(this.allowedEvents_){for(var e=!1,i=0;i<this.allowedEvents_.length;i++)if(this.allowedEvents_[i]===t){e=!0;break}if(!e)throw new Error('Unknown event "'+t+'"')}}},t.utils.elt=function(e,i,n){var r=document.createElement(e);if("string"==typeof i)t.utils.setTextContent(r,i);else if(i)for(var o=0;o<i.length;++o)r.appendChild(i[o]);for(var s in n||{})r.setAttribute(s,n[s]);return r},t.utils.setTextContent=function(t,e){t.innerHTML="",t.appendChild(document.createTextNode(e))},t.utils.on=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n||!1):t.attachEvent&&t.attachEvent("on"+e,i)},t.utils.off=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n||!1):t.detachEvent&&t.detachEvent("on"+e,i)},t.utils.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},t.utils.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},t.utils.stopEvent=function(e){t.utils.preventDefault(e),t.utils.stopPropagation(e)},t.utils.stopEventAnd=function(e){return function(i){return e(i),t.utils.stopEvent(i),!1}},t.utils.trim=function(t){return t.replace(/^\s+/g,"").replace(/\s+$/g,"")},t.utils.stringEndsWith=function(t,e){for(var i="string"==typeof e?[e]:e,n=0;n<i.length;n++){var e=i[n];if(-1!==t.indexOf(e,t.length-e.length))return!0}return!1},t.utils.assert=function(t,e){if(!t)throw new Error(e||"assertion error")},t.utils.log=function(){if("undefined"!=typeof console&&"undefined"!=typeof console.log){for(var t=["Firepad:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.log.apply(console,t)}};var t=t||{};t.Span=function(){function t(t,e){this.pos=t,this.length=e}return t.prototype.end=function(){return this.pos+this.length},t}();var t=t||{};t.TextOp=function(){function e(t){this.type=t,this.chars=null,this.text=null,this.attributes=null,"insert"===t?(this.text=arguments[1],i.assert("string"==typeof this.text),this.attributes=arguments[2]||{},i.assert("object"==typeof this.attributes)):"delete"===t?(this.chars=arguments[1],i.assert("number"==typeof this.chars)):"retain"===t&&(this.chars=arguments[1],i.assert("number"==typeof this.chars),this.attributes=arguments[2]||{},i.assert("object"==typeof this.attributes))}var i=t.utils;return e.prototype.isInsert=function(){return"insert"===this.type},e.prototype.isDelete=function(){return"delete"===this.type},e.prototype.isRetain=function(){return"retain"===this.type},e.prototype.equals=function(t){return this.type===t.type&&this.text===t.text&&this.chars===t.chars&&this.attributesEqual(t.attributes)},e.prototype.attributesEqual=function(t){for(var e in this.attributes)if(this.attributes[e]!==t[e])return!1;for(e in t)if(this.attributes[e]!==t[e])return!1;return!0},e.prototype.hasEmptyAttributes=function(){var t=!0;for(var e in this.attributes){t=!1;break}return t},e}();var t=t||{};t.TextOperation=function(){"use strict";function e(){return this&&this.constructor===e?(this.ops=[],this.baseLength=0,void(this.targetLength=0)):new e}function i(t){var e=t.ops;switch(e.length){case 1:return e[0];case 2:return e[0].isRetain()?e[1]:e[1].isRetain()?e[0]:null;case 3:if(e[0].isRetain()&&e[2].isRetain())return e[1]}return null}function n(t){return t.ops[0].isRetain()?t.ops[0].chars:0}var r=t.TextOp,o=t.utils;return e.prototype.equals=function(t){if(this.baseLength!==t.baseLength)return!1;if(this.targetLength!==t.targetLength)return!1;if(this.ops.length!==t.ops.length)return!1;for(var e=0;e<this.ops.length;e++)if(!this.ops[e].equals(t.ops[e]))return!1;return!0},e.prototype.retain=function(t,e){if("number"!=typeof t||0>t)throw new Error("retain expects a positive integer.");if(0===t)return this;this.baseLength+=t,this.targetLength+=t,e=e||{};var i=this.ops.length>0?this.ops[this.ops.length-1]:null;return i&&i.isRetain()&&i.attributesEqual(e)?i.chars+=t:this.ops.push(new r("retain",t,e)),this},e.prototype.insert=function(t,e){if("string"!=typeof t)throw new Error("insert expects a string");if(""===t)return this;e=e||{},this.targetLength+=t.length;var i=this.ops.length>0?this.ops[this.ops.length-1]:null,n=this.ops.length>1?this.ops[this.ops.length-2]:null;return i&&i.isInsert()&&i.attributesEqual(e)?i.text+=t:i&&i.isDelete()?n&&n.isInsert()&&n.attributesEqual(e)?n.text+=t:(this.ops[this.ops.length-1]=new r("insert",t,e),this.ops.push(i)):this.ops.push(new r("insert",t,e)),this},e.prototype["delete"]=function(t){if("string"==typeof t&&(t=t.length),"number"!=typeof t||0>t)throw new Error("delete expects a positive integer or a string");if(0===t)return this;this.baseLength+=t;var e=this.ops.length>0?this.ops[this.ops.length-1]:null;return e&&e.isDelete()?e.chars+=t:this.ops.push(new r("delete",t)),this},e.prototype.isNoop=function(){return 0===this.ops.length||1===this.ops.length&&this.ops[0].isRetain()&&this.ops[0].hasEmptyAttributes()},e.prototype.clone=function(){for(var t=new e,i=0;i<this.ops.length;i++)this.ops[i].isRetain()?t.retain(this.ops[i].chars,this.ops[i].attributes):this.ops[i].isInsert()?t.insert(this.ops[i].text,this.ops[i].attributes):t["delete"](this.ops[i].chars);return t},e.prototype.toString=function(){var t=Array.prototype.map||function(t){for(var e=this,i=[],n=0,r=e.length;r>n;n++)i[n]=t(e[n]);return i};return t.call(this.ops,function(t){return t.isRetain()?"retain "+t.chars:t.isInsert()?"insert '"+t.text+"'":"delete "+t.chars}).join(", ")},e.prototype.toJSON=function(){for(var t=[],e=0;e<this.ops.length;e++)this.ops[e].hasEmptyAttributes()||t.push(this.ops[e].attributes),"retain"===this.ops[e].type?t.push(this.ops[e].chars):"insert"===this.ops[e].type?t.push(this.ops[e].text):"delete"===this.ops[e].type&&t.push(-this.ops[e].chars);return 0===t.length&&t.push(0),t},e.fromJSON=function(t){for(var i=new e,n=0,r=t.length;r>n;n++){var s=t[n],a={};"object"==typeof s&&(a=s,n++,s=t[n]),"number"==typeof s?s>0?i.retain(s,a):i["delete"](-s):(o.assert("string"==typeof s),i.insert(s,a))}return i},e.prototype.apply=function(t,e,i){var n=this;if(e=e||[],i=i||[],t.length!==n.baseLength)throw new Error("The operation's base length must be equal to the string's length.");for(var r,s,a=[],l=0,c=0,u=this.ops,h=0,p=u.length;p>h;h++){var f=u[h];if(f.isRetain()){if(c+f.chars>t.length)throw new Error("Operation can't retain more characters than are left in the string.");for(a[l++]=t.slice(c,c+f.chars),r=0;r<f.chars;r++){var d=e[c+r]||{},m={};for(s in d)m[s]=d[s],o.assert(m[s]!==!1);for(s in f.attributes)f.attributes[s]===!1?delete m[s]:m[s]=f.attributes[s],o.assert(m[s]!==!1);i.push(m)}c+=f.chars}else if(f.isInsert())for(a[l++]=f.text,r=0;r<f.text.length;r++){var g={};for(s in f.attributes)g[s]=f.attributes[s],o.assert(g[s]!==!1);i.push(g)}else c+=f.chars}if(c!==t.length)throw new Error("The operation didn't operate on the whole string.");var v=a.join("");return o.assert(v.length===i.length),v},e.prototype.invert=function(t){for(var i=0,n=new e,r=this.ops,o=0,s=r.length;s>o;o++){var a=r[o];a.isRetain()?(n.retain(a.chars),i+=a.chars):a.isInsert()?n["delete"](a.text.length):(n.insert(t.slice(i,i+a.chars)),i+=a.chars)}return n},e.prototype.compose=function(t){function i(t,e,i){var n,r={};for(n in t)r[n]=t[n];for(n in e)i&&e[n]===!1?delete r[n]:r[n]=e[n];return r}var n=this;if(n.targetLength!==t.baseLength)throw new Error("The base length of the second operation has to be the target length of the first operation");for(var r,o=new e,s=n.clone().ops,a=t.clone().ops,l=0,c=0,u=s[l++],h=a[c++];"undefined"!=typeof u||"undefined"!=typeof h;)if(u&&u.isDelete())o["delete"](u.chars),u=s[l++];else if(h&&h.isInsert())o.insert(h.text,h.attributes),h=a[c++];else{if("undefined"==typeof u)throw new Error("Cannot compose operations: first operation is too short.");if("undefined"==typeof h)throw new Error("Cannot compose operations: first operation is too long.");if(u.isRetain()&&h.isRetain())r=i(u.attributes,h.attributes),u.chars>h.chars?(o.retain(h.chars,r),u.chars-=h.chars,h=a[c++]):u.chars===h.chars?(o.retain(u.chars,r),u=s[l++],h=a[c++]):(o.retain(u.chars,r),h.chars-=u.chars,u=s[l++]);else if(u.isInsert()&&h.isDelete())u.text.length>h.chars?(u.text=u.text.slice(h.chars),h=a[c++]):u.text.length===h.chars?(u=s[l++],h=a[c++]):(h.chars-=u.text.length,u=s[l++]);else if(u.isInsert()&&h.isRetain())r=i(u.attributes,h.attributes,!0),u.text.length>h.chars?(o.insert(u.text.slice(0,h.chars),r),u.text=u.text.slice(h.chars),h=a[c++]):u.text.length===h.chars?(o.insert(u.text,r),u=s[l++],h=a[c++]):(o.insert(u.text,r),h.chars-=u.text.length,u=s[l++]);else{if(!u.isRetain()||!h.isDelete())throw new Error("This shouldn't happen: op1: "+JSON.stringify(u)+", op2: "+JSON.stringify(h));u.chars>h.chars?(o["delete"](h.chars),u.chars-=h.chars,h=a[c++]):u.chars===h.chars?(o["delete"](h.chars),u=s[l++],h=a[c++]):(o["delete"](u.chars),h.chars-=u.chars,u=s[l++])}}return o},e.prototype.shouldBeComposedWith=function(t){if(this.isNoop()||t.isNoop())return!0;var e=n(this),r=n(t),o=i(this),s=i(t);return!(!o||!s)&&(o.isInsert()&&s.isInsert()?e+o.text.length===r:!(!o.isDelete()||!s.isDelete())&&(r+s.chars===e||e===r))},e.prototype.shouldBeComposedWithInverted=function(t){if(this.isNoop()||t.isNoop())return!0;var e=n(this),r=n(t),o=i(this),s=i(t);return!(!o||!s)&&(o.isInsert()&&s.isInsert()?e+o.text.length===r||e===r:!(!o.isDelete()||!s.isDelete())&&r+s.chars===e)},e.transformAttributes=function(t,e){var i,n={},r={},s={};for(i in t)s[i]=!0;for(i in e)s[i]=!0;for(i in s){var a=t[i],l=e[i];o.assert(null!=a||null!=l),null==a?r[i]=l:null==l?n[i]=a:a===l||(n[i]=a)}return[n,r]},e.transform=function(t,i){if(t.baseLength!==i.baseLength)throw new Error("Both operations have to have the same base length");for(var n=new e,r=new e,o=t.clone().ops,s=i.clone().ops,a=0,l=0,c=o[a++],u=s[l++];"undefined"!=typeof c||"undefined"!=typeof u;)if(c&&c.isInsert())n.insert(c.text,c.attributes),r.retain(c.text.length),c=o[a++];else if(u&&u.isInsert())n.retain(u.text.length),r.insert(u.text,u.attributes),u=s[l++];else{if("undefined"==typeof c)throw new Error("Cannot transform operations: first operation is too short.");if("undefined"==typeof u)throw new Error("Cannot transform operations: first operation is too long.");var h;if(c.isRetain()&&u.isRetain()){var p=e.transformAttributes(c.attributes,u.attributes);c.chars>u.chars?(h=u.chars,c.chars-=u.chars,u=s[l++]):c.chars===u.chars?(h=u.chars,c=o[a++],u=s[l++]):(h=c.chars,u.chars-=c.chars,c=o[a++]),n.retain(h,p[0]),r.retain(h,p[1])}else if(c.isDelete()&&u.isDelete())c.chars>u.chars?(c.chars-=u.chars,u=s[l++]):c.chars===u.chars?(c=o[a++],u=s[l++]):(u.chars-=c.chars,c=o[a++]);else if(c.isDelete()&&u.isRetain())c.chars>u.chars?(h=u.chars,c.chars-=u.chars,u=s[l++]):c.chars===u.chars?(h=u.chars,c=o[a++],u=s[l++]):(h=c.chars,u.chars-=c.chars,c=o[a++]),n["delete"](h);else{if(!c.isRetain()||!u.isDelete())throw new Error("The two operations aren't compatible");c.chars>u.chars?(h=u.chars,c.chars-=u.chars,u=s[l++]):c.chars===u.chars?(h=c.chars,c=o[a++],u=s[l++]):(h=c.chars,u.chars-=c.chars,c=o[a++]),r["delete"](h)}}return[n,r]},e}();var t=t||{};t.AnnotationList=function(){function e(t,e){if(!t)throw new Error("AnnotationList assertion failed"+(e?": "+e:""))}function i(t,e){this.pos=t,this.length=e.length,this.annotation=e.annotation,this.attachedObject_=e.attachedObject}function n(t,e){this.pos=t,this.length=e.length,this.annotation=e.annotation,this.node_=e}function r(t){this.head_=new o(0,a),this.changeHandler_=t}function o(t,e){this.length=t,this.annotation=e,this.attachedObject=null,this.next=null}var s=t.Span;i.prototype.getAttachedObject=function(){return this.attachedObject_},n.prototype.attachObject=function(t){this.node_.attachedObject=t};var a={equals:function(){return!1}};return r.prototype.insertAnnotatedSpan=function(t,i){this.wrapOperation_(new s(t.pos,0),function(n,r){e(!r||null===r.next);var s=new o(t.length,i);if(r){e(t.pos>n&&t.pos<n+r.length);var l=new o(0,a);return l.next=new o(t.pos-n,r.annotation),l.next.next=s,s.next=new o(n+r.length-t.pos,r.annotation),l.next}return s})},r.prototype.removeSpan=function(t){0!==t.length&&this.wrapOperation_(t,function(i,n){e(null!==n);var r=new o(0,a),s=r;for(t.pos>i&&(s.next=new o(t.pos-i,n.annotation),s=s.next);t.end()>i+n.length;)i+=n.length,n=n.next;var l=i+n.length-t.end();return l>0&&(s.next=new o(l,n.annotation)),r.next})},r.prototype.updateSpan=function(t,i){0!==t.length&&this.wrapOperation_(t,function(n,r){e(null!==r);var s=new o(0,a),l=s,c=n,u=t.pos-c;for(e(u<r.length),u>0&&(l.next=new o(u,r.annotation),l=l.next,c+=l.length);null!==r&&t.end()>=n+r.length;){var h=n+r.length-c;l.next=new o(h,i(r.annotation,h)),l=l.next,n+=r.length,r=r.next,c=n}var p=t.end()-c;return p>0&&(e(p<r.length),l.next=new o(p,i(r.annotation,p)),l=l.next,c+=l.length,l.next=new o(n+r.length-c,r.annotation)),s.next})},r.prototype.wrapOperation_=function(t,e){if(t.pos<0)throw new Error("Span start cannot be negative.");var r,s=[],a=[],l=this.getAffectedNodes_(t);null!==l.start?(r=l.end.next,l.end.next=null):r=l.succ;var c=e(l.startPos,l.start),u=!1,h=!1;if(c){this.mergeNodesWithSameAnnotations_(c);var p;for(l.pred&&l.pred.annotation.equals(c.annotation)?(u=!0,c.length+=l.pred.length,l.beforePred.next=c,p=l.predPos):(l.beforeStart.next=c,p=l.startPos);c.next;)a.push(new n(p,c)),p+=c.length,c=c.next;l.succ&&l.succ.annotation.equals(c.annotation)?(c.length+=l.succ.length,h=!0,c.next=l.succ.next):c.next=r,a.push(new n(p,c))}else l.pred&&l.succ&&l.pred.annotation.equals(l.succ.annotation)?(u=!0,h=!0,c=new o(l.pred.length+l.succ.length,l.pred.annotation),l.beforePred.next=c,c.next=l.succ.next,a.push(new n(l.startPos-l.pred.length,c))):l.beforeStart.next=r;u&&s.push(new i(l.predPos,l.pred));for(var f=l.startPos,d=l.start;null!==d;)s.push(new i(f,d)),f+=d.length,d=d.next;h&&s.push(new i(f,l.succ)),this.changeHandler_(s,a)},r.prototype.getAffectedNodes_=function(t){for(var e={},i=null,n=this.head_,r=n.next,o=0;null!==r&&t.pos>=o+r.length;)o+=r.length,i=n,n=r,r=r.next;if(null===r&&(0!==t.length||t.pos!==o))throw new Error("Span start exceeds the bounds of the AnnotationList.");for(e.startPos=o,0===t.length&&t.pos===o?e.start=null:e.start=r,e.beforeStart=n,o===t.pos&&o>0?(e.pred=n,e.predPos=o-n.length,e.beforePred=i):e.pred=null;null!==r&&t.end()>o;)o+=r.length,n=r,r=r.next;if(t.end()>o)throw new Error("Span end exceeds the bounds of the AnnotationList.");return 0===t.length&&t.end()===o?e.end=null:e.end=n,e.succ=o===t.end()?r:null,e},r.prototype.mergeNodesWithSameAnnotations_=function(t){if(t)for(var e=null,i=t;i;)e&&e.annotation.equals(i.annotation)?(e.length+=i.length,e.next=i.next):e=i,i=i.next},r.prototype.forEach=function(t){for(var e=this.head_.next;null!==e;)t(e.length,e.annotation,e.attachedObject),e=e.next},r.prototype.getAnnotatedSpansForPos=function(t){for(var e=0,n=this.head_.next,r=null;null!==n&&e+n.length<=t;)e+=n.length,r=n,n=n.next;if(null===n&&e!==t)throw new Error("pos exceeds the bounds of the AnnotationList");var o=[];return e===t&&r&&o.push(new i(e-r.length,r)),n&&o.push(new i(e,n)),o},r.prototype.getAnnotatedSpansForSpan=function(t){if(0===t.length)return[];for(var e=[],i=this.getAffectedNodes_(t),n=i.startPos,r=i.start;null!==r&&n<t.end();){var o=Math.max(n,t.pos),a=Math.min(n+r.length,t.end()),l=new s(o,a-o);l.annotation=r.annotation,e.push(l),n+=r.length,r=r.next}return e},r.prototype.count=function(){for(var t=0,i=this.head_.next,n=null;null!==i;)n&&e(!n.annotation.equals(i.annotation)),n=i,i=i.next,t++;return t},o.prototype.clone=function(){var t=new o(this.spanLength,this.annotation);return t.next=this.next,t},r}();var t=t||{};t.Cursor=function(){"use strict";function t(t,e){this.position=t,this.selectionEnd=e}return t.fromJSON=function(e){return new t(e.position,e.selectionEnd)},t.prototype.equals=function(t){return this.position===t.position&&this.selectionEnd===t.selectionEnd},t.prototype.compose=function(t){return t},t.prototype.transform=function(e){function i(t){for(var i=t,n=e.ops,r=0,o=e.ops.length;o>r&&(n[r].isRetain()?t-=n[r].chars:n[r].isInsert()?i+=n[r].text.length:(i-=Math.min(t,n[r].chars),t-=n[r].chars),!(0>t));r++);return i}var n=i(this.position);return this.position===this.selectionEnd?new t(n,n):new t(n,i(this.selectionEnd))},t}();var t=t||{};t.FirebaseAdapter=function(e){function i(t,e,i){this.ref_=t,this.ready_=!1,this.firebaseCallbacks_=[],this.zombie_=!1,this.document_=new s,this.revision_=0,this.pendingReceivedRevisions_={};var n=this;e?(this.setUserId(e),this.setColor(i),this.firebaseOn_(t.root().child(".info/connected"),"value",function(t){t.val()===!0&&n.initializeUserData_()},this),this.on("ready",function(){n.monitorCursors_()})):this.userId_=t.push().key(),setTimeout(function(){n.monitorHistory_()},0)}function n(t,e){if(!t)throw new Error(e||"assertion error")}function r(t){if(0===t)return"A0";for(var e="";t>0;){var i=t%c.length;e=c[i]+e,t-=i,t/=c.length}var n=c[e.length+9];return n+e}function o(t){n(t.length>0&&t[0]===c[t.length+8]);for(var e=0,i=1;i<t.length;i++)e*=c.length,e+=c.indexOf(t[i]);return e}"function"==typeof require&&"function"!=typeof Firebase&&(Firebase=require("firebase"));var s=t.TextOperation,a=t.utils,l=100;a.makeEventEmitter(i,["ready","cursor","operation","ack","retry"]),i.prototype.dispose=function(){this.removeFirebaseCallbacks_(),this.userRef_.child("cursor").remove(),this.userRef_.child("color").remove(),this.ref_=null,this.document_=null,this.zombie_=!0},i.prototype.setUserId=function(t){this.userRef_&&(this.userRef_.child("cursor").remove(),this.userRef_.child("cursor").onDisconnect().cancel(),this.userRef_.child("color").remove(),this.userRef_.child("color").onDisconnect().cancel()),this.userId_=t,this.userRef_=this.ref_.child("users").child(t),this.initializeUserData_()},i.prototype.isHistoryEmpty=function(){return n(this.ready_,"Not ready yet."),0===this.revision_},i.prototype.sendOperation=function(t,e){function i(t,n){o.ref_.child("history").child(t).transaction(function(t){return null===t?n:void 0},function(r,s,l){if(r){if("disconnect"!==r.message)throw a.log("Transaction failure!",r),r;o.sent_&&o.sent_.id===t?setTimeout(function(){i(t,n)},0):e&&e(r,!1)}else e&&e(null,s)},!1)}var o=this;if(!this.ready_)return void this.on("ready",function(){o.trigger("retry")});n(this.document_.targetLength===t.baseLength,"sendOperation() called with invalid operation.");var s=r(this.revision_);this.sent_={id:s,op:t},i(s,{a:o.userId_,o:t.toJSON(),t:Firebase.ServerValue.TIMESTAMP})},i.prototype.sendCursor=function(t){this.userRef_.child("cursor").set(t),this.cursor_=t},i.prototype.setColor=function(t){this.userRef_.child("color").set(t),this.color_=t},i.prototype.getDocument=function(){return this.document_},i.prototype.registerCallbacks=function(t){for(var e in t)this.on(e,t[e])},i.prototype.initializeUserData_=function(){this.userRef_.child("cursor").onDisconnect().remove(),this.userRef_.child("color").onDisconnect().remove(),this.sendCursor(this.cursor_||null),this.setColor(this.color_||null)},i.prototype.monitorCursors_=function(){function t(t){var e=t.key(),n=t.val();i.trigger("cursor",e,n.cursor,n.color)}var e=this.ref_.child("users"),i=this;this.firebaseOn_(e,"child_added",t),this.firebaseOn_(e,"child_changed",t),this.firebaseOn_(e,"child_removed",function(t){var e=t.key();i.trigger("cursor",e,null)})},i.prototype.monitorHistory_=function(){var t=this;this.ref_.child("checkpoint").once("value",function(e){if(!t.zombie_){var i=e.child("id").val(),n=e.child("o").val(),r=e.child("a").val();null!=n&&null!=i&&null!==r?(t.pendingReceivedRevisions_[i]={o:n,a:r},t.checkpointRevision_=o(i),t.monitorHistoryStartingAt_(t.checkpointRevision_+1)):(t.checkpointRevision_=0,t.monitorHistoryStartingAt_(t.checkpointRevision_))}})},i.prototype.monitorHistoryStartingAt_=function(t){var e=this.ref_.child("history").startAt(null,r(t)),i=this;setTimeout(function(){i.firebaseOn_(e,"child_added",function(t){var e=t.key();i.pendingReceivedRevisions_[e]=t.val(),i.ready_&&i.handlePendingReceivedRevisions_()}),e.once("value",function(){i.handleInitialRevisions_()})},0)},i.prototype.handleInitialRevisions_=function(){n(!this.ready_,"Should not be called multiple times."),this.revision_=this.checkpointRevision_;for(var t=r(this.revision_),e=this.pendingReceivedRevisions_;null!=e[t];){var i=this.parseRevision_(e[t]);i?this.document_=this.document_.compose(i.operation):a.log("Invalid operation.",this.ref_.toString(),t,e[t]),delete e[t],this.revision_++,t=r(this.revision_)}this.trigger("operation",this.document_),this.ready_=!0;var o=this;setTimeout(function(){o.trigger("ready")},0)},i.prototype.handlePendingReceivedRevisions_=function(){for(var t=this.pendingReceivedRevisions_,e=r(this.revision_),i=!1;null!=t[e];){this.revision_++;var n=this.parseRevision_(t[e]);n?(this.document_=this.document_.compose(n.operation),this.sent_&&e===this.sent_.id?this.sent_.op.equals(n.operation)&&n.author===this.userId_?(this.revision_%l===0&&this.saveCheckpoint_(),this.sent_=null,this.trigger("ack")):(i=!0,this.trigger("operation",n.operation)):this.trigger("operation",n.operation)):a.log("Invalid operation.",this.ref_.toString(),e,t[e]),delete t[e],e=r(this.revision_)}i&&(this.sent_=null,this.trigger("retry"))},i.prototype.parseRevision_=function(t){if("object"!=typeof t)return null;if("string"!=typeof t.a||"object"!=typeof t.o)return null;var e=null;try{e=s.fromJSON(t.o)}catch(i){return null}return e.baseLength!==this.document_.targetLength?null:{author:t.a,operation:e}},i.prototype.saveCheckpoint_=function(){this.ref_.child("checkpoint").set({a:this.userId_,o:this.document_.toJSON(),id:r(this.revision_-1)})},i.prototype.firebaseOn_=function(t,e,i,n){return this.firebaseCallbacks_.push({ref:t,eventType:e,callback:i,context:n}),t.on(e,i,n),i},i.prototype.firebaseOff_=function(t,e,i,n){t.off(e,i,n);for(var r=0;r<this.firebaseCallbacks_.length;r++){var o=this.firebaseCallbacks_[r];if(o.ref===t&&o.eventType===e&&o.callback===i&&o.context===n){this.firebaseCallbacks_.splice(r,1);break}}},i.prototype.removeFirebaseCallbacks_=function(){for(var t=0;t<this.firebaseCallbacks_.length;t++){var e=this.firebaseCallbacks_[t];e.ref.off(e.eventType,e.callback,e.context)}this.firebaseCallbacks_=[]};var c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";return i}();var t=t||{};t.RichTextToolbar=function(e){function i(t){this.imageInsertionUI=t,this.element_=this.makeElement_()}var n=t.utils;return n.makeEventEmitter(i,["bold","italic","underline","strike","font","font-size","color","left","center","right","unordered-list","ordered-list","todo-list","indent-increase","indent-decrease","undo","redo","insert-image"]),i.prototype.element=function(){return this.element_},i.prototype.makeButton_=function(t,e){var i=this;e=e||t;var r=n.elt("a",[n.elt("span","",{"class":"firepad-tb-"+e})],{"class":"firepad-btn"});return n.on(r,"click",n.stopEventAnd(function(){i.trigger(t)})),r},i.prototype.makeElement_=function(){var t=this,e=this.makeFontDropdown_(),i=this.makeFontSizeDropdown_(),r=this.makeColorDropdown_(),o=[n.elt("div",[e],{"class":"firepad-btn-group"}),n.elt("div",[i],{"class":"firepad-btn-group"}),n.elt("div",[r],{"class":"firepad-btn-group"}),n.elt("div",[t.makeButton_("bold"),t.makeButton_("italic"),t.makeButton_("underline"),t.makeButton_("strike","strikethrough")],{"class":"firepad-btn-group"}),n.elt("div",[t.makeButton_("unordered-list","list-2"),t.makeButton_("ordered-list","numbered-list"),t.makeButton_("todo-list","list")],{"class":"firepad-btn-group"}),n.elt("div",[t.makeButton_("indent-decrease"),t.makeButton_("indent-increase")],{"class":"firepad-btn-group"}),n.elt("div",[t.makeButton_("left","paragraph-left"),t.makeButton_("center","paragraph-center"),t.makeButton_("right","paragraph-right")],{
"class":"firepad-btn-group"}),n.elt("div",[t.makeButton_("undo"),t.makeButton_("redo")],{"class":"firepad-btn-group"})];t.imageInsertionUI&&o.push(n.elt("div",[t.makeButton_("insert-image")],{"class":"firepad-btn-group"}));var s=n.elt("div",o,{"class":"firepad-toolbar-wrapper"}),a=n.elt("div",null,{"class":"firepad-toolbar"});return a.appendChild(s),a},i.prototype.makeFontDropdown_=function(){for(var t=["Arial","Comic Sans MS","Courier New","Impact","Times New Roman","Verdana"],e=[],i=0;i<t.length;i++){var r=n.elt("span",t[i]);r.setAttribute("style","font-family:"+t[i]),e.push({content:r,value:t[i]})}return this.makeDropdown_("Font","font",e)},i.prototype.makeFontSizeDropdown_=function(){for(var t=[9,10,12,14,18,24,32,42],e=[],i=0;i<t.length;i++){var r=n.elt("span",t[i].toString());r.setAttribute("style","font-size:"+t[i]+"px; line-height:"+(t[i]-6)+"px;"),e.push({content:r,value:t[i]})}return this.makeDropdown_("Size","font-size",e,"px")},i.prototype.makeColorDropdown_=function(){for(var t=["black","red","green","blue","yellow","cyan","magenta","grey"],e=[],i=0;i<t.length;i++){var r=n.elt("div");r.className="firepad-color-dropdown-item",r.setAttribute("style","background-color:"+t[i]),e.push({content:r,value:t[i]})}return this.makeDropdown_("Color","color",e)},i.prototype.makeDropdown_=function(t,e,i,r){function o(){h||(u.style.display="block",n.on(document,"click",s,!0),h=!0)}function s(){h&&(u.style.display="",n.off(document,"click",s,!0),h=!1),p=!0,setTimeout(function(){p=!1},0)}function a(t,i){"object"!=typeof t&&(t=document.createTextNode(String(t)));var o=n.elt("a",[t]);n.on(o,"click",n.stopEventAnd(function(){s(),l.trigger(e,i+r)})),u.appendChild(o)}r=r||"";var l=this,c=n.elt("a",t+" â–¾",{"class":"firepad-btn firepad-dropdown"}),u=n.elt("ul",[],{"class":"firepad-dropdown-menu"});c.appendChild(u);for(var h=!1,p=!1,f=0;f<i.length;f++){var d=i[f].content,m=i[f].value;a(d,m)}return n.on(c,"click",n.stopEventAnd(function(){p||o()})),c},i}();var t=t||{};t.WrappedOperation=function(t){"use strict";function e(t,e){this.wrapped=t,this.meta=e}function i(t,e){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}function n(t,e){if(t&&"object"==typeof t){if("function"==typeof t.compose)return t.compose(e);var n={};return i(t,n),i(e,n),n}return e}function r(t,e){return t&&"object"==typeof t&&"function"==typeof t.transform?t.transform(e):t}return e.prototype.apply=function(){return this.wrapped.apply.apply(this.wrapped,arguments)},e.prototype.invert=function(){var t=this.meta;return new e(this.wrapped.invert.apply(this.wrapped,arguments),t&&"object"==typeof t&&"function"==typeof t.invert?t.invert.apply(t,arguments):t)},e.prototype.compose=function(t){return new e(this.wrapped.compose(t.wrapped),n(this.meta,t.meta))},e.transform=function(t,i){var n=t.wrapped.constructor.transform,o=n(t.wrapped,i.wrapped);return[new e(o[0],r(t.meta,i.wrapped)),new e(o[1],r(i.meta,t.wrapped))]},e}();var t=t||{};t.UndoManager=function(){"use strict";function t(t){this.maxItems=t||50,this.state=i,this.dontCompose=!1,this.undoStack=[],this.redoStack=[]}function e(t,e){for(var i=[],n=e.constructor,r=t.length-1;r>=0;r--){var o=n.transform(t[r],e);"function"==typeof o[0].isNoop&&o[0].isNoop()||i.push(o[0]),e=o[1]}return i.reverse()}var i="normal",n="undoing",r="redoing";return t.prototype.add=function(t,e){if(this.state===n)this.redoStack.push(t),this.dontCompose=!0;else if(this.state===r)this.undoStack.push(t),this.dontCompose=!0;else{var i=this.undoStack;!this.dontCompose&&e&&i.length>0?i.push(t.compose(i.pop())):(i.push(t),i.length>this.maxItems&&i.shift()),this.dontCompose=!1,this.redoStack=[]}},t.prototype.transform=function(t){this.undoStack=e(this.undoStack,t),this.redoStack=e(this.redoStack,t)},t.prototype.performUndo=function(t){if(this.state=n,0===this.undoStack.length)throw new Error("undo not possible");t(this.undoStack.pop()),this.state=i},t.prototype.performRedo=function(t){if(this.state=r,0===this.redoStack.length)throw new Error("redo not possible");t(this.redoStack.pop()),this.state=i},t.prototype.canUndo=function(){return 0!==this.undoStack.length},t.prototype.canRedo=function(){return 0!==this.redoStack.length},t.prototype.isUndoing=function(){return this.state===n},t.prototype.isRedoing=function(){return this.state===r},t}();var t=t||{};t.Client=function(){"use strict";function t(){this.state=r}function e(){}function i(t){this.outstanding=t}function n(t,e){this.outstanding=t,this.buffer=e}t.prototype.setState=function(t){this.state=t},t.prototype.applyClient=function(t){this.setState(this.state.applyClient(this,t))},t.prototype.applyServer=function(t){this.setState(this.state.applyServer(this,t))},t.prototype.serverAck=function(){this.setState(this.state.serverAck(this))},t.prototype.serverRetry=function(){this.setState(this.state.serverRetry(this))},t.prototype.sendOperation=function(t){throw new Error("sendOperation must be defined in child class")},t.prototype.applyOperation=function(t){throw new Error("applyOperation must be defined in child class")},t.Synchronized=e,e.prototype.applyClient=function(t,e){return t.sendOperation(e),new i(e)},e.prototype.applyServer=function(t,e){return t.applyOperation(e),this},e.prototype.serverAck=function(t){throw new Error("There is no pending operation.")},e.prototype.serverRetry=function(t){throw new Error("There is no pending operation.")};var r=new e;return t.AwaitingConfirm=i,i.prototype.applyClient=function(t,e){return new n(this.outstanding,e)},i.prototype.applyServer=function(t,e){var n=e.constructor.transform(this.outstanding,e);return t.applyOperation(n[1]),new i(n[0])},i.prototype.serverAck=function(t){return r},i.prototype.serverRetry=function(t){return t.sendOperation(this.outstanding),this},t.AwaitingWithBuffer=n,n.prototype.applyClient=function(t,e){var i=this.buffer.compose(e);return new n(this.outstanding,i)},n.prototype.applyServer=function(t,e){var i=e.constructor.transform,r=i(this.outstanding,e),o=i(this.buffer,r[1]);return t.applyOperation(o[1]),new n(r[0],o[0])},n.prototype.serverRetry=function(t){var e=this.outstanding.compose(this.buffer);return t.sendOperation(e),new i(e)},n.prototype.serverAck=function(t){return t.sendOperation(this.buffer),new i(this.buffer)},t}();var t=t||{};t.EditorClient=function(){"use strict";function e(t,e){this.cursorBefore=t,this.cursorAfter=e}function i(t,e){this.id=t,this.editorAdapter=e,this.li=document.createElement("li")}function n(t,e){s.call(this),this.serverAdapter=t,this.editorAdapter=e,this.undoManager=new l,this.clients={};var i=this;this.editorAdapter.registerCallbacks({change:function(t,e){i.onChange(t,e)},cursorActivity:function(){i.onCursorActivity()},blur:function(){i.onBlur()},focus:function(){i.onFocus()}}),this.editorAdapter.registerUndo(function(){i.undo()}),this.editorAdapter.registerRedo(function(){i.redo()}),this.serverAdapter.registerCallbacks({ack:function(){i.serverAck(),i.focused&&i.state instanceof s.Synchronized&&(i.updateCursor(),i.sendCursor(i.cursor)),i.emitStatus()},retry:function(){i.serverRetry()},operation:function(t){i.applyServer(t)},cursor:function(t,e,n){if(i.serverAdapter.userId_!==t&&i.state instanceof s.Synchronized){var r=i.getClientObject(t);e?(n&&r.setColor(n),r.updateCursor(a.fromJSON(e))):r.removeCursor()}}})}function r(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function o(t){return t[t.length-1]}var s=t.Client,a=t.Cursor,l=t.UndoManager,c=t.WrappedOperation;return e.prototype.invert=function(){return new e(this.cursorAfter,this.cursorBefore)},e.prototype.compose=function(t){return new e(this.cursorBefore,t.cursorAfter)},e.prototype.transform=function(t){return new e(this.cursorBefore?this.cursorBefore.transform(t):null,this.cursorAfter?this.cursorAfter.transform(t):null)},i.prototype.setColor=function(t){this.color=t},i.prototype.updateCursor=function(t){this.removeCursor(),this.cursor=t,this.mark=this.editorAdapter.setOtherCursor(t,this.color,this.id)},i.prototype.removeCursor=function(){this.mark&&this.mark.clear()},r(n,s),n.prototype.getClientObject=function(t){var e=this.clients[t];return e?e:this.clients[t]=new i(t,this.editorAdapter)},n.prototype.applyUnredo=function(t){this.undoManager.add(this.editorAdapter.invertOperation(t)),this.editorAdapter.applyOperation(t.wrapped),this.cursor=t.meta.cursorAfter,this.cursor&&this.editorAdapter.setCursor(this.cursor),this.applyClient(t.wrapped)},n.prototype.undo=function(){var t=this;this.undoManager.canUndo()&&this.undoManager.performUndo(function(e){t.applyUnredo(e)})},n.prototype.redo=function(){var t=this;this.undoManager.canRedo()&&this.undoManager.performRedo(function(e){t.applyUnredo(e)})},n.prototype.onChange=function(t,i){var n=this.cursor;this.updateCursor();var r=this.undoManager.undoStack.length>0&&i.shouldBeComposedWithInverted(o(this.undoManager.undoStack).wrapped),s=new e(this.cursor,n);this.undoManager.add(new c(i,s),r),this.applyClient(t)},n.prototype.updateCursor=function(){this.cursor=this.editorAdapter.getCursor()},n.prototype.onCursorActivity=function(){var t=this.cursor;this.updateCursor(),!this.focused||t&&this.cursor.equals(t)||this.sendCursor(this.cursor)},n.prototype.onBlur=function(){this.cursor=null,this.sendCursor(null),this.focused=!1},n.prototype.onFocus=function(){this.focused=!0,this.onCursorActivity()},n.prototype.sendCursor=function(t){this.state instanceof s.AwaitingWithBuffer||this.serverAdapter.sendCursor(t)},n.prototype.sendOperation=function(t){this.serverAdapter.sendOperation(t),this.emitStatus()},n.prototype.applyOperation=function(t){this.editorAdapter.applyOperation(t),this.updateCursor(),this.undoManager.transform(new c(t,null))},n.prototype.emitStatus=function(){var t=this;setTimeout(function(){t.trigger("synced",t.state instanceof s.Synchronized)},0)},n}(),t.utils.makeEventEmitter(t.EditorClient,["synced"]);var e,t,i=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;("undefined"==typeof t||null===t)&&(t={}),t.ACEAdapter=e=function(){function e(t){this.onCursorActivity=i(this.onCursorActivity,this),this.onFocus=i(this.onFocus,this),this.onBlur=i(this.onBlur,this),this.onChange=i(this.onChange,this);var e;this.ace=t,this.aceSession=this.ace.getSession(),this.aceDoc=this.aceSession.getDocument(),this.aceDoc.setNewLineMode("unix"),this.grabDocumentState(),this.ace.on("change",this.onChange),this.ace.on("blur",this.onBlur),this.ace.on("focus",this.onFocus),this.aceSession.selection.on("changeCursor",this.onCursorActivity),null==this.aceRange&&(this.aceRange=(null!=(e=ace.require)?e:require)("ace/range").Range)}return e.prototype.ignoreChanges=!1,e.prototype.grabDocumentState=function(){return this.lastDocLines=this.aceDoc.getAllLines(),this.lastCursorRange=this.aceSession.selection.getRange()},e.prototype.detach=function(){return this.ace.removeListener("change",this.onChange),this.ace.removeListener("blur",this.onBlur),this.ace.removeListener("focus",this.onCursorActivity),this.aceSession.selection.removeListener("changeCursor",this.onCursorActivity)},e.prototype.onChange=function(t){var e;return this.ignoreChanges?void 0:(e=this.operationFromACEChange(t),this.trigger.apply(this,["change"].concat(n.call(e))),this.grabDocumentState())},e.prototype.onBlur=function(){return this.ace.selection.isEmpty()?this.trigger("blur"):void 0},e.prototype.onFocus=function(){return this.trigger("focus")},e.prototype.onCursorActivity=function(){var t=this;return setTimeout(function(){return t.trigger("cursorActivity")},0)},e.prototype.operationFromACEChange=function(e){var i,n,r,o,s,a,l,c,u;return n=e.data,"insertLines"===(c=n.action)||"removeLines"===c?(l=n.lines.join("\n")+"\n",i=n.action.replace("Lines","")):(l=n.text.replace(this.aceDoc.getNewLineCharacter(),"\n"),i=n.action.replace("Text","")),a=this.indexFromPos(n.range.start),s=this.lastDocLines.join("\n").length-a,"remove"===i&&(s-=l.length),o=(new t.TextOperation).retain(a).insert(l).retain(s),r=(new t.TextOperation).retain(a)["delete"](l).retain(s),"remove"===i&&(u=[r,o],o=u[0],r=u[1]),[o,r]},e.prototype.applyOperationToACE=function(t){var e,i,n,r,o,s,a,l;for(i=0,l=t.ops,s=0,a=l.length;a>s;s++)n=l[s],n.isRetain()?i+=n.chars:n.isInsert()?(this.aceDoc.insert(this.posFromIndex(i),n.text),i+=n.text.length):n.isDelete()&&(e=this.posFromIndex(i),o=this.posFromIndex(i+n.chars),r=this.aceRange.fromPoints(e,o),this.aceDoc.remove(r));return this.grabDocumentState()},e.prototype.posFromIndex=function(t){var e,i,n,r,o;for(o=this.aceDoc.$lines,i=n=0,r=o.length;r>n&&(e=o[i],!(t<=e.length));i=++n)t-=e.length+1;return{row:i,column:t}},e.prototype.indexFromPos=function(t,e){var i,n,r,o;for(null==e&&(e=this.lastDocLines),n=0,i=r=0,o=t.row;o>=0?o>r:r>o;i=o>=0?++r:--r)n+=this.lastDocLines[i].length+1;return n+=t.column},e.prototype.getValue=function(){return this.aceDoc.getValue()},e.prototype.getCursor=function(){var e,i,n,r,o,s;try{r=this.indexFromPos(this.aceSession.selection.getRange().start,this.aceDoc.$lines),n=this.indexFromPos(this.aceSession.selection.getRange().end,this.aceDoc.$lines)}catch(a){e=a;try{r=this.indexFromPos(this.lastCursorRange.start),n=this.indexFromPos(this.lastCursorRange.end)}catch(a){i=a,console.log("Couldn't figure out the cursor range:",i,"-- setting it to 0:0."),o=[0,0],r=o[0],n=o[1]}}return r>n&&(s=[n,r],r=s[0],n=s[1]),new t.Cursor(r,n)},e.prototype.setCursor=function(t){var e,i,n;return i=this.posFromIndex(t.position),e=this.posFromIndex(t.selectionEnd),t.position>t.selectionEnd&&(n=[e,i],i=n[0],e=n[1]),this.aceSession.selection.setSelectionRange(new this.aceRange(i.row,i.column,e.row,e.column))},e.prototype.setOtherCursor=function(t,e,i){var n,r,o,s,a,l,c,u,h=this;return null==this.otherCursors&&(this.otherCursors={}),o=this.otherCursors[i],o&&(o.start.detach(),o.end.detach(),this.aceSession.removeMarker(o.id)),c=this.posFromIndex(t.position),s=this.posFromIndex(t.selectionEnd),t.selectionEnd<t.position&&(u=[s,c],c=u[0],s=u[1]),n="other-client-selection-"+e.replace("#",""),a=t.position===t.selectionEnd,a&&(n=n.replace("selection","cursor")),r="."+n+" {\n  position: absolute;\n  background-color: "+(a?"transparent":e)+";\n  border-left: 2px solid "+e+";\n}",this.addStyleRule(r),this.otherCursors[i]=o=new this.aceRange(c.row,c.column,s.row,s.column),l=this,o.clipRows=function(){var t;return t=l.aceRange.prototype.clipRows.apply(this,arguments),t.isEmpty=function(){return!1},t},o.start=this.aceDoc.createAnchor(o.start),o.end=this.aceDoc.createAnchor(o.end),o.id=this.aceSession.addMarker(o,n,"text"),{clear:function(){return o.start.detach(),o.end.detach(),h.aceSession.removeMarker(o.id)}}},e.prototype.addStyleRule=function(t){var e;if("undefined"!=typeof document&&null!==document&&(this.addedStyleRules||(this.addedStyleRules={},e=document.createElement("style"),document.documentElement.getElementsByTagName("head")[0].appendChild(e),this.addedStyleSheet=e.sheet),!this.addedStyleRules[t]))return this.addedStyleRules[t]=!0,this.addedStyleSheet.insertRule(t,0)},e.prototype.registerCallbacks=function(t){this.callbacks=t},e.prototype.trigger=function(){var t,e,i,r;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],null!=(i=this.callbacks)&&null!=(r=i[e])?r.apply(this,t):void 0},e.prototype.applyOperation=function(t){return t.isNoop()||(this.ignoreChanges=!0),this.applyOperationToACE(t),this.ignoreChanges=!1},e.prototype.registerUndo=function(t){return this.ace.undo=t},e.prototype.registerRedo=function(t){return this.ace.redo=t},e.prototype.invertOperation=function(t){return t.invert(this.getValue())},e}();var t=t||{};t.AttributeConstants={BOLD:"b",ITALIC:"i",UNDERLINE:"u",STRIKE:"s",FONT:"f",FONT_SIZE:"fs",COLOR:"c",BACKGROUND_COLOR:"bc",ENTITY_SENTINEL:"ent",LINE_SENTINEL:"l",LINE_INDENT:"li",LINE_ALIGN:"la",LIST_TYPE:"lt"},t.sentinelConstants={LINE_SENTINEL_CHARACTER:"î€€",ENTITY_SENTINEL_CHARACTER:"î€"};var t=t||{};t.EntityManager=function(){function e(){this.entities_={};var t=["src","alt","width","height","style","class"];this.register("img",{render:function(t){i.assert(t.src,"image entity should have 'src'!");for(var e=["src","alt","width","height","style","class"],n="<img ",r=0;r<e.length;r++){var o=e[r];o in t&&(n+=" "+o+'="'+t[o]+'"')}return n+=">"},fromElement:function(e){for(var i={},n=0;n<t.length;n++){var r=t[n];e.hasAttribute(r)&&(i[r]=e.getAttribute(r))}return i}})}var i=t.utils;return e.prototype.register=function(e,i){t.utils.assert(i.render,"Entity options should include a 'render' function!"),t.utils.assert(i.fromElement,"Entity options should include a 'fromElement' function!"),this.entities_[e]=i},e.prototype.renderToElement=function(t,e){return this.tryRenderToElement_(t,"render",e)},e.prototype.exportToElement=function(t){var e=this.tryRenderToElement_(t,"export")||this.tryRenderToElement_(t,"getHtml")||this.tryRenderToElement_(t,"render");return e.setAttribute("data-firepad-entity",t.type),e},e.prototype.updateElement=function(t,e){var i=t.type,n=t.info;this.entities_[i]&&"undefined"!=typeof this.entities_[i].update&&this.entities_[i].update(n,e)},e.prototype.fromElement=function(e){var i=e.getAttribute("data-firepad-entity");if(i||(i=e.nodeName.toLowerCase()),i&&this.entities_[i]){var n=this.entities_[i].fromElement(e);return new t.Entity(i,n)}},e.prototype.tryRenderToElement_=function(e,i,n){var r=e.type,o=e.info;if(this.entities_[r]&&this.entities_[r][i]){var s=t.document||window&&window.document,a=this.entities_[r][i](o,n,s);if(a){if("string"==typeof a){var l=(t.document||document).createElement("div");return l.innerHTML=a,l.childNodes[0]}if("object"==typeof a)return t.utils.assert("undefined"!=typeof a.nodeType,"Error rendering "+r+" entity.  render() function must return an html string or a DOM element."),a}}},e.prototype.entitySupportsUpdate=function(t){return this.entities_[t]&&this.entities_[t].update},e}();var t=t||{};t.Entity=function(){function e(t,i){return this instanceof e?(this.type=t,void(this.info=i||{})):new e(t,i)}var i=t.AttributeConstants,n=i.ENTITY_SENTINEL,r=n+"_";return e.prototype.toAttributes=function(){var t={};t[n]=this.type;for(var e in this.info)t[r+e]=this.info[e];return t},e.fromAttributes=function(t){var i=t[n],o={};for(var s in t)0===s.indexOf(r)&&(o[s.substr(r.length)]=t[s]);return new e(i,o)},e}();var t=t||{};t.RichTextCodeMirror=function(){function e(t,e,i){this.codeMirror=t,this.options_=i||{},this.entityManager_=e,this.currentAttributes_=null;var n=this;this.annotationList_=new c(function(t,e){n.onAnnotationsChanged_(t,e)}),this.initAnnotationList_(),l(this,"onCodeMirrorBeforeChange_"),l(this,"onCodeMirrorChange_"),l(this,"onCursorActivity_"),parseInt(CodeMirror.version)>=4?this.codeMirror.on("changes",this.onCodeMirrorChange_):this.codeMirror.on("change",this.onCodeMirrorChange_),this.codeMirror.on("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.on("cursorActivity",this.onCursorActivity_),this.changeId_=0,this.outstandingChanges_={},this.dirtyLines_=[]}function i(t,e){return t.line-e.line||t.ch-e.ch}function n(t,e){return i(t,e)<=0}function r(t){return t[t.length-1]}function o(t){if(0===t.length)return 0;for(var e=0,i=0;i<t.length;i++)e+=t[i].length;return e+t.length-1}function s(t){this.attributes=t||{}}function a(t){for(var e in t)return!1;return!0}function l(t,e){var i=t[e];t[e]=function(){i.apply(t,arguments)}}var c=t.AnnotationList,u=t.Span,h=t.utils,p=t.AttributeConstants,f="cmrt-",d="cmrt-",m={c:"color",bc:"background-color",fs:"font-size",li:function(t){return"padding-left: "+40*t+"px"}},g={};h.makeEventEmitter(e,["change","attributesChange","newLine"]);var v=t.sentinelConstants.LINE_SENTINEL_CHARACTER,y=t.sentinelConstants.ENTITY_SENTINEL_CHARACTER;return e.prototype.detach=function(){this.codeMirror.off("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.off("change",this.onCodeMirrorChange_),this.codeMirror.off("changes",this.onCodeMirrorChange_),this.codeMirror.off("cursorActivity",this.onCursorActivity_),this.clearAnnotations_()},e.prototype.toggleAttribute=function(t,e){var i=e||!0;if(this.emptySelection_()){var n=this.getCurrentAttributes_();n[t]===i?delete n[t]:n[t]=i,this.currentAttributes_=n}else{var r=this.getCurrentAttributes_(),o=r[t]!==i&&i;this.setAttribute(t,o)}},e.prototype.setAttribute=function(t,e){var i=this.codeMirror;if(this.emptySelection_()){var n=this.getCurrentAttributes_();e===!1?delete n[t]:n[t]=e,this.currentAttributes_=n}else this.updateTextAttributes(i.indexFromPos(i.getCursor("start")),i.indexFromPos(i.getCursor("end")),function(i){e===!1?delete i[t]:i[t]=e}),this.updateCurrentAttributes_()},e.prototype.updateTextAttributes=function(t,e,i,n,r){var o=[],l=t,c=this;this.annotationList_.updateSpan(new u(t,e-t),function(t,e){var u={};for(var h in t.attributes)u[h]=t.attributes[h];(!u[p.LINE_SENTINEL]||r)&&i(u);var f={},d={};return c.computeChangedAttributes_(t.attributes,u,f,d),a(f)||o.push({start:l,end:l+e,attributes:f,attributesInverse:d,origin:n}),l+=e,new s(u)}),o.length>0&&this.trigger("attributesChange",this,o)},e.prototype.computeChangedAttributes_=function(t,e,i,n){var r,o={};for(r in t)o[r]=!0;for(r in e)o[r]=!0;for(r in o)r in e?r in t?t[r]!==e[r]&&(i[r]=e[r],n[r]=t[r]):(i[r]=e[r],n[r]=!1):(i[r]=!1,n[r]=t[r])},e.prototype.toggleLineAttribute=function(t,e){var i,n=this.getCurrentLineAttributes_();i=!(t in n&&n[t]===e)&&e,this.setLineAttribute(t,i)},e.prototype.setLineAttribute=function(t,e){this.updateLineAttributesForSelection(function(i){e===!1?delete i[t]:i[t]=e})},e.prototype.updateLineAttributesForSelection=function(t){var e=this.codeMirror,i=e.getCursor("start"),n=e.getCursor("end"),r=i.line,o=n.line,s=e.getLine(o),a=this.areLineSentinelCharacters_(s.substr(0,n.ch));o>r&&a&&o--,this.updateLineAttributes(r,o,t)},e.prototype.updateLineAttributes=function(t,e,i){for(var n=t;e>=n;n++){var r=this.codeMirror.getLine(n),o=this.codeMirror.indexFromPos({line:n,ch:0});if(r[0]!==v){var s={};s[p.LINE_SENTINEL]=!0,i(s),this.insertText(o,v,s)}else this.updateTextAttributes(o,o+1,i,null,!0)}},e.prototype.replaceText=function(t,e,i,n,r){this.changeId_++;var o=d+this.changeId_;this.outstandingChanges_[o]={origOrigin:r,attributes:n};var s=this.codeMirror,a=s.posFromIndex(t),l="number"==typeof e?s.posFromIndex(e):null;s.replaceRange(i,a,l,o)},e.prototype.insertText=function(t,e,i,n){var r=this.codeMirror,o=r.getCursor(),s="RTCMADAPTER"==n&&!r.somethingSelected()&&t==r.indexFromPos(o);this.replaceText(t,null,e,i,n),s&&r.setCursor(o)},e.prototype.removeText=function(t,e,i){var n=this.codeMirror;n.replaceRange("",n.posFromIndex(t),n.posFromIndex(e),i)},e.prototype.insertEntityAtCursor=function(t,e,i){var n=this.codeMirror,r=n.indexFromPos(n.getCursor("head"));this.insertEntityAt(r,t,e,i)},e.prototype.insertEntityAt=function(e,i,n,r){this.codeMirror,this.insertEntity_(e,new t.Entity(i,n),r)},e.prototype.insertEntity_=function(t,e,i){this.replaceText(t,null,y,e.toAttributes(),i)},e.prototype.getAttributeSpans=function(t,e){for(var i=[],n=this.annotationList_.getAnnotatedSpansForSpan(new u(t,e-t)),r=0;r<n.length;r++)i.push({length:n[r].length,attributes:n[r].annotation.attributes});return i},e.prototype.end=function(){var t=this.codeMirror.lineCount()-1;return this.codeMirror.indexFromPos({line:t,ch:this.codeMirror.getLine(t).length})},e.prototype.getRange=function(t,e){var i=this.codeMirror.posFromIndex(t),n=this.codeMirror.posFromIndex(e);return this.codeMirror.getRange(i,n)},e.prototype.initAnnotationList_=function(){var t=this.end();0!==t&&this.annotationList_.insertAnnotatedSpan(new u(0,t),new s)},e.prototype.onAnnotationsChanged_=function(t,e){var i,n={};this.tryToUpdateEntitiesInPlace(t,e);for(var r=0;r<t.length;r++){var o=t[r].annotation.attributes;p.LINE_SENTINEL in o&&(n[this.codeMirror.posFromIndex(t[r].pos).line]=!0),i=t[r].getAttachedObject(),i&&i.clear()}for(r=0;r<e.length;r++){var s=e[r].annotation,a=p.LINE_SENTINEL in s.attributes,l=p.ENTITY_SENTINEL in s.attributes,c=this.codeMirror.posFromIndex(e[r].pos);if(a)n[c.line]=!0;else if(l)this.markEntity_(e[r]);else{var u=this.getClassNameForAttributes_(s.attributes);if(""!==u){var h=this.codeMirror.posFromIndex(e[r].pos+e[r].length);i=this.codeMirror.markText(c,h,{className:u}),e[r].attachObject(i)}}}for(var f in n)this.dirtyLines_.push(this.codeMirror.getLineHandle(Number(f))),this.queueLineMarking_()},e.prototype.tryToUpdateEntitiesInPlace=function(t,e){for(var i=t.length;i--;)for(var n=t[i],r=e.length;r--;){var o=e[r];if(n.pos==o.pos&&n.length==o.length&&n.annotation.attributes.ent&&n.annotation.attributes.ent==o.annotation.attributes.ent){var s=o.annotation.attributes.ent;if(this.entityManager_.entitySupportsUpdate(s)){t.splice(i,1),e.splice(r,1);var a=n.getAttachedObject();a.update(o.annotation.attributes),o.attachObject(a)}}}},e.prototype.queueLineMarking_=function(){if(null==this.lineMarkTimeout_){var t=this;this.lineMarkTimeout_=setTimeout(function(){t.lineMarkTimeout_=null;for(var e=[],i=0;i<t.dirtyLines_.length;i++){var n=t.codeMirror.getLineNumber(t.dirtyLines_[i]);e.push(Number(n))}t.dirtyLines_=[],e.sort(function(t,e){return t-e});var r=-1;for(i=0;i<e.length;i++){var o=e[i];o>r&&(r=t.markLineSentinelCharactersForChangedLines_(o,o))}},0)}},e.prototype.addStyleWithCSS_=function(t){var e=document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i)},e.prototype.getClassNameForAttributes_=function(e){var i="";for(var n in e){var r=e[n];if(n===p.LINE_SENTINEL)t.utils.assert(r===!0,"LINE_SENTINEL attribute should be true if it exists.");else{var o=(this.options_.cssPrefix||f)+n;if(r!==!0){n===p.FONT_SIZE&&"string"!=typeof r&&(r+="px");var s=r.toString().toLowerCase().replace(/[^a-z0-9-_]/g,"-");if(o+="-"+s,m[n]&&(g[n]||(g[n]={}),!g[n][s])){g[n][s]=!0;var a=m[n],l="function"==typeof a?a(r):a+": "+r,c=n==p.LINE_INDENT?"pre."+o:"."+o;this.addStyleWithCSS_(c+" { "+l+" }")}}i=i+" "+o}}return i},e.prototype.markEntity_=function(e){for(var i=e.annotation.attributes,n=t.Entity.fromAttributes(i),r=this.codeMirror,o=this,s=[],a=0;a<e.length;a++){var l=r.posFromIndex(e.pos+a),c=r.posFromIndex(e.pos+a+1),u={collapsed:!0,atomic:!0,inclusiveLeft:!1,inclusiveRight:!1},h=this.createEntityHandle_(n,e.pos),p=this.entityManager_.renderToElement(n,h);p&&(u.replacedWith=p);var f=r.markText(l,c,u);s.push(f),h.setMarker(f)}e.attachObject({clear:function(){for(var t=0;t<s.length;t++)s[t].clear()},update:function(e){for(var i=t.Entity.fromAttributes(e),n=0;n<s.length;n++)o.entityManager_.updateElement(i,s[n].replacedWith)}}),this.queueRefresh_()},e.prototype.queueRefresh_=function(){var t=this;this.refreshTimer_||(this.refreshTimer_=setTimeout(function(){t.codeMirror.refresh(),t.refreshTimer_=null},0))},e.prototype.createEntityHandle_=function(e,i){function n(){if(a){var t=a.find();return t?l.codeMirror.indexFromPos(t.from):null}return i}function r(){var t=n();null!=t&&(l.codeMirror.focus(),l.removeText(t,t+1))}function o(i){var r=t.AttributeConstants,o=r.ENTITY_SENTINEL,s=o+"_",a=n();l.updateTextAttributes(a,a+1,function(t){for(var n in t)delete t[n];t[o]=e.type;for(var r in i)t[s+r]=i[r]})}function s(t){a=t}var a=null,l=this;return{find:n,remove:r,replace:o,setMarker:s}},e.prototype.lineClassRemover_=function(t){var e=this.codeMirror,i=e.getLineHandle(t);return{clear:function(){e.removeLineClass(i,"text",".*")}}},e.prototype.emptySelection_=function(){var t=this.codeMirror.getCursor("start"),e=this.codeMirror.getCursor("end");return t.line===e.line&&t.ch===e.ch},e.prototype.onCodeMirrorBeforeChange_=function(t,e){if("+input"===e.origin||"paste"===e.origin){for(var i=[],n=0;n<e.text.length;n++){var r=e.text[n];r=r.replace(new RegExp("["+v+y+"]","g"),""),i.push(r)}e.update(e.from,e.to,i)}},e.prototype.onCodeMirrorChange_=function(t,e){if("object"==typeof e.from){for(var i=[];e;)i.push(e),e=e.next;e=i}for(var n=this.convertCoordinateSystemForChanges_(e),r=[],o=0;o<n.length;o++){var a=n[o],l=a.start,c=(a.end,a.text),h=a.removed,p=a.origin;if(h.length>0){for(var f=this.annotationList_.getAnnotatedSpansForSpan(new u(l,h.length)),d=0,m=0;m<f.length;m++){var g=f[m];r.push({start:l,end:l+g.length,removedAttributes:g.annotation.attributes,removed:h.substr(d,g.length),attributes:{},text:"",origin:a.origin}),d+=g.length}this.annotationList_.removeSpan(new u(l,h.length))}if(c.length>0){var v;"+input"===a.origin||"paste"===a.origin?v=this.currentAttributes_||{}:p in this.outstandingChanges_?(v=this.outstandingChanges_[p].attributes,p=this.outstandingChanges_[p].origOrigin,delete this.outstandingChanges_[p]):v={},this.annotationList_.insertAnnotatedSpan(new u(l,c.length),new s(v)),r.push({start:l,end:l,removedAttributes:{},removed:"",text:c,attributes:v,origin:p})}}this.markLineSentinelCharactersForChanges_(e),r.length>0&&this.trigger("change",this,r)},e.prototype.convertCoordinateSystemForChanges_=function(t){function e(t,e){return function(i){return n(i,e.from)?t(i):n(e.to,i)?t({line:i.line+e.text.length-1-(e.to.line-e.from.line),ch:e.to.line<i.line?i.ch:e.text.length<=1?i.ch-(e.to.ch-e.from.ch)+o(e.text):i.ch-e.to.ch+r(e.text).length})+o(e.removed)-o(e.text):e.from.line===i.line?t(e.from)+i.ch-e.from.ch:t(e.from)+o(e.removed.slice(0,i.line-e.from.line))+1+i.ch}}for(var i=this,s=function(t){return i.codeMirror.indexFromPos(t)},a=[],l=t.length-1;l>=0;l--){var c=t[l];s=e(s,c);var u=s(c.from),h=c.removed.join("\n"),p=c.text.join("\n");a.unshift({start:u,end:u+h.length,removed:h,text:p,origin:c.origin})}return a},e.prototype.markLineSentinelCharactersForChanges_=function(t){for(var e=Number.MAX_VALUE,i=-1,n=0;n<t.length;n++){var r=t[n],o=r.from.line;r.from.ch,(r.removed.length>1||r.removed[0].indexOf(v)>=0)&&(e=Math.min(e,o),i=Math.max(i,o)),r.text.length>1?(e=Math.min(e,o),i=Math.max(i,o+r.text.length-1)):r.text[0].indexOf(v)>=0&&(e=Math.min(e,o),i=Math.max(i,o))}i=Math.min(i,this.codeMirror.lineCount()-1),this.markLineSentinelCharactersForChangedLines_(e,i)},e.prototype.markLineSentinelCharactersForChangedLines_=function(t,e){if(t<Number.MAX_VALUE)for(;t>0&&this.lineIsListItemOrIndented_(t-1);)t--;if(e>-1)for(var i=this.codeMirror.lineCount();i>e+1&&this.lineIsListItemOrIndented_(e+1);)e++;for(var n=[],r=this.codeMirror,o=t;e>=o;o++){var s=r.getLine(o),a=r.getLineHandle(o);if(r.removeLineClass(a,"text",".*"),s.length>0)for(var l=s.indexOf(v);l>=0;){for(var c=l;l<s.length&&s[l]===v;){for(var u=r.findMarksAt({line:o,ch:l}),h=0;h<u.length;h++)u[h].isForLineSentinel&&u[h].clear();l++}this.markLineSentinelCharacters_(o,c,l,n),l=s.indexOf(v,l)}else n=[]}return e},e.prototype.markLineSentinelCharacters_=function(t,e,i,n){var r=this.codeMirror,o=null,s=null,a=function(){var t=s.find();return t?t.from.line:null};if(0===e){var l=this.getLineAttributes_(t),c=l[p.LIST_TYPE],u=l[p.LINE_INDENT]||0;for(c&&0===u&&(u=1);u>=n.length;)n.push(1);"o"===c?(o=this.makeOrderedListElement_(n[u]),n[u]++):"u"===c?(o=this.makeUnorderedListElement_(),n[u]=1):"t"===c?(o=this.makeTodoListElement_(!1,a),n[u]=1):"tc"===c&&(o=this.makeTodoListElement_(!0,a),n[u]=1);var h=this.getClassNameForAttributes_(l);""!==h&&this.codeMirror.addLineClass(t,"text",h),n=n.slice(0,u+1)}var f={inclusiveLeft:!0,collapsed:!0};o&&(f.replacedWith=o);var s=r.markText({line:t,ch:e},{line:t,ch:i},f);s.isForLineSentinel=!0},e.prototype.makeOrderedListElement_=function(t){return h.elt("div",t+".",{"class":"firepad-list-left"})},e.prototype.makeUnorderedListElement_=function(){return h.elt("div","â€¢",{"class":"firepad-list-left"})},e.prototype.toggleTodo=function(t){var e,i=p.LIST_TYPE,n=this.getCurrentLineAttributes_();i in n&&("t"===n[i]||"tc"===n[i])?"t"===n[i]?e="tc":"tc"===n[i]&&(e=!!t&&"t"):e="t",this.setLineAttribute(i,e)},e.prototype.makeTodoListElement_=function(t,e){var i={type:"checkbox","class":"firepad-todo-left"};t&&(i.checked=!0);var n=h.elt("input",!1,i),r=this;return h.on(n,"click",h.stopEventAnd(function(t){r.codeMirror.setCursor({line:e(),ch:1}),r.toggleTodo(!0)})),n},e.prototype.lineIsListItemOrIndented_=function(t){
var e=this.getLineAttributes_(t);return(e[p.LIST_TYPE]||!1)!==!1||0!==(e[p.LINE_INDENT]||0)},e.prototype.onCursorActivity_=function(){var t=this;clearTimeout(t.cursorTimeout),t.cursorTimeout=setTimeout(function(){t.updateCurrentAttributes_()},1)},e.prototype.getCurrentAttributes_=function(){return this.currentAttributes_||this.updateCurrentAttributes_(),this.currentAttributes_},e.prototype.updateCurrentAttributes_=function(){var e=this.codeMirror,i=e.indexFromPos(e.getCursor("anchor")),n=e.indexFromPos(e.getCursor("head")),r=n;if(i>n){for(;r<this.end();){var o=this.getRange(r,r+1);if("\n"!==o&&o!==v)break;r++}r<this.end()&&r++}else for(;r>0&&(o=this.getRange(r-1,r),"\n"===o||o===v);)r--;var s=this.annotationList_.getAnnotatedSpansForPos(r);this.currentAttributes_={};var a={};s.length>0&&!(p.LINE_SENTINEL in s[0].annotation.attributes)?a=s[0].annotation.attributes:s.length>1&&(t.utils.assert(!(p.LINE_SENTINEL in s[1].annotation.attributes),"Cursor can't be between two line sentinel characters."),a=s[1].annotation.attributes);for(var l in a)"l"!==l&&"lt"!==l&&"li"!==l&&0!==l.indexOf(p.ENTITY_SENTINEL)&&(this.currentAttributes_[l]=a[l])},e.prototype.getCurrentLineAttributes_=function(){var t=this.codeMirror,e=t.getCursor("anchor"),i=t.getCursor("head"),n=i.line;return 0===i.ch&&e.line<i.line&&n--,this.getLineAttributes_(n)},e.prototype.getLineAttributes_=function(e){var i={},n=this.codeMirror.getLine(e);if(n.length>0&&n[0]===v){var r=this.codeMirror.indexFromPos({line:e,ch:0}),o=this.annotationList_.getAnnotatedSpansForSpan(new u(r,1));t.utils.assert(1===o.length);for(var s in o[0].annotation.attributes)i[s]=o[0].annotation.attributes[s]}return i},e.prototype.clearAnnotations_=function(){this.annotationList_.updateSpan(new u(0,this.end()),function(t,e){return new s({})})},e.prototype.newline=function(){var t=this.codeMirror,e=this;if(this.emptySelection_()){var i=t.getCursor("head").line,n=this.getLineAttributes_(i),r=n[p.LIST_TYPE];r&&1===t.getLine(i).length?this.updateLineAttributes(i,i,function(t){delete t[p.LIST_TYPE],delete t[p.LINE_INDENT]}):(t.replaceSelection("\n","end","+input"),this.updateLineAttributes(i+1,i+1,function(t){for(var o in n)t[o]=n[o];"tc"===r&&(t[p.LIST_TYPE]="t"),e.trigger("newLine",{line:i+1,attr:t})}))}else t.replaceSelection("\n","end","+input")},e.prototype.deleteLeft=function(){var t=this.codeMirror,e=t.getCursor("head"),i=this.getLineAttributes_(e.line),n=i[p.LIST_TYPE],r=i[p.LINE_INDENT],o=this.emptySelection_()&&1===e.ch;o&&n?this.updateLineAttributes(e.line,e.line,function(t){delete t[p.LIST_TYPE],delete t[p.LINE_INDENT]}):o&&r&&r>0?this.unindent():t.deleteH(-1,"char")},e.prototype.deleteRight=function(){var t=this.codeMirror,e=t.getCursor("head"),i=t.getLine(e.line),n=this.areLineSentinelCharacters_(i),r=e.line+1<t.lineCount()?t.getLine(e.line+1):"";this.emptySelection_()&&n&&r[0]===v?t.replaceRange("",{line:e.line,ch:0},{line:e.line+1,ch:0},"+input"):t.deleteH(1,"char")},e.prototype.indent=function(){this.updateLineAttributesForSelection(function(t){var e=t[p.LINE_INDENT],i=t[p.LIST_TYPE];e?t[p.LINE_INDENT]++:i?t[p.LINE_INDENT]=2:t[p.LINE_INDENT]=1})},e.prototype.unindent=function(){this.updateLineAttributesForSelection(function(t){var e=t[p.LINE_INDENT];e&&e>1?t[p.LINE_INDENT]=e-1:(delete t[p.LIST_TYPE],delete t[p.LINE_INDENT])})},e.prototype.getText=function(){return this.codeMirror.getValue().replace(new RegExp(v,"g"),"")},e.prototype.areLineSentinelCharacters_=function(t){for(var e=0;e<t.length;e++)if(t[e]!==v)return!1;return!0},s.prototype.equals=function(t){if(!(t instanceof s))return!1;var e;for(e in this.attributes)if(t.attributes[e]!==this.attributes[e])return!1;for(e in t.attributes)if(t.attributes[e]!==this.attributes[e])return!1;return!0},e}();var t=t||{};t.RichTextCodeMirrorAdapter=function(){"use strict";function e(t){this.rtcm=t,this.cm=t.codeMirror,s(this,"onChange"),s(this,"onAttributesChange"),s(this,"onCursorActivity"),s(this,"onFocus"),s(this,"onBlur"),this.rtcm.on("change",this.onChange),this.rtcm.on("attributesChange",this.onAttributesChange),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("focus",this.onFocus),this.cm.on("blur",this.onBlur)}function i(t,e){return t.line<e.line?-1:t.line>e.line?1:t.ch<e.ch?-1:t.ch>e.ch?1:0}function n(t,e){return 0===i(t,e)}function r(t){var e=t.lineCount()-1;return t.indexFromPos({line:e,ch:t.getLine(e).length})}function o(t,e){if(!t)throw new Error(e||"assertion error")}function s(t,e){var i=t[e];t[e]=function(){i.apply(t,arguments)}}function a(t){for(var e in t)return!1;return!0}var l=t.TextOperation,c=t.WrappedOperation,u=t.Cursor;return e.prototype.detach=function(){this.rtcm.off("change",this.onChange),this.rtcm.off("attributesChange",this.onAttributesChange),this.cm.off("cursorActivity",this.onCursorActivity),this.cm.off("focus",this.onFocus),this.cm.off("blur",this.onBlur)},e.operationFromCodeMirrorChanges=function(t,e){for(var i=r(e),n=(new l).retain(i),o=(new l).retain(i),s=t.length-1;s>=0;s--){var a=t[s],c=a.start,u=i-c-a.text.length;n=(new l).retain(c)["delete"](a.removed.length).insert(a.text,a.attributes).retain(u).compose(n),o=o.compose((new l).retain(c)["delete"](a.text.length).insert(a.removed,a.removedAttributes).retain(u)),i+=a.removed.length-a.text.length}return[n,o]},e.operationFromAttributesChanges=function(t,e){for(var i=r(e),n=new l,s=new l,a=0,c=0;c<t.length;c++){var u=t[c],h=u.start-a;o(h>=0),n.retain(h),s.retain(h);var p=u.end-u.start;n.retain(p,u.attributes),s.retain(p,u.attributesInverse),a=u.start+p}return n.retain(i-a),s.retain(i-a),[n,s]},e.applyOperationToCodeMirror=function(t,e){t.ops.length>10&&e.codeMirror.getWrapperElement().setAttribute("style","display: none");for(var i=t.ops,n=0,r=0,o=i.length;o>r;r++){var s=i[r];s.isRetain()?(a(s.attributes)||e.updateTextAttributes(n,n+s.chars,function(t){for(var e in s.attributes)s.attributes[e]===!1?delete t[e]:t[e]=s.attributes[e]},"RTCMADAPTER",!0),n+=s.chars):s.isInsert()?(e.insertText(n,s.text,s.attributes,"RTCMADAPTER"),n+=s.text.length):s.isDelete()&&e.removeText(n,n+s.chars,"RTCMADAPTER")}t.ops.length>10&&(e.codeMirror.getWrapperElement().setAttribute("style",""),e.codeMirror.refresh())},e.prototype.registerCallbacks=function(t){this.callbacks=t},e.prototype.onChange=function(t,i){if("RTCMADAPTER"!==i[0].origin){var n=e.operationFromCodeMirrorChanges(i,this.cm);this.trigger("change",n[0],n[1])}},e.prototype.onAttributesChange=function(t,i){if("RTCMADAPTER"!==i[0].origin){var n=e.operationFromAttributesChanges(i,this.cm);this.trigger("change",n[0],n[1])}},e.prototype.onCursorActivity=function(){this.trigger("cursorActivity")},e.prototype.onFocus=function(){this.trigger("focus")},e.prototype.onBlur=function(){this.cm.somethingSelected()||this.trigger("blur")},e.prototype.getValue=function(){return this.cm.getValue()},e.prototype.getCursor=function(){var t,e=this.cm,i=e.getCursor(),r=e.indexFromPos(i);if(e.somethingSelected()){var o=e.getCursor(!0),s=n(i,o)?e.getCursor(!1):o;t=e.indexFromPos(s)}else t=r;return new u(r,t)},e.prototype.setCursor=function(t){this.cm.setSelection(this.cm.posFromIndex(t.position),this.cm.posFromIndex(t.selectionEnd))},e.prototype.addStyleRule=function(t){if("undefined"!=typeof document&&null!==document){if(!this.addedStyleRules){this.addedStyleRules={};var e=document.createElement("style");document.documentElement.getElementsByTagName("head")[0].appendChild(e),this.addedStyleSheet=e.sheet}if(!this.addedStyleRules[t])return this.addedStyleRules[t]=!0,this.addedStyleSheet.insertRule(t,0)}},e.prototype.setOtherCursor=function(t,e,i){var n=this.cm.posFromIndex(t.position);if("string"==typeof e&&e.match(/^#[a-fA-F0-9]{3,6}$/)){var r=this.rtcm.end();if("object"==typeof t&&"number"==typeof t.position&&"number"==typeof t.selectionEnd&&!(t.position<0||t.position>r||t.selectionEnd<0||t.selectionEnd>r)){if(t.position===t.selectionEnd){var o=this.cm.cursorCoords(n),s=document.createElement("span");return s.className="other-client",s.style.borderLeftWidth="2px",s.style.borderLeftStyle="solid",s.style.borderLeftColor=e,s.style.marginLeft=s.style.marginRight="-1px",s.style.height=.9*(o.bottom-o.top)+"px",s.setAttribute("data-clientid",i),s.style.zIndex=0,this.cm.setBookmark(n,{widget:s,insertLeft:!0})}var a="selection-"+e.replace("#",""),l="."+a+" { background: "+e+"; }";this.addStyleRule(l);var c,u;return t.selectionEnd>t.position?(c=n,u=this.cm.posFromIndex(t.selectionEnd)):(c=this.cm.posFromIndex(t.selectionEnd),u=n),this.cm.markText(c,u,{className:a})}}},e.prototype.trigger=function(t){var e=Array.prototype.slice.call(arguments,1),i=this.callbacks&&this.callbacks[t];i&&i.apply(this,e)},e.prototype.applyOperation=function(t){e.applyOperationToCodeMirror(t,this.rtcm)},e.prototype.registerUndo=function(t){this.cm.undo=t},e.prototype.registerRedo=function(t){this.cm.redo=t},e.prototype.invertOperation=function(t){for(var e,i,n=0,r=this.rtcm.codeMirror,o=new l,s=0;s<t.wrapped.ops.length;s++){var u=t.wrapped.ops[s];if(u.isRetain())if(a(u.attributes))o.retain(u.chars),n+=u.chars;else for(e=this.rtcm.getAttributeSpans(n,n+u.chars),i=0;i<e.length;i++){var h={};for(var p in u.attributes){var f=u.attributes[p],d=e[i].attributes[p];f===!1?d&&(h[p]=d):f!==d&&(h[p]=d||!1)}o.retain(e[i].length,h),n+=e[i].length}else if(u.isInsert())o["delete"](u.text.length);else if(u.isDelete()){var m=r.getRange(r.posFromIndex(n),r.posFromIndex(n+u.chars));e=this.rtcm.getAttributeSpans(n,n+u.chars);var g=0;for(i=0;i<e.length;i++)o.insert(m.substr(g,e[i].length),e[i].attributes),g+=e[i].length;n+=u.chars}}return new c(o,t.meta.invert())},e}();var t=t||{};t.Formatting=function(){function e(t){return this instanceof e?void(this.attributes=t||{}):new e(t)}var i=t.AttributeConstants;return e.prototype.cloneWithNewAttribute_=function(t,i){var n={};for(var r in this.attributes)n[r]=this.attributes[r];return i===!1?delete n[t]:n[t]=i,new e(n)},e.prototype.bold=function(t){return this.cloneWithNewAttribute_(i.BOLD,t)},e.prototype.italic=function(t){return this.cloneWithNewAttribute_(i.ITALIC,t)},e.prototype.underline=function(t){return this.cloneWithNewAttribute_(i.UNDERLINE,t)},e.prototype.strike=function(t){return this.cloneWithNewAttribute_(i.STRIKE,t)},e.prototype.font=function(t){return this.cloneWithNewAttribute_(i.FONT,t)},e.prototype.fontSize=function(t){return this.cloneWithNewAttribute_(i.FONT_SIZE,t)},e.prototype.color=function(t){return this.cloneWithNewAttribute_(i.COLOR,t)},e.prototype.backgroundColor=function(t){return this.cloneWithNewAttribute_(i.BACKGROUND_COLOR,t)},e}();var t=t||{};t.Text=function(){function e(i,n){return this instanceof e?(this.text=i,void(this.formatting=n||t.Formatting())):new e(i,n)}return e}();var t=t||{};t.LineFormatting=function(){function e(t){return this instanceof e?(this.attributes=t||{},void(this.attributes[i.LINE_SENTINEL]=!0)):new e(t)}var i=t.AttributeConstants;return e.LIST_TYPE={NONE:!1,ORDERED:"o",UNORDERED:"u",TODO:"t",TODOCHECKED:"tc"},e.prototype.cloneWithNewAttribute_=function(t,i){var n={};for(var r in this.attributes)n[r]=this.attributes[r];return i===!1?delete n[t]:n[t]=i,new e(n)},e.prototype.indent=function(t){return this.cloneWithNewAttribute_(i.LINE_INDENT,t)},e.prototype.align=function(t){return this.cloneWithNewAttribute_(i.LINE_ALIGN,t)},e.prototype.listItem=function(e){return t.utils.assert(e===!1||"u"===e||"o"===e||"t"===e||"tc"===e),this.cloneWithNewAttribute_(i.LIST_TYPE,e)},e.prototype.getIndent=function(){return this.attributes[i.LINE_INDENT]||0},e.prototype.getAlign=function(){return this.attributes[i.LINE_ALIGN]||0},e.prototype.getListItem=function(){return this.attributes[i.LIST_TYPE]||!1},e}();var t=t||{};t.Line=function(){function e(i,n){return this instanceof e?("[object Array]"!==Object.prototype.toString.call(i)&&(i="undefined"==typeof i?[]:[i]),this.textPieces=i,void(this.formatting=n||t.LineFormatting())):new e(i,n)}return e}();var t=t||{};t.ParseHtml=function(){function e(e,i,n){this.listType=e||l.UNORDERED,this.lineFormatting=i||t.LineFormatting(),this.textFormatting=n||t.Formatting()}function i(){this.lines=[],this.currentLine=[],this.currentLineListItemType=null}function n(n,o){var s=(t.document||document).createElement("div");s.innerHTML=n,c=o;var a=new i,l=new e;return r(s,l,a),a.lines}function r(e,i,n){if(e.nodeType===u.ELEMENT_NODE){var r=c.fromElement(e);if(r)return void n.currentLine.push(new t.Text(t.sentinelConstants.ENTITY_SENTINEL_CHARACTER,new t.Formatting(r.toAttributes())))}switch(e.nodeType){case u.TEXT_NODE:var h=e.nodeValue.replace(/[ \n\t]+/g," ");n.currentLine.push(t.Text(h,i.textFormatting));break;case u.ELEMENT_NODE:var p=e.getAttribute("style")||"";switch(i=a(i,p),e.nodeName.toLowerCase()){case"div":case"h1":case"h2":case"h3":case"p":n.newlineIfNonEmpty(i),o(e,i,n),n.newlineIfNonEmpty(i);break;case"center":i=i.withAlign("center"),n.newlineIfNonEmpty(i),o(e,i.withAlign("center"),n),n.newlineIfNonEmpty(i);break;case"b":case"strong":o(e,i.withTextFormatting(i.textFormatting.bold(!0)),n);break;case"u":o(e,i.withTextFormatting(i.textFormatting.underline(!0)),n);break;case"i":case"em":o(e,i.withTextFormatting(i.textFormatting.italic(!0)),n);break;case"s":o(e,i.withTextFormatting(i.textFormatting.strike(!0)),n);break;case"font":var f=e.getAttribute("face"),d=e.getAttribute("color"),m=parseInt(e.getAttribute("size"));f&&(i=i.withTextFormatting(i.textFormatting.font(f))),d&&(i=i.withTextFormatting(i.textFormatting.color(d))),m&&(i=i.withTextFormatting(i.textFormatting.fontSize(m))),o(e,i,n);break;case"br":n.newline(i);break;case"ul":n.newlineIfNonEmptyOrListItem(i);var g="firepad-todo"===e.getAttribute("class")?l.TODO:l.UNORDERED;o(e,i.withListType(g).withIncreasedIndent(),n),n.newlineIfNonEmpty(i);break;case"ol":n.newlineIfNonEmptyOrListItem(i),o(e,i.withListType(l.ORDERED).withIncreasedIndent(),n),n.newlineIfNonEmpty(i);break;case"li":s(e,i,n);break;case"style":break;default:o(e,i,n)}}}function o(t,e,i){if(t.hasChildNodes())for(var n=0;n<t.childNodes.length;n++)r(t.childNodes[n],e,i)}function s(t,e,i){i.newlineIfNonEmptyOrListItem(e);var n="firepad-checked"===t.getAttribute("class")?l.TODOCHECKED:e.listType;i.makeListItem(n);var r=i.currentLine;o(t,e,i),(r===i.currentLine||i.currentLine.length>0)&&i.newline(e)}function a(e,i){for(var n=e.textFormatting,r=e.lineFormatting,o=i.split(";"),s=0;s<o.length;s++){var a=o[s].split(":");if(2===a.length){var l=t.utils.trim(a[0]).toLowerCase(),c=t.utils.trim(a[1]).toLowerCase();switch(l){case"text-decoration":var u=c.indexOf("underline")>=0,h=c.indexOf("line-through")>=0;n=n.underline(u).strike(h);break;case"font-weight":var p="bold"===c||parseInt(c)>=600;n=n.bold(p);break;case"font-style":var f="italic"===c||"oblique"===c;n=n.italic(f);break;case"color":n=n.color(c);break;case"background-color":n=n.backgroundColor(c);break;case"text-align":r=r.align(c);break;case"font-size":var d=null,m=["px","pt","%","em","xx-small","x-small","small","medium","large","x-large","xx-large","smaller","larger"];t.utils.stringEndsWith(c,m)?d=c:parseInt(c)&&(d=parseInt(c)+"px"),d&&(n=n.fontSize(d));break;case"font-family":var g=t.utils.trim(c.split(",")[0]);g=g.replace(/['"]/g,""),g=g.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}),n=n.font(g)}}}return e.withLineFormatting(r).withTextFormatting(n)}var l=t.LineFormatting.LIST_TYPE;e.prototype.withTextFormatting=function(t){return new e(this.listType,this.lineFormatting,t)},e.prototype.withLineFormatting=function(t){return new e(this.listType,t,this.textFormatting)},e.prototype.withListType=function(t){return new e(t,this.lineFormatting,this.textFormatting)},e.prototype.withIncreasedIndent=function(){var t=this.lineFormatting.indent(this.lineFormatting.getIndent()+1);return new e(this.listType,t,this.textFormatting)},e.prototype.withAlign=function(t){var i=this.lineFormatting.align(t);return new e(this.listType,i,this.textFormatting)},i.prototype.newlineIfNonEmpty=function(t){this.cleanLine_(),this.currentLine.length>0&&this.newline(t)},i.prototype.newlineIfNonEmptyOrListItem=function(t){this.cleanLine_(),(this.currentLine.length>0||null!==this.currentLineListItemType)&&this.newline(t)},i.prototype.newline=function(e){this.cleanLine_();var i=e.lineFormatting;null!==this.currentLineListItemType&&(i=i.listItem(this.currentLineListItemType),this.currentLineListItemType=null),this.lines.push(t.Line(this.currentLine,i)),this.currentLine=[]},i.prototype.makeListItem=function(t){this.currentLineListItemType=t},i.prototype.cleanLine_=function(){if(this.currentLine.length>0){var t=this.currentLine.length-1;this.currentLine[0].text=this.currentLine[0].text.replace(/^ +/,""),this.currentLine[t].text=this.currentLine[t].text.replace(/ +$/g,"");for(var e=0;e<this.currentLine.length;e++)this.currentLine[e].text=this.currentLine[e].text.replace(/\u00a0/g," ")}1===this.currentLine.length&&""===this.currentLine[0].text&&(this.currentLine=[])};var c,u=u||{ELEMENT_NODE:1,TEXT_NODE:3};return n}();var t=t||{};t.SerializeHtml=function(){function e(t){return t===l.ORDERED?"<ol>":t===l.UNORDERED?"<ul>":'<ul class="firepad-todo">'}function i(t){return t===l.ORDERED?"</ol>":"</ul>"}function n(t,e){return t===e||t===l.TODO&&e===l.TODOCHECKED||t===l.TODOCHECKED&&e===l.TODO}function r(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g,"&nbsp;")}function o(o,u){for(var h="",p=!0,f=[],d=!1,m=!0,g=!0,v=0,y=o.ops[v],b=!1;y;){s.assert(y.isInsert());var x=y.attributes;if(p){p=!1;var _=0,w=null,k="left";a.LINE_SENTINEL in x&&(_=x[a.LINE_INDENT]||0,w=x[a.LIST_TYPE]||null,k=x[a.LINE_ALIGN]||"left"),w&&(_=_||1),d?(h+="</li>",d=!1):m||(g&&(h+="<br/>"),h+="</div>"),m=!1,s.assert(_>=0,"Indent must not be negative.");for(;f.length>_||_===f.length&&null!==w&&!n(w,f[f.length-1]);)h+=i(f.pop());for(;f.length<_;){var C=w||l.UNORDERED;b=w==l.TODO||w==l.TODOCHECKED||b,h+=e(C),f.push(C)}var S="left"!==k?' style="text-align:'+k+'"':"";if(w){var T="";switch(w){case l.TODOCHECKED:T=' class="firepad-checked"';break;case l.TODO:T=' class="firepad-unchecked"'}h+="<li"+T+S+">",d=!0}else h+="<div"+S+">";g=!0}if(a.LINE_SENTINEL in x)y=o.ops[++v];else if(a.ENTITY_SENTINEL in x){for(var E=0;E<y.text.length;E++){var A=t.Entity.fromAttributes(x),M=u.exportToElement(A);h+=M.outerHTML}y=o.ops[++v]}else{var L="",N="";for(var P in x){var I,D,O=x[P];P===a.BOLD||P===a.ITALIC||P===a.UNDERLINE||P===a.STRIKE?(s.assert(O===!0),I=D=P):P===a.FONT_SIZE?(I='span style="font-size: '+O,I+="string"!=typeof O||-1===O.indexOf("px",O.length-2)?'px"':'"',D="span"):P===a.FONT?(I='span style="font-family: '+O+'"',D="span"):P===a.COLOR?(I='span style="color: '+O+'"',D="span"):P===a.BACKGROUND_COLOR?(I='span style="background-color: '+O+'"',D="span"):s.log(!1,"Encountered unknown attribute while rendering html: "+P),I&&(L+="<"+I+">"),D&&(N="</"+D+">"+N)}var R=y.text,F=R.indexOf("\n");F>=0?(p=!0,y=F<R.length-1?new t.TextOp("insert",R.substr(F+1),x):o.ops[++v],R=R.substr(0,F)):y=o.ops[++v],R=R.replace(/  +/g,function(t){return new Array(t.length+1).join("Â ")}).replace(/^ /,"Â ").replace(/ $/,"Â "),R.length>0&&(g=!1),h+=L+r(R)+N}}for(d?h+="</li>":m||(g&&(h+="&nbsp;"),h+="</div>");f.length>0;)h+=i(f.pop());return b&&(h=c+h),h}var s=t.utils,a=t.AttributeConstants,l=t.LineFormatting.LIST_TYPE,c='<style>ul.firepad-todo { list-style: none; margin-left: 0; padding-left: 0; } ul.firepad-todo > li { padding-left: 1em; text-indent: -1em; } ul.firepad-todo > li:before { content: "\\2610"; padding-right: 5px; } ul.firepad-todo > li.firepad-checked:before { content: "\\2611"; padding-right: 5px; }</style>\n';return o}();var t=t||{};t.textPiecesToInserts=function(e,i){function n(i,n){i instanceof t.Text&&(n=i.formatting.attributes,i=i.text),o.push({string:i,attributes:n}),e="\n"===i[i.length-1]}function r(i){e&&n(t.sentinelConstants.LINE_SENTINEL_CHARACTER,i.formatting.attributes);for(var r=0;r<i.textPieces.length;r++)n(i.textPieces[r]);n("\n")}for(var o=[],s=0;s<i.length;s++)i[s]instanceof t.Line?r(i[s]):n(i[s]);return o};var t=t||{};t.Headless=function(){function e(t){if(!(this instanceof e))return new e(t);if("string"==typeof t){if("function"!=typeof Firebase)var i=require("firebase");else var i=Firebase;var o=new i(t)}else var o=t;this.adapter=new n(o),this.ready=!1,this.entityManager=new r}var i=t.TextOperation,n=t.FirebaseAdapter,r=t.EntityManager,o=t.ParseHtml;return e.prototype.getDocument=function(t){var e=this;return e.ready?t(e.adapter.getDocument()):void e.adapter.on("ready",function(){e.ready=!0,t(e.adapter.getDocument())})},e.prototype.getText=function(e){this.getDocument(function(i){var n=i.apply("");for(key in t.sentinelConstants)n=n.replace(new RegExp(t.sentinelConstants[key],"g"),"");e(n)})},e.prototype.setText=function(t,e){var n=i().insert(t);this.sendOperationWithRetry(n,e)},e.prototype.initializeFakeDom=function(e){"object"==typeof document||"object"==typeof t.document?e():require("jsdom").env("<head></head><body></body>",function(i,n){return t.document?(n.close(),e()):(t.document=n.document,void e())})},e.prototype.getHtml=function(e){var i=this;i.initializeFakeDom(function(){i.getDocument(function(n){e(t.SerializeHtml(n,i.entityManager))})})},e.prototype.setHtml=function(e,n){var r=this;r.initializeFakeDom(function(){for(var s=o(e,r.entityManager),a=t.textPiecesToInserts(!0,s),l=new i,c=0;c<a.length;c++)l.insert(a[c].string,a[c].attributes);r.sendOperationWithRetry(l,n)})},e.prototype.sendOperationWithRetry=function(t,e){var i=this;i.getDocument(function(n){var r=t.clone()["delete"](n.targetLength);i.adapter.sendOperation(r,function(n,r){r?"undefined"!=typeof e&&e(null,r):i.sendOperationWithRetry(t,e)})})},e}();var t=t||{};return t.Firepad=function(e){function i(t,e,r){if(!(this instanceof i))return new i(t,e,r);if(!m&&!g)throw new Error("Couldn't find CodeMirror or ACE.  Did you forget to include codemirror.js or ace.js?");if(m&&e instanceof m){this.codeMirror_=this.editor_=e;var o=this.codeMirror_.getValue();if(""!==o)throw new Error("Can't initialize Firepad with a CodeMirror instance that already contains text.")}else if(g&&e&&e.session instanceof g.EditSession){if(this.ace_=this.editor_=e,o=this.ace_.getValue(),""!==o)throw new Error("Can't initialize Firepad with an ACE instance that already contains text.")}else this.codeMirror_=this.editor_=new m(e);var l=this.codeMirror_?this.codeMirror_.getWrapperElement():this.ace_.container;this.firepadWrapper_=d.elt("div",null,{"class":"firepad"}),l.parentNode.replaceChild(this.firepadWrapper_,l),this.firepadWrapper_.appendChild(l),d.on(l,"dragstart",d.stopEvent),this.editor_.firepad=this,this.options_=r||{},this.getOption("richTextShortcuts",!1)&&(m.keyMap.richtext||this.initializeKeyMap_(),this.codeMirror_.setOption("keyMap","richtext"),this.firepadWrapper_.className+=" firepad-richtext"),this.imageInsertionUI=this.getOption("imageInsertionUI",!0),this.getOption("richTextToolbar",!1)&&(this.addToolbar_(),this.firepadWrapper_.className+=" firepad-richtext firepad-with-toolbar"),this.addPoweredByLogo_(),this.codeMirror_&&this.codeMirror_.refresh();var f=this.getOption("userId",t.push().key()),v=this.getOption("userColor",n(f));this.entityManager_=new p,this.firebaseAdapter_=new u(t,f,v),this.codeMirror_?(this.richTextCodeMirror_=new a(this.codeMirror_,this.entityManager_,{cssPrefix:"firepad-"}),this.editorAdapter_=new s(this.richTextCodeMirror_)):this.editorAdapter_=new c(this.ace_),this.client_=new h(this.firebaseAdapter_,this.editorAdapter_);var y=this;this.firebaseAdapter_.on("cursor",function(){y.trigger.apply(y,["cursor"].concat([].slice.call(arguments)))}),this.codeMirror_&&this.richTextCodeMirror_.on("newLine",function(){y.trigger.apply(y,["newLine"].concat([].slice.call(arguments)))}),this.firebaseAdapter_.on("ready",function(){y.ready_=!0,this.ace_&&this.editorAdapter_.grabDocumentState();var t=y.getOption("defaultText",null);t&&y.isHistoryEmpty()&&y.setText(t),y.trigger("ready")}),this.client_.on("synced",function(t){y.trigger("synced",t)}),"Microsoft Internet Explorer"==navigator.appName&&navigator.userAgent.match(/MSIE 8\./)&&(window.onload=function(){var t=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet.cssText=":before,:after{content:none !important;}",t.appendChild(e),setTimeout(function(){t.removeChild(e)},0)})}function n(t){for(var e=1,i=0;i<t.length;i++)e=17*(e+t.charCodeAt(i))%360;var n=e/360;return o(n,1,.85)}function r(t,e,i){function n(t){var e=Math.round(255*t).toString(16);return 1===e.length?"0"+e:e}return"#"+n(t)+n(e)+n(i)}function o(t,e,i){if(0===e)return r(i,i,i);var n=.5>i?i*(1+e):i+e-e*i,o=2*i-n,s=function(t){return 0>t&&(t+=1),t>1&&(t-=1),1>6*t?o+6*(n-o)*t:1>2*t?n:2>3*t?o+6*(n-o)*(2/3-t):o};return r(s(t+1/3),s(t),s(t-1/3))}if(!t.RichTextCodeMirrorAdapter)throw new Error("Oops! It looks like you're trying to include lib/firepad.js directly.  This is actually one of many source files that make up firepad.  You want dist/firepad.js instead.");var s=t.RichTextCodeMirrorAdapter,a=t.RichTextCodeMirror,l=t.RichTextToolbar,c=t.ACEAdapter,u=t.FirebaseAdapter,h=t.EditorClient,p=t.EntityManager,f=t.AttributeConstants,d=t.utils,m=(t.LineFormatting.LIST_TYPE,e.CodeMirror),g=e.ace;return d.makeEventEmitter(i),i.fromCodeMirror=i,i.fromACE=i,i.prototype.dispose=function(){this.zombie_=!0;var t=this.codeMirror_?this.codeMirror_.getWrapperElement():this.ace_.container;this.firepadWrapper_.removeChild(t),this.firepadWrapper_.parentNode.replaceChild(t,this.firepadWrapper_),this.editor_.firepad=null,this.codeMirror_&&"richtext"===this.codeMirror_.getOption("keyMap")&&this.codeMirror_.setOption("keyMap","default"),this.firebaseAdapter_.dispose(),this.editorAdapter_.detach(),this.richTextCodeMirror_&&this.richTextCodeMirror_.detach()},i.prototype.setUserId=function(t){this.firebaseAdapter_.setUserId(t)},i.prototype.setUserColor=function(t){this.firebaseAdapter_.setColor(t)},i.prototype.getText=function(){return this.assertReady_("getText"),this.codeMirror_?this.richTextCodeMirror_.getText():this.ace_.getSession().getDocument().getValue()},i.prototype.setText=function(t){return this.ace_?this.ace_.getSession().getDocument().setValue(t):(this.codeMirror_.getWrapperElement().setAttribute("style","display: none"),this.codeMirror_.setValue(""),this.insertText(0,t),this.codeMirror_.getWrapperElement().setAttribute("style",""),this.codeMirror_.refresh(),void this.editorAdapter_.setCursor({position:0,selectionEnd:0}))},i.prototype.insertTextAtCursor=function(t){this.insertText(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),t)},i.prototype.insertText=function(e,i){d.assert(!this.ace_,"Not supported for ace yet."),this.assertReady_("insertText"),"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]);for(var n=0===e,r=t.textPiecesToInserts(n,i),o=0;o<r.length;o++){var s=r[o].string,a=r[o].attributes;this.richTextCodeMirror_.insertText(e,s,a),e+=s.length}},i.prototype.getOperationForSpan=function(e,i){for(var n=this.richTextCodeMirror_.getRange(e,i),r=this.richTextCodeMirror_.getAttributeSpans(e,i),o=0,s=new t.TextOperation,a=0;a<r.length;a++)s.insert(n.substr(o,r[a].length),r[a].attributes),o+=r[a].length;return s},i.prototype.getHtml=function(){return this.getHtmlFromRange(null,null)},i.prototype.getHtmlFromSelection=function(){var t=this.codeMirror_.getCursor("start"),e=this.codeMirror_.getCursor("end"),i=this.codeMirror_.indexFromPos(t),n=this.codeMirror_.indexFromPos(e);return this.getHtmlFromRange(i,n)},i.prototype.getHtmlFromRange=function(e,i){var n=null!=e&&null!=i?this.getOperationForSpan(e,i):this.getOperationForSpan(0,this.codeMirror_.getValue().length);return t.SerializeHtml(n,this.entityManager_)},i.prototype.insertHtml=function(e,i){var n=t.ParseHtml(i,this.entityManager_);this.insertText(e,n)},i.prototype.insertHtmlAtCursor=function(t){this.insertHtml(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),t)},i.prototype.setHtml=function(e){var i=t.ParseHtml(e,this.entityManager_);this.setText(i)},i.prototype.isHistoryEmpty=function(){return this.assertReady_("isHistoryEmpty"),this.firebaseAdapter_.isHistoryEmpty()},i.prototype.bold=function(){this.richTextCodeMirror_.toggleAttribute(f.BOLD),this.codeMirror_.focus()},i.prototype.italic=function(){this.richTextCodeMirror_.toggleAttribute(f.ITALIC),this.codeMirror_.focus()},i.prototype.underline=function(){this.richTextCodeMirror_.toggleAttribute(f.UNDERLINE),this.codeMirror_.focus()},i.prototype.strike=function(){this.richTextCodeMirror_.toggleAttribute(f.STRIKE),this.codeMirror_.focus()},i.prototype.fontSize=function(t){this.richTextCodeMirror_.setAttribute(f.FONT_SIZE,t),this.codeMirror_.focus()},i.prototype.font=function(t){this.richTextCodeMirror_.setAttribute(f.FONT,t),this.codeMirror_.focus()},i.prototype.color=function(t){this.richTextCodeMirror_.setAttribute(f.COLOR,t),this.codeMirror_.focus()},i.prototype.highlight=function(){this.richTextCodeMirror_.toggleAttribute(f.BACKGROUND_COLOR,"rgba(255,255,0,.65)"),this.codeMirror_.focus()},i.prototype.align=function(t){if("left"!==t&&"center"!==t&&"right"!==t)throw new Error('align() must be passed "left", "center", or "right".');this.richTextCodeMirror_.setLineAttribute(f.LINE_ALIGN,t),this.codeMirror_.focus()},i.prototype.orderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(f.LIST_TYPE,"o"),this.codeMirror_.focus()},i.prototype.unorderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(f.LIST_TYPE,"u"),this.codeMirror_.focus()},i.prototype.todo=function(){this.richTextCodeMirror_.toggleTodo(),this.codeMirror_.focus()},i.prototype.newline=function(){this.richTextCodeMirror_.newline()},i.prototype.deleteLeft=function(){this.richTextCodeMirror_.deleteLeft()},i.prototype.deleteRight=function(){this.richTextCodeMirror_.deleteRight()},i.prototype.indent=function(){this.richTextCodeMirror_.indent(),this.codeMirror_.focus()},i.prototype.unindent=function(){this.richTextCodeMirror_.unindent(),this.codeMirror_.focus()},i.prototype.undo=function(){this.codeMirror_.undo()},i.prototype.redo=function(){this.codeMirror_.redo()},i.prototype.insertEntity=function(t,e,i){this.richTextCodeMirror_.insertEntityAtCursor(t,e,i)},i.prototype.insertEntityAt=function(t,e,i,n){this.richTextCodeMirror_.insertEntityAt(t,e,i,n)},i.prototype.registerEntity=function(t,e){this.entityManager_.register(t,e)},i.prototype.getOption=function(t,e){return t in this.options_?this.options_[t]:e},i.prototype.assertReady_=function(t){if(!this.ready_)throw new Error('You must wait for the "ready" event before calling '+t+".");if(this.zombie_)throw new Error("You can't use a Firepad after calling dispose()!")},i.prototype.makeImageDialog_=function(){this.makeDialog_("img","Insert image url")},i.prototype.makeDialog_=function(t,e){var i=this,n=function(){var t=document.getElementById("overlay");t.style.visibility="hidden",i.firepadWrapper_.removeChild(t)},r=function(){var e=document.getElementById("overlay");e.style.visibility="hidden";var n=document.getElementById(t).value;null!==n&&i.insertEntity(t,{src:n}),i.firepadWrapper_.removeChild(e)},o=d.elt("input",null,{"class":"firepad-dialog-input",id:t,type:"text",placeholder:e,autofocus:"autofocus"}),s=d.elt("a","Submit",{"class":"firepad-btn",id:"submitbtn"});d.on(s,"click",d.stopEventAnd(r));var a=d.elt("a","Cancel",{"class":"firepad-btn"});d.on(a,"click",d.stopEventAnd(n));var l=d.elt("div",[s,a],{"class":"firepad-btn-group"}),c=d.elt("div",[o,l],{"class":"firepad-dialog-div"}),u=d.elt("div",[c],{"class":"firepad-dialog",id:"overlay"});this.firepadWrapper_.appendChild(u)},i.prototype.addToolbar_=function(){this.toolbar=new l(this.imageInsertionUI),this.toolbar.on("undo",this.undo,this),this.toolbar.on("redo",this.redo,this),this.toolbar.on("bold",this.bold,this),this.toolbar.on("italic",this.italic,this),this.toolbar.on("underline",this.underline,this),this.toolbar.on("strike",this.strike,this),this.toolbar.on("font-size",this.fontSize,this),
this.toolbar.on("font",this.font,this),this.toolbar.on("color",this.color,this),this.toolbar.on("left",function(){this.align("left")},this),this.toolbar.on("center",function(){this.align("center")},this),this.toolbar.on("right",function(){this.align("right")},this),this.toolbar.on("ordered-list",this.orderedList,this),this.toolbar.on("unordered-list",this.unorderedList,this),this.toolbar.on("todo-list",this.todo,this),this.toolbar.on("indent-increase",this.indent,this),this.toolbar.on("indent-decrease",this.unindent,this),this.toolbar.on("insert-image",this.makeImageDialog_,this),this.firepadWrapper_.insertBefore(this.toolbar.element(),this.firepadWrapper_.firstChild)},i.prototype.addPoweredByLogo_=function(){var t=d.elt("a",null,{"class":"powered-by-firepad"});t.setAttribute("href","http://www.firepad.io/"),t.setAttribute("target","_blank"),this.firepadWrapper_.appendChild(t)},i.prototype.initializeKeyMap_=function(){function t(t){return function(e){setTimeout(function(){t.call(e.firepad)},0)}}m.keyMap.richtext={"Ctrl-B":t(this.bold),"Cmd-B":t(this.bold),"Ctrl-I":t(this.italic),"Cmd-I":t(this.italic),"Ctrl-U":t(this.underline),"Cmd-U":t(this.underline),"Ctrl-H":t(this.highlight),"Cmd-H":t(this.highlight),Enter:t(this.newline),Delete:t(this.deleteRight),Backspace:t(this.deleteLeft),Tab:t(this.indent),"Shift-Tab":t(this.unindent),fallthrough:["default"]}},i}(this),t.Firepad.Formatting=t.Formatting,t.Firepad.Text=t.Text,t.Firepad.Entity=t.Entity,t.Firepad.LineFormatting=t.LineFormatting,t.Firepad.Line=t.Line,t.Firepad.TextOperation=t.TextOperation,t.Firepad.Headless=t.Headless,t.Firepad.RichTextCodeMirrorAdapter=t.RichTextCodeMirrorAdapter,t.Firepad.ACEAdapter=t.ACEAdapter,t.Firepad},this),function(t,e){function i(t){var e=t.length,i=lt.type(t);return!lt.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)))}function n(t){var e=kt[t]={};return lt.each(t.match(ut)||[],function(t,i){e[i]=!0}),e}function r(t,i,n,r){if(lt.acceptData(t)){var o,s,a=lt.expando,l="string"==typeof i,c=t.nodeType,u=c?lt.cache:t,h=c?t[a]:t[a]&&a;if(h&&u[h]&&(r||u[h].data)||!l||n!==e)return h||(c?t[a]=h=J.pop()||lt.guid++:h=a),u[h]||(u[h]={},c||(u[h].toJSON=lt.noop)),("object"==typeof i||"function"==typeof i)&&(r?u[h]=lt.extend(u[h],i):u[h].data=lt.extend(u[h].data,i)),o=u[h],r||(o.data||(o.data={}),o=o.data),n!==e&&(o[lt.camelCase(i)]=n),l?(s=o[i],null==s&&(s=o[lt.camelCase(i)])):s=o,s}}function o(t,e,i){if(lt.acceptData(t)){var n,r,o,s=t.nodeType,l=s?lt.cache:t,c=s?t[lt.expando]:lt.expando;if(l[c]){if(e&&(o=i?l[c]:l[c].data)){lt.isArray(e)?e=e.concat(lt.map(e,lt.camelCase)):e in o?e=[e]:(e=lt.camelCase(e),e=e in o?[e]:e.split(" "));for(n=0,r=e.length;r>n;n++)delete o[e[n]];if(!(i?a:lt.isEmptyObject)(o))return}(i||(delete l[c].data,a(l[c])))&&(s?lt.cleanData([t],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function s(t,i,n){if(n===e&&1===t.nodeType){var r="data-"+i.replace(St,"-$1").toLowerCase();if(n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ct.test(n)?lt.parseJSON(n):n)}catch(o){}lt.data(t,i,n)}else n=e}return n}function a(t){var e;for(e in t)if(("data"!==e||!lt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function h(t,e,i){if(e=e||0,lt.isFunction(e))return lt.grep(t,function(t,n){var r=!!e.call(t,n,t);return r===i});if(e.nodeType)return lt.grep(t,function(t){return t===e===i});if("string"==typeof e){var n=lt.grep(t,function(t){return 1===t.nodeType});if(qt.test(e))return lt.filter(e,n,!i);e=lt.filter(e,n)}return lt.grep(t,function(t){return lt.inArray(t,e)>=0===i})}function p(t){var e=Vt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function d(t){var e=t.getAttributeNode("type");return t.type=(e&&e.specified)+"/"+t.type,t}function m(t){var e=re.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i,n=0;null!=(i=t[n]);n++)lt._data(i,"globalEval",!e||lt._data(e[n],"globalEval"))}function v(t,e){if(1===e.nodeType&&lt.hasData(t)){var i,n,r,o=lt._data(t),s=lt._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,r=a[i].length;r>n;n++)lt.event.add(e,i,a[i][n])}s.data&&(s.data=lt.extend({},s.data))}}function y(t,e){var i,n,r;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!lt.support.noCloneEvent&&e[lt.expando]){r=lt._data(e);for(n in r.events)lt.removeEvent(e,n,r.handle);e.removeAttribute(lt.expando)}"script"===i&&e.text!==t.text?(d(e).text=t.text,m(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),lt.support.html5Clone&&t.innerHTML&&!lt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&ee.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function b(t,i){var n,r,o=0,s=typeof t.getElementsByTagName!==K?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==K?t.querySelectorAll(i||"*"):e;if(!s)for(s=[],n=t.childNodes||t;null!=(r=n[o]);o++)!i||lt.nodeName(r,i)?s.push(r):lt.merge(s,b(r,i));return i===e||i&&lt.nodeName(t,i)?lt.merge([t],s):s}function x(t){ee.test(t.type)&&(t.defaultChecked=t.checked)}function _(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,r=Ce.length;r--;)if(e=Ce[r]+i,e in t)return e;return n}function w(t,e){return t=e||t,"none"===lt.css(t,"display")||!lt.contains(t.ownerDocument,t)}function k(t,e){for(var i,n,r,o=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(o[s]=lt._data(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&w(n)&&(o[s]=lt._data(n,"olddisplay",E(n.nodeName)))):o[s]||(r=w(n),(i&&"none"!==i||!r)&&lt._data(n,"olddisplay",r?i:lt.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function C(t,e,i){var n=ve.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function S(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=lt.css(t,i+ke[o],!0,r)),n?("content"===i&&(s-=lt.css(t,"padding"+ke[o],!0,r)),"margin"!==i&&(s-=lt.css(t,"border"+ke[o]+"Width",!0,r))):(s+=lt.css(t,"padding"+ke[o],!0,r),"padding"!==i&&(s+=lt.css(t,"border"+ke[o]+"Width",!0,r)));return s}function T(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ue(t),s=lt.support.boxSizing&&"border-box"===lt.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=he(t,e,o),(0>r||null==r)&&(r=t.style[e]),ye.test(r))return r;n=s&&(lt.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+S(t,e,i||(s?"border":"content"),n,o)+"px"}function E(t){var e=Y,i=xe[t];return i||(i=A(t,e),"none"!==i&&i||(ce=(ce||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ce[0].contentWindow||ce[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=A(t,e),ce.detach()),xe[t]=i),i}function A(t,e){var i=lt(e.createElement(t)).appendTo(e.body),n=lt.css(i[0],"display");return i.remove(),n}function M(t,e,i,n){var r;if(lt.isArray(e))lt.each(e,function(e,r){i||Te.test(t)?n(t,r):M(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==lt.type(e))n(t,e);else for(r in e)M(t+"["+r+"]",e[r],i,n)}function L(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(ut)||[];if(lt.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function N(t,i,n,r){function o(l){var c;return s[l]=!0,lt.each(t[l]||[],function(t,l){var u=l(i,n,r);return"string"!=typeof u||a||s[u]?a?!(c=u):e:(i.dataTypes.unshift(u),o(u),!1)}),c}var s={},a=t===qe;return o(i.dataTypes[0])||!s["*"]&&o("*")}function P(t,i){var n,r,o=lt.ajaxSettings.flatOptions||{};for(r in i)i[r]!==e&&((o[r]?t:n||(n={}))[r]=i[r]);return n&&lt.extend(!0,t,n),t}function I(t,i,n){var r,o,s,a,l=t.contents,c=t.dataTypes,u=t.responseFields;for(a in u)a in n&&(i[u[a]]=n[a]);for(;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||i.getResponseHeader("Content-Type"));if(o)for(a in l)if(l[a]&&l[a].test(o)){c.unshift(a);break}if(c[0]in n)s=c[0];else{for(a in n){if(!c[0]||t.converters[a+" "+c[0]]){s=a;break}r||(r=a)}s=s||r}return s?(s!==c[0]&&c.unshift(s),n[s]):e}function D(t,e){var i,n,r,o,s={},a=0,l=t.dataTypes.slice(),c=l[0];if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l[1])for(r in t.converters)s[r.toLowerCase()]=t.converters[r];for(;n=l[++a];)if("*"!==n){if("*"!==c&&c!==n){if(r=s[c+" "+n]||s["* "+n],!r)for(i in s)if(o=i.split(" "),o[1]===n&&(r=s[c+" "+o[0]]||s["* "+o[0]])){r===!0?r=s[i]:s[i]!==!0&&(n=o[0],l.splice(a--,0,n));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+c+" to "+n}}}c=n}return{state:"success",data:e}}function O(){try{return new t.XMLHttpRequest}catch(e){}}function R(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function F(){return setTimeout(function(){Ze=e}),Ze=lt.now()}function H(t,e){lt.each(e,function(e,i){for(var n=(ri[e]||[]).concat(ri["*"]),r=0,o=n.length;o>r;r++)if(n[r].call(t,e,i))return})}function j(t,e,i){var n,r,o=0,s=ni.length,a=lt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Ze||F(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,o=1-n,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,i]),1>o&&l?i:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:lt.extend({},e),opts:lt.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Ze||F(),duration:i.duration,tweens:[],createTween:function(e,i){var n=lt.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)c.tweens[i].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(z(u,c.opts.specialEasing);s>o;o++)if(n=ni[o].call(c,t,u,c.opts))return n;return H(c,u),lt.isFunction(c.opts.start)&&c.opts.start.call(t,c),lt.fx.timer(lt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(t,e){var i,n,r,o,s;for(r in t)if(n=lt.camelCase(r),o=e[n],i=t[r],lt.isArray(i)&&(o=i[1],i=t[r]=i[0]),r!==n&&(t[n]=i,delete t[r]),s=lt.cssHooks[n],s&&"expand"in s){i=s.expand(i),delete t[n];for(r in i)r in t||(t[r]=i[r],e[r]=o)}else e[n]=o}function W(t,e,i){var n,r,o,s,a,l,c,u,h,p=this,f=t.style,d={},m=[],g=t.nodeType&&w(t);i.queue||(u=lt._queueHooks(t,"fx"),null==u.unqueued&&(u.unqueued=0,h=u.empty.fire,u.empty.fire=function(){u.unqueued||h()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,lt.queue(t,"fx").length||u.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===lt.css(t,"display")&&"none"===lt.css(t,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?f.zoom=1:f.display="inline-block")),i.overflow&&(f.overflow="hidden",lt.support.shrinkWrapBlocks||p.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(r in e)if(s=e[r],ti.exec(s)){if(delete e[r],l=l||"toggle"===s,s===(g?"hide":"show"))continue;m.push(r)}if(o=m.length){a=lt._data(t,"fxshow")||lt._data(t,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?lt(t).show():p.done(function(){lt(t).hide()}),p.done(function(){var e;lt._removeData(t,"fxshow");for(e in d)lt.style(t,e,d[e])});for(r=0;o>r;r++)n=m[r],c=p.createTween(n,g?a[n]:0),d[n]=a[n]||lt.style(t,n),n in a||(a[n]=c.start,g&&(c.end=c.start,c.start="width"===n||"height"===n?1:0))}}function B(t,e,i,n,r){return new B.prototype.init(t,e,i,n,r)}function q(t,e){var i,n={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)i=ke[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function $(t){return lt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var U,V,K=typeof e,Y=t.document,G=t.location,X=t.jQuery,Q=t.$,Z={},J=[],tt="1.9.1",et=J.concat,it=J.push,nt=J.slice,rt=J.indexOf,ot=Z.toString,st=Z.hasOwnProperty,at=tt.trim,lt=function(t,e){return new lt.fn.init(t,e,V)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,ht=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,yt=/^-ms-/,bt=/-([\da-z])/gi,xt=function(t,e){return e.toUpperCase()},_t=function(t){(Y.addEventListener||"load"===t.type||"complete"===Y.readyState)&&(wt(),lt.ready())},wt=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",_t,!1),t.removeEventListener("load",_t,!1)):(Y.detachEvent("onreadystatechange",_t),t.detachEvent("onload",_t))};lt.fn=lt.prototype={jquery:tt,constructor:lt,init:function(t,i,n){var r,o;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:pt.exec(t),!r||!r[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(r[1]){if(i=i instanceof lt?i[0]:i,lt.merge(this,lt.parseHTML(r[1],i&&i.nodeType?i.ownerDocument||i:Y,!0)),ft.test(r[1])&&lt.isPlainObject(i))for(r in i)lt.isFunction(this[r])?this[r](i[r]):this.attr(r,i[r]);return this}if(o=Y.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return n.find(t);this.length=1,this[0]=o}return this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):lt.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),lt.makeArray(t,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return nt.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=lt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return lt.each(this,t,e)},ready:function(t){return lt.ready.promise().done(t),this},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(lt.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:it,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var t,i,n,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||lt.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)t=a[r],n=o[r],a!==n&&(u&&n&&(lt.isPlainObject(n)||(i=lt.isArray(n)))?(i?(i=!1,s=t&&lt.isArray(t)?t:[]):s=t&&lt.isPlainObject(t)?t:{},a[r]=lt.extend(u,s,n)):n!==e&&(a[r]=n));return a},lt.extend({noConflict:function(e){return t.$===lt&&(t.$=Q),e&&t.jQuery===lt&&(t.jQuery=X),lt},isReady:!1,readyWait:1,holdReady:function(t){t?lt.readyWait++:lt.ready(!0)},ready:function(t){if(t===!0?!--lt.readyWait:!lt.isReady){if(!Y.body)return setTimeout(lt.ready);lt.isReady=!0,t!==!0&&--lt.readyWait>0||(U.resolveWith(Y,[lt]),lt.fn.trigger&&lt(Y).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===lt.type(t)},isArray:Array.isArray||function(t){return"array"===lt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[ot.call(t)]||"object":typeof t},isPlainObject:function(t){if(!t||"object"!==lt.type(t)||t.nodeType||lt.isWindow(t))return!1;try{if(t.constructor&&!st.call(t,"constructor")&&!st.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||st.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Y;var n=ft.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=lt.buildFragment([t],e,r),r&&lt(r).remove(),lt.merge([],n.childNodes))},parseJSON:function(i){return t.JSON&&t.JSON.parse?t.JSON.parse(i):null===i?i:"string"==typeof i&&(i=lt.trim(i),i&&dt.test(i.replace(gt,"@").replace(vt,"]").replace(mt,"")))?Function("return "+i)():(lt.error("Invalid JSON: "+i),e)},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&lt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(yt,"ms-").replace(bt,xt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,o=0,s=t.length,a=i(t);if(n){if(a)for(;s>o&&(r=e.apply(t[o],n),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],n),r===!1)break}else if(a)for(;s>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:at&&!at.call("\ufeff ")?function(t){return null==t?"":at.call(t)}:function(t){return null==t?"":(t+"").replace(ht,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?lt.merge(n,"string"==typeof t?[t]:t):it.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(rt)return rt.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,r=t.length,o=0;if("number"==typeof n)for(;n>o;o++)t[r++]=i[o];else for(;i[o]!==e;)t[r++]=i[o++];return t.length=r,t},grep:function(t,e,i){var n,r=[],o=0,s=t.length;for(i=!!i;s>o;o++)n=!!e(t[o],o),i!==n&&r.push(t[o]);return r},map:function(t,e,n){var r,o=0,s=t.length,a=i(t),l=[];if(a)for(;s>o;o++)r=e(t[o],o,n),null!=r&&(l[l.length]=r);else for(o in t)r=e(t[o],o,n),null!=r&&(l[l.length]=r);return et.apply([],l)},guid:1,proxy:function(t,i){var n,r,o;return"string"==typeof i&&(o=t[i],i=t,t=o),lt.isFunction(t)?(n=nt.call(arguments,2),r=function(){return t.apply(i||this,n.concat(nt.call(arguments)))},r.guid=t.guid=t.guid||lt.guid++,r):e},access:function(t,i,n,r,o,s,a){var l=0,c=t.length,u=null==n;if("object"===lt.type(n)){o=!0;for(l in n)lt.access(t,i,l,n[l],!0,s,a)}else if(r!==e&&(o=!0,lt.isFunction(r)||(a=!0),u&&(a?(i.call(t,r),i=null):(u=i,i=function(t,e,i){return u.call(lt(t),i)})),i))for(;c>l;l++)i(t[l],n,a?r:r.call(t[l],l,i(t[l],n)));return o?t:u?i.call(t):c?i(t[0],n):s},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(e){if(!U)if(U=lt.Deferred(),"complete"===Y.readyState)setTimeout(lt.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",_t,!1),t.addEventListener("load",_t,!1);else{Y.attachEvent("onreadystatechange",_t),t.attachEvent("onload",_t);var i=!1;try{i=null==t.frameElement&&Y.documentElement}catch(n){}i&&i.doScroll&&function r(){if(!lt.isReady){try{i.doScroll("left")}catch(t){return setTimeout(r,50)}wt(),lt.ready()}}()}return U.promise(e)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()}),V=lt(Y);var kt={};lt.Callbacks=function(t){t="string"==typeof t?kt[t]||n(t):lt.extend({},t);var i,r,o,s,a,l,c=[],u=!t.once&&[],h=function(e){for(r=t.memory&&e,o=!0,a=l||0,l=0,s=c.length,i=!0;c&&s>a;a++)if(c[a].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}i=!1,c&&(u?u.length&&h(u.shift()):r?c=[]:p.disable())},p={add:function(){if(c){var e=c.length;!function n(e){lt.each(e,function(e,i){var r=lt.type(i);"function"===r?t.unique&&p.has(i)||c.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),i?s=c.length:r&&(l=e,h(r))}return this},remove:function(){return c&&lt.each(arguments,function(t,e){for(var n;(n=lt.inArray(e,c,n))>-1;)c.splice(n,1),i&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?lt.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=u=r=e,this},disabled:function(){return!c},lock:function(){return u=e,r||p.disable(),this},locked:function(){return!u},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||o&&!u||(i?u.push(e):h(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},lt.extend({Deferred:function(t){var e=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return lt.Deferred(function(i){lt.each(e,function(e,o){var s=o[0],a=lt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&lt.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?lt.extend(t,n):n}},r={};return n.pipe=n.then,lt.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=nt.call(arguments),s=o.length,a=1!==s||t&&lt.isFunction(t.promise)?s:0,l=1===a?t:lt.Deferred(),c=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?nt.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=Array(s),i=Array(s),n=Array(s);s>r;r++)o[r]&&lt.isFunction(o[r].promise)?o[r].promise().done(c(r,n,o)).fail(l.reject).progress(c(r,i,e)):--a;return a||l.resolveWith(n,o),l.promise()}}),lt.support=function(){var e,i,n,r,o,s,a,l,c,u,h=Y.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*"),n=h.getElementsByTagName("a")[0],!i||!n||!i.length)return{};o=Y.createElement("select"),a=o.appendChild(Y.createElement("option")),r=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==h.className,leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!r.value,optSelected:a.selected,enctype:!!Y.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===Y.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!a.disabled;try{delete h.test}catch(p){e.deleteExpando=!1}r=Y.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),s=Y.createDocumentFragment(),s.appendChild(r),e.appendChecked=r.checked,e.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){e.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),e[u+"Bubbles"]=l in t||h.attributes[l].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip,lt(function(){var i,n,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=Y.getElementsByTagName("body")[0];s&&(i=Y.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(i).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=h.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===h.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(h,null)||{width:"4px"}).width,n=h.appendChild(Y.createElement("div")),n.style.cssText=h.style.cssText=o,n.style.marginRight=n.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),typeof h.style.zoom!==K&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(i),i=h=r=n=null)}),i=o=s=a=n=r=null,e}();var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(tt+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?lt.cache[t[lt.expando]]:t[lt.expando],!!t&&!a(t)},data:function(t,e,i){return r(t,e,i)},removeData:function(t,e){return o(t,e)},_data:function(t,e,i){return r(t,e,i,!0)},_removeData:function(t,e){return o(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&lt.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),lt.fn.extend({data:function(t,i){var n,r,o=this[0],a=0,l=null;if(t===e){if(this.length&&(l=lt.data(o),1===o.nodeType&&!lt._data(o,"parsedAttrs"))){for(n=o.attributes;n.length>a;a++)r=n[a].name,r.indexOf("data-")||(r=lt.camelCase(r.slice(5)),s(o,r,l[r]));lt._data(o,"parsedAttrs",!0)}return l}return"object"==typeof t?this.each(function(){lt.data(this,t)}):lt.access(this,function(i){return i===e?o?s(o,t,lt.data(o,t)):null:(this.each(function(){lt.data(this,t,i)}),e)},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){lt.removeData(this,t)})}}),lt.extend({queue:function(t,i,n){var r;return t?(i=(i||"fx")+"queue",r=lt._data(t,i),n&&(!r||lt.isArray(n)?r=lt._data(t,i,lt.makeArray(n)):r.push(n)),r||[]):e},dequeue:function(t,e){e=e||"fx";var i=lt.queue(t,e),n=i.length,r=i.shift(),o=lt._queueHooks(t,e),s=function(){lt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),o.cur=r,r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return lt._data(t,i)||lt._data(t,i,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(t,e+"queue"),lt._removeData(t,i)})})}}),lt.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),n>arguments.length?lt.queue(this[0],t):i===e?this:this.each(function(){var e=lt.queue(this,t,i);lt._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&lt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){lt.dequeue(this,t)})},delay:function(t,e){return t=lt.fx?lt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,r=1,o=lt.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";a--;)n=lt._data(s[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),o.promise(i)}});var Tt,Et,At=/[\t\r\n]/g,Mt=/\r/g,Lt=/^(?:input|select|textarea|button|object)$/i,Nt=/^(?:a|area)$/i,Pt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,It=/^(?:checked|selected)$/i,Dt=lt.support.getSetAttribute,Ot=lt.support.input;lt.fn.extend({attr:function(t,e){return lt.access(this,lt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){lt.removeAttr(this,t)})},prop:function(t,e){return lt.access(this,lt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=lt.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,r,o,s=0,a=this.length,l="string"==typeof t&&t;if(lt.isFunction(t))return this.each(function(e){lt(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ut)||[];a>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(At," "):" ")){for(o=0;r=e[o++];)0>n.indexOf(" "+r+" ")&&(n+=r+" ");i.className=lt.trim(n)}return this},removeClass:function(t){var e,i,n,r,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(lt.isFunction(t))return this.each(function(e){lt(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ut)||[];a>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(At," "):"")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");i.className=t?lt.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return lt.isFunction(t)?this.each(function(i){lt(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var r,o=0,s=lt(this),a=e,l=t.match(ut)||[];r=l[o++];)a=n?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else(i===K||"boolean"===i)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||t===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(At," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,r,o=this[0];return arguments.length?(r=lt.isFunction(t),this.each(function(i){var o,s=lt(this);1===this.nodeType&&(o=r?t.call(this,i,s.val()):t,null==o?o="":"number"==typeof o?o+="":lt.isArray(o)&&(o=lt.map(o,function(t){return null==t?"":t+""})),n=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==e||(this.value=o))})):o?(n=lt.valHooks[o.type]||lt.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==e?i:(i=o.value,"string"==typeof i?i.replace(Mt,""):null==i?"":i)):void 0}}),lt.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:n.length,l=0>r?a:o?r:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==r||(lt.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&lt.nodeName(i.parentNode,"optgroup"))){if(e=lt(i).val(),o)return e;s.push(e)}return s},set:function(t,e){var i=lt.makeArray(e);return lt(t).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}
},attr:function(t,i,n){var r,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===K?lt.prop(t,i,n):(o=1!==a||!lt.isXMLDoc(t),o&&(i=i.toLowerCase(),r=lt.attrHooks[i]||(Pt.test(i)?Et:Tt)),n===e?r&&o&&"get"in r&&null!==(s=r.get(t,i))?s:(typeof t.getAttribute!==K&&(s=t.getAttribute(i)),null==s?e:s):null!==n?r&&o&&"set"in r&&(s=r.set(t,n,i))!==e?s:(t.setAttribute(i,n+""),n):(lt.removeAttr(t,i),e))},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(ut);if(o&&1===t.nodeType)for(;i=o[r++];)n=lt.propFix[i]||i,Pt.test(i)?!Dt&&It.test(i)?t[lt.camelCase("default-"+i)]=t[n]=!1:t[n]=!1:lt.attr(t,i,""),t.removeAttribute(Dt?i:n)},attrHooks:{type:{set:function(t,e){if(!lt.support.radioValue&&"radio"===e&&lt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var r,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!lt.isXMLDoc(t),s&&(i=lt.propFix[i]||i,o=lt.propHooks[i]),n!==e?o&&"set"in o&&(r=o.set(t,n,i))!==e?r:t[i]=n:o&&"get"in o&&null!==(r=o.get(t,i))?r:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Lt.test(t.nodeName)||Nt.test(t.nodeName)&&t.href?0:e}}}}),Et={get:function(t,i){var n=lt.prop(t,i),r="boolean"==typeof n&&t.getAttribute(i),o="boolean"==typeof n?Ot&&Dt?null!=r:It.test(i)?t[lt.camelCase("default-"+i)]:!!r:t.getAttributeNode(i);return o&&o.value!==!1?i.toLowerCase():e},set:function(t,e,i){return e===!1?lt.removeAttr(t,i):Ot&&Dt||!It.test(i)?t.setAttribute(!Dt&&lt.propFix[i]||i,i):t[lt.camelCase("default-"+i)]=t[i]=!0,i}},Ot&&Dt||(lt.attrHooks.value={get:function(t,i){var n=t.getAttributeNode(i);return lt.nodeName(t,"input")?t.defaultValue:n&&n.specified?n.value:e},set:function(t,i,n){return lt.nodeName(t,"input")?(t.defaultValue=i,e):Tt&&Tt.set(t,i,n)}}),Dt||(Tt=lt.valHooks.button={get:function(t,i){var n=t.getAttributeNode(i);return n&&("id"===i||"name"===i||"coords"===i?""!==n.value:n.specified)?n.value:e},set:function(t,i,n){var r=t.getAttributeNode(n);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(n)),r.value=i+="","value"===n||i===t.getAttribute(n)?i:e}},lt.attrHooks.contenteditable={get:Tt.get,set:function(t,e,i){Tt.set(t,""!==e&&e,i)}},lt.each(["width","height"],function(t,i){lt.attrHooks[i]=lt.extend(lt.attrHooks[i],{set:function(t,n){return""===n?(t.setAttribute(i,"auto"),n):e}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(t,i){lt.attrHooks[i]=lt.extend(lt.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null==n?e:n}})}),lt.each(["href","src"],function(t,e){lt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(t,i){return lt.isArray(i)?t.checked=lt.inArray(lt(t).val(),i)>=0:e}})});var Rt=/^(?:input|select|textarea)$/i,Ft=/^key/,Ht=/^(?:mouse|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,zt=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(t,i,n,r,o){var s,a,l,c,u,h,p,f,d,m,g,v=lt._data(t);if(v){for(n.handler&&(c=n,n=c.handler,o=c.selector),n.guid||(n.guid=lt.guid++),(a=v.events)||(a=v.events={}),(h=v.handle)||(h=v.handle=function(t){return typeof lt===K||t&&lt.event.triggered===t.type?e:lt.event.dispatch.apply(h.elem,arguments)},h.elem=t),i=(i||"").match(ut)||[""],l=i.length;l--;)s=zt.exec(i[l])||[],d=g=s[1],m=(s[2]||"").split(".").sort(),u=lt.event.special[d]||{},d=(o?u.delegateType:u.bindType)||d,u=lt.event.special[d]||{},p=lt.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&lt.expr.match.needsContext.test(o),namespace:m.join(".")},c),(f=a[d])||(f=a[d]=[],f.delegateCount=0,u.setup&&u.setup.call(t,r,m,h)!==!1||(t.addEventListener?t.addEventListener(d,h,!1):t.attachEvent&&t.attachEvent("on"+d,h))),u.add&&(u.add.call(t,p),p.handler.guid||(p.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,p):f.push(p),lt.event.global[d]=!0;t=null}},remove:function(t,e,i,n,r){var o,s,a,l,c,u,h,p,f,d,m,g=lt.hasData(t)&&lt._data(t);if(g&&(u=g.events)){for(e=(e||"").match(ut)||[""],c=e.length;c--;)if(a=zt.exec(e[c])||[],f=m=a[1],d=(a[2]||"").split(".").sort(),f){for(h=lt.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,p=u[f]||[],a=a[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)s=p[o],!r&&m!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(p.splice(o,1),s.selector&&p.delegateCount--,h.remove&&h.remove.call(t,s));l&&!p.length&&(h.teardown&&h.teardown.call(t,d,g.handle)!==!1||lt.removeEvent(t,f,g.handle),delete u[f])}else for(f in u)lt.event.remove(t,f+e[c],i,n,!0);lt.isEmptyObject(u)&&(delete g.handle,lt._removeData(t,"events"))}},trigger:function(i,n,r,o){var s,a,l,c,u,h,p,f=[r||Y],d=st.call(i,"type")?i.type:i,m=st.call(i,"namespace")?i.namespace.split("."):[];if(l=h=r=r||Y,3!==r.nodeType&&8!==r.nodeType&&!jt.test(d+lt.event.triggered)&&(d.indexOf(".")>=0&&(m=d.split("."),d=m.shift(),m.sort()),a=0>d.indexOf(":")&&"on"+d,i=i[lt.expando]?i:new lt.Event(d,"object"==typeof i&&i),i.isTrigger=!0,i.namespace=m.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=r),n=null==n?[i]:lt.makeArray(n,[i]),u=lt.event.special[d]||{},o||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!o&&!u.noBubble&&!lt.isWindow(r)){for(c=u.delegateType||d,jt.test(c+d)||(l=l.parentNode);l;l=l.parentNode)f.push(l),h=l;h===(r.ownerDocument||Y)&&f.push(h.defaultView||h.parentWindow||t)}for(p=0;(l=f[p++])&&!i.isPropagationStopped();)i.type=p>1?c:u.bindType||d,s=(lt._data(l,"events")||{})[i.type]&&lt._data(l,"handle"),s&&s.apply(l,n),s=a&&l[a],s&&lt.acceptData(l)&&s.apply&&s.apply(l,n)===!1&&i.preventDefault();if(i.type=d,!(o||i.isDefaultPrevented()||u._default&&u._default.apply(r.ownerDocument,n)!==!1||"click"===d&&lt.nodeName(r,"a")||!lt.acceptData(r)||!a||!r[d]||lt.isWindow(r))){h=r[a],h&&(r[a]=null),lt.event.triggered=d;try{r[d]()}catch(g){}lt.event.triggered=e,h&&(r[a]=h)}return i.result}},dispatch:function(t){t=lt.event.fix(t);var i,n,r,o,s,a=[],l=nt.call(arguments),c=(lt._data(this,"events")||{})[t.type]||[],u=lt.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=lt.event.handlers.call(this,t,c),i=0;(o=a[i++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,s=0;(r=o.handlers[s++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((lt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),n!==e&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,r,o,s,a=[],l=i.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(o=[],s=0;l>s;s++)r=i[s],n=r.selector+" ",o[n]===e&&(o[n]=r.needsContext?lt(n,this).index(c)>=0:lt.find(n,this,null,[c]).length),o[n]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return i.length>l&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(t){if(t[lt.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ht.test(r)?this.mouseHooks:Ft.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new lt.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=o.srcElement||Y),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,r,o,s=i.button,a=i.fromElement;return null==t.pageX&&null!=i.clientX&&(r=t.target.ownerDocument||Y,o=r.documentElement,n=r.body,t.pageX=i.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=i.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?i.toElement:a),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):e}},focus:{trigger:function(){if(this!==Y.activeElement&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===Y.activeElement&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=lt.extend(new lt.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?lt.event.trigger(r,null,e):lt.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},lt.removeEvent=Y.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===K&&(t[n]=null),t.detachEvent(n,i))},lt.Event=function(t,i){return this instanceof lt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,i&&lt.extend(this,i),this.timeStamp=t&&t.timeStamp||lt.now(),this[lt.expando]=!0,e):new lt.Event(t,i)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){lt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==n&&!lt.contains(n,r))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return!lt.nodeName(this,"form")&&(lt.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=lt.nodeName(i,"input")||lt.nodeName(i,"button")?i.form:e;n&&!lt._data(n,"submitBubbles")&&(lt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),lt._data(n,"submitBubbles",!0))}),e)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&lt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!lt.nodeName(this,"form")&&(lt.event.remove(this,"._submit"),e)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Rt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,t,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Rt.test(e.nodeName)&&!lt._data(e,"changeBubbles")&&(lt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||lt.event.simulate("change",this.parentNode,t,!0)}),lt._data(e,"changeBubbles",!0))}),e)},handle:function(t){var i=t.target;return this!==i||t.isSimulated||t.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?t.handleObj.handler.apply(this,arguments):e},teardown:function(){return lt.event.remove(this,"._change"),!Rt.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){lt.event.simulate(e,t.target,lt.event.fix(t),!0)};lt.event.special[e]={setup:function(){0===i++&&Y.addEventListener(t,n,!0)},teardown:function(){0===--i&&Y.removeEventListener(t,n,!0)}}}),lt.fn.extend({on:function(t,i,n,r,o){var s,a;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(s in t)this.on(s,i,n,t[s],o);return this}if(null==n&&null==r?(r=i,n=i=e):null==r&&("string"==typeof i?(r=n,n=e):(r=n,n=i,i=e)),r===!1)r=c;else if(!r)return this;return 1===o&&(a=r,r=function(t){return lt().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=lt.guid++)),this.each(function(){lt.event.add(this,t,r,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,lt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,i,t[o]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=c),this.each(function(){lt.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},trigger:function(t,e){return this.each(function(){lt.event.trigger(t,e,this)})},triggerHandler:function(t,i){var n=this[0];return n?lt.event.trigger(t,i,n,!0):e}}),function(t,e){function i(t){return dt.test(t+"")}function n(){var t,e=[];return t=function(i,n){return e.push(i+=" ")>C.cacheLength&&delete t[e.shift()],t[i]=n}}function r(t){return t[j]=!0,t}function o(t){var e=N.createElement("div");try{return t(e)}catch(i){return!1}finally{e=null}}function s(t,e,i,n){var r,o,s,a,l,c,u,f,d,m;if((e?e.ownerDocument||e:z)!==N&&L(e),e=e||N,i=i||[],!t||"string"!=typeof t)return i;if(1!==(a=e.nodeType)&&9!==a)return[];if(!I&&!n){if(r=mt.exec(t))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&F(e,o)&&o.id===s)return i.push(o),i}else{if(r[2])return Q.apply(i,Z.call(e.getElementsByTagName(t),0)),i;if((s=r[3])&&W.getByClassName&&e.getElementsByClassName)return Q.apply(i,Z.call(e.getElementsByClassName(s),0)),i}if(W.qsa&&!D.test(t)){if(u=!0,f=j,d=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=h(t),(u=e.getAttribute("id"))?f=u.replace(yt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+p(c[l]);d=ft.test(t)&&e.parentNode||e,m=c.join(",")}if(m)try{return Q.apply(i,Z.call(d.querySelectorAll(m),0)),i}catch(g){}finally{u||e.removeAttribute("id")}}}return x(t.replace(st,"$1"),e,i,n)}function a(t,e){var i=e&&t,n=i&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function l(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function c(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function h(t,e){var i,n,r,o,a,l,c,u=U[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=C.preFilter;a;){(!i||(n=at.exec(a)))&&(n&&(a=a.slice(n[0].length)||a),l.push(r=[])),i=!1,(n=ct.exec(a))&&(i=n.shift(),r.push({value:i,type:n[0].replace(st," ")}),a=a.slice(i.length));for(o in C.filter)!(n=pt[o].exec(a))||c[o]&&!(n=c[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),a=a.slice(i.length));if(!i)break}return e?a.length:a?s.error(t):U(t,l).slice(0)}function p(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=q++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,l,c,u=B+" "+o;if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r)if(c=e[j]||(e[j]={}),(l=c[n])&&l[0]===u){if((a=l[1])===!0||a===k)return a===!0}else if(l=c[n]=[u],l[1]=t(e,i,s)||k,l[1]===!0)return!0}}function d(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function m(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(!i||i(o,n,r))&&(s.push(o),c&&e.push(a));return s}function g(t,e,i,n,o,s){return n&&!n[j]&&(n=g(n)),o&&!o[j]&&(o=g(o,s)),r(function(r,s,a,l){var c,u,h,p=[],f=[],d=s.length,g=r||b(e||"*",a.nodeType?[a]:a,[]),v=!t||!r&&e?g:m(g,p,t,a,l),y=i?o||(r?t:d||n)?[]:s:v;if(i&&i(v,y,a,l),n)for(c=m(y,f),n(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[f[u]]=!(v[f[u]]=h));if(r){if(o||t){if(o){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);o(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=o?J.call(r,h):p[u])>-1&&(r[c]=!(s[c]=h))}}else y=m(y===s?y.splice(d,y.length):y),o?o(null,s,y,l):Q.apply(s,y)})}function v(t){for(var e,i,n,r=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,l=f(function(t){return t===e},s,!0),c=f(function(t){return J.call(e,t)>-1},s,!0),u=[function(t,i,n){return!o&&(n||i!==M)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];r>a;a++)if(i=C.relative[t[a].type])u=[f(d(u),i)];else{if(i=C.filter[t[a].type].apply(null,t[a].matches),i[j]){for(n=++a;r>n&&!C.relative[t[n].type];n++);return g(a>1&&d(u),a>1&&p(t.slice(0,a-1)).replace(st,"$1"),i,n>a&&v(t.slice(a,n)),r>n&&v(t=t.slice(n)),r>n&&p(t))}u.push(i)}return d(u)}function y(t,e){var i=0,n=e.length>0,o=t.length>0,a=function(r,a,l,c,u){var h,p,f,d=[],g=0,v="0",y=r&&[],b=null!=u,x=M,_=r||o&&C.find.TAG("*",u&&a.parentNode||a),w=B+=null==x?1:Math.random()||.1;for(b&&(M=a!==N&&a,k=i);null!=(h=_[v]);v++){if(o&&h){for(p=0;f=t[p++];)if(f(h,a,l)){c.push(h);break}b&&(B=w,k=++i)}n&&((h=!f&&h)&&g--,r&&y.push(h))}if(g+=v,n&&v!==g){for(p=0;f=e[p++];)f(y,d,a,l);if(r){if(g>0)for(;v--;)y[v]||d[v]||(d[v]=X.call(c));d=m(d)}Q.apply(c,d),b&&!r&&d.length>0&&g+e.length>1&&s.uniqueSort(c)}return b&&(B=w,M=x),y};return n?r(a):a}function b(t,e,i){for(var n=0,r=e.length;r>n;n++)s(t,e[n],i);return i}function x(t,e,i,n){var r,o,s,a,l,c=h(t);if(!n&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&!I&&C.relative[o[1].type]){if(e=C.find.ID(s.matches[0].replace(xt,_t),e)[0],!e)return i;t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((l=C.find[a])&&(n=l(s.matches[0].replace(xt,_t),ft.test(o[0].type)&&e.parentNode||e))){if(o.splice(r,1),t=n.length&&p(o),!t)return Q.apply(i,Z.call(n,0)),i;break}}return E(t,c)(n,e,I,i,ft.test(t)),i}function _(){}var w,k,C,S,T,E,A,M,L,N,P,I,D,O,R,F,H,j="sizzle"+-new Date,z=t.document,W={},B=0,q=0,$=n(),U=n(),V=n(),K=typeof e,Y=1<<31,G=[],X=G.pop,Q=G.push,Z=G.slice,J=G.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=et.replace("w","w#"),nt="([*^$|!~]?=)",rt="\\["+tt+"*("+et+")"+tt+"*(?:"+nt+tt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+it+")|)|)"+tt+"*\\]",ot=":("+et+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",st=RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=RegExp("^"+tt+"*,"+tt+"*"),ct=RegExp("^"+tt+"*([\\x20\\t\\r\\n\\f>+~])"+tt+"*"),ut=RegExp(ot),ht=RegExp("^"+it+"$"),pt={ID:RegExp("^#("+et+")"),CLASS:RegExp("^\\.("+et+")"),NAME:RegExp("^\\[name=['\"]?("+et+")['\"]?\\]"),TAG:RegExp("^("+et.replace("w","w*")+")"),ATTR:RegExp("^"+rt),PSEUDO:RegExp("^"+ot),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),needsContext:RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/[\x20\t\r\n\f]*[+~]/,dt=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,xt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,_t=function(t,e){var i="0x"+e-65536;return i!==i?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{Z.call(z.documentElement.childNodes,0)[0].nodeType}catch(wt){Z=function(t){for(var e,i=[];e=this[t++];)i.push(e);return i}}T=s.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},L=s.setDocument=function(t){var n=t?t.ownerDocument||t:z;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,P=n.documentElement,I=T(n),W.tagNameNoComments=o(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),W.attributes=o(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),W.getByClassName=o(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!t.getElementsByClassName||!t.getElementsByClassName("e").length)&&(t.lastChild.className="e",2===t.getElementsByClassName("e").length)}),W.getByName=o(function(t){t.id=j+0,t.innerHTML="<a name='"+j+"'></a><div name='"+j+"'></div>",P.insertBefore(t,P.firstChild);var e=n.getElementsByName&&n.getElementsByName(j).length===2+n.getElementsByName(j+0).length;return W.getIdNotName=!n.getElementById(j),P.removeChild(t),e}),C.attrHandle=o(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==K&&"#"===t.firstChild.getAttribute("href")})?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},W.getIdNotName?(C.find.ID=function(t,e){if(typeof e.getElementById!==K&&!I){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(t){var e=t.replace(xt,_t);return function(t){return t.getAttribute("id")===e}}):(C.find.ID=function(t,i){if(typeof i.getElementById!==K&&!I){var n=i.getElementById(t);return n?n.id===t||typeof n.getAttributeNode!==K&&n.getAttributeNode("id").value===t?[n]:e:[]}},C.filter.ID=function(t){var e=t.replace(xt,_t);return function(t){var i=typeof t.getAttributeNode!==K&&t.getAttributeNode("id");return i&&i.value===e}}),C.find.TAG=W.tagNameNoComments?function(t,i){return typeof i.getElementsByTagName!==K?i.getElementsByTagName(t):e}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},C.find.NAME=W.getByName&&function(t,i){return typeof i.getElementsByName!==K?i.getElementsByName(name):e},C.find.CLASS=W.getByClassName&&function(t,i){return typeof i.getElementsByClassName===K||I?e:i.getElementsByClassName(t)},O=[],D=[":focus"],(W.qsa=i(n.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||D.push("\\["+tt+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||D.push(":checked")}),o(function(t){t.innerHTML="<input type='hidden' i=''/>",t.querySelectorAll("[i^='']").length&&D.push("[*^$]="+tt+"*(?:\"\"|'')"),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(W.matchesSelector=i(R=P.matchesSelector||P.mozMatchesSelector||P.webkitMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){W.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),O.push("!=",ot)}),D=RegExp(D.join("|")),O=RegExp(O.join("|")),F=i(P.contains)||P.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},H=P.compareDocumentPosition?function(t,e){var i;return t===e?(A=!0,0):(i=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e))?1&i||t.parentNode&&11===t.parentNode.nodeType?t===n||F(z,t)?-1:e===n||F(z,e)?1:0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var i,r=0,o=t.parentNode,s=e.parentNode,l=[t],c=[e];if(t===e)return A=!0,0;if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:0;if(o===s)return a(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===z?-1:c[r]===z?1:0},A=!1,[0,0].sort(H),W.detectDuplicates=A,N):N},s.matches=function(t,e){return s(t,null,null,e)},s.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&L(t),e=e.replace(bt,"='$1']"),!(!W.matchesSelector||I||O&&O.test(e)||D.test(e)))try{var i=R.call(t,e);if(i||W.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(n){}return s(e,N,null,[t]).length>0},s.contains=function(t,e){return(t.ownerDocument||t)!==N&&L(t),F(t,e)},s.attr=function(t,e){var i;return(t.ownerDocument||t)!==N&&L(t),I||(e=e.toLowerCase()),(i=C.attrHandle[e])?i(t):I||W.attributes?t.getAttribute(e):((i=t.getAttributeNode(e))||t.getAttribute(e))&&t[e]===!0?e:i&&i.specified?i.value:null},s.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},s.uniqueSort=function(t){var e,i=[],n=1,r=0;if(A=!W.detectDuplicates,t.sort(H),A){for(;e=t[n];n++)e===t[n-1]&&(r=i.push(n));for(;r--;)t.splice(i[r],1)}return t},S=s.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n];n++)i+=S(e);return i},C=s.selectors={cacheLength:50,createPseudo:r,match:pt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,_t),t[3]=(t[4]||t[5]||"").replace(xt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||s.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&s.error(t[0]),t},PSEUDO:function(t){var e,i=!t[5]&&t[2];return pt.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:i&&ut.test(i)&&(e=h(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(xt,_t).toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=$[t+" "];return e||(e=RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&$(t,function(t){return e.test(t.className||typeof t.getAttribute!==K&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var r=s.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,p,f,d,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?g.firstChild:g.lastChild],s&&y){for(u=g[j]||(g[j]={}),c=u[t]||[],f=c[0]===B&&c[1],p=c[0]===B&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(p=f=0)||d.pop();)if(1===h.nodeType&&++p&&h===e){u[t]=[B,f,p];break}}else if(y&&(c=(e[j]||(e[j]={}))[t])&&c[0]===B)p=c[1];else for(;(h=++f&&h&&h[m]||(p=f=0)||d.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(y&&((h[j]||(h[j]={}))[t]=[B,p]),h!==e)););return p-=r,p===n||0===p%n&&p/n>=0}}},PSEUDO:function(t,e){var i,n=C.pseudos[t]||C.setFilters[t.toLowerCase()]||s.error("unsupported pseudo: "+t);return n[j]?n(e):n.length>1?(i=[t,t,"",e],C.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,i){for(var r,o=n(t,e),s=o.length;s--;)r=J.call(t,o[s]),t[r]=!(i[r]=o[s])}):function(t){return n(t,0,i)}):n}},pseudos:{not:r(function(t){var e=[],i=[],n=E(t.replace(st,"$1"));return n[j]?r(function(t,e,i,r){for(var o,s=n(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,n(e,null,o,i),!i.pop()}}),has:r(function(t){return function(e){return s(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:r(function(t){return ht.test(t||"")||s.error("unsupported lang: "+t),t=t.replace(xt,_t).toLowerCase(),function(e){var i;do if(i=I?e.getAttribute("xml:lang")||e.getAttribute("lang"):e.lang)return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,i){return[0>i?i+e:i]}),even:u(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:u(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:u(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:u(function(t,e,i){for(var n=0>i?i+e:i;e>++n;)t.push(n);return t})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=c(w);E=s.compile=function(t,e){var i,n=[],r=[],o=V[t+" "];if(!o){for(e||(e=h(t)),i=e.length;i--;)o=v(e[i]),o[j]?n.push(o):r.push(o);o=V(t,y(r,n))}return o},C.pseudos.nth=C.pseudos.eq,C.filters=_.prototype=C.pseudos,C.setFilters=new _,L(),s.attr=lt.attr,lt.find=s,lt.expr=s.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=s.uniqueSort,lt.text=s.getText,lt.isXMLDoc=s.isXML,lt.contains=s.contains}(t);var Wt=/Until$/,Bt=/^(?:parents|prev(?:Until|All))/,qt=/^.[^:#\[\.,]*$/,$t=lt.expr.match.needsContext,Ut={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(t){var e,i,n,r=this.length;if("string"!=typeof t)return n=this,this.pushStack(lt(t).filter(function(){
for(e=0;r>e;e++)if(lt.contains(n[e],this))return!0}));for(i=[],e=0;r>e;e++)lt.find(t,this[e],i);return i=this.pushStack(r>1?lt.unique(i):i),i.selector=(this.selector?this.selector+" ":"")+t,i},has:function(t){var e,i=lt(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(lt.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(h(this,t,!1))},filter:function(t){return this.pushStack(h(this,t,!0))},is:function(t){return!!t&&("string"==typeof t?$t.test(t)?lt(t,this.context).index(this[0])>=0:lt.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=$t.test(t)||"string"!=typeof t?lt(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==e&&11!==i.nodeType;){if(s?s.index(i)>-1:lt.find.matchesSelector(i,t)){o.push(i);break}i=i.parentNode}return this.pushStack(o.length>1?lt.unique(o):o)},index:function(t){return t?"string"==typeof t?lt.inArray(this[0],lt(t)):lt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?lt(t,e):lt.makeArray(t&&t.nodeType?[t]:t),n=lt.merge(this.get(),i);return this.pushStack(lt.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return lt.dir(t,"parentNode")},parentsUntil:function(t,e,i){return lt.dir(t,"parentNode",i)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return lt.dir(t,"nextSibling")},prevAll:function(t){return lt.dir(t,"previousSibling")},nextUntil:function(t,e,i){return lt.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return lt.dir(t,"previousSibling",i)},siblings:function(t){return lt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return lt.sibling(t.firstChild)},contents:function(t){return lt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:lt.merge([],t.childNodes)}},function(t,e){lt.fn[t]=function(i,n){var r=lt.map(this,e,i);return Wt.test(t)||(n=i),n&&"string"==typeof n&&(r=lt.filter(n,r)),r=this.length>1&&!Ut[t]?lt.unique(r):r,this.length>1&&Bt.test(t)&&(r=r.reverse()),this.pushStack(r)}}),lt.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?lt.find.matchesSelector(e[0],t)?[e[0]]:[]:lt.find.matches(t,e)},dir:function(t,i,n){for(var r=[],o=t[i];o&&9!==o.nodeType&&(n===e||1!==o.nodeType||!lt(o).is(n));)1===o.nodeType&&r.push(o),o=o[i];return r},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Kt=/ jQuery\d+="(?:null|\d+)"/g,Yt=RegExp("<(?:"+Vt+")[\\s/>]","i"),Gt=/^\s+/,Xt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qt=/<([\w:]+)/,Zt=/<tbody/i,Jt=/<|&#?\w+;/,te=/<(?:script|style|link)/i,ee=/^(?:checkbox|radio)$/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^$|\/(?:java|ecma)script/i,re=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ae=p(Y),le=ae.appendChild(Y.createElement("div"));se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td,lt.fn.extend({text:function(t){return lt.access(this,function(t){return t===e?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(lt.isFunction(t))return this.each(function(e){lt(this).wrapAll(t.call(this,e))});if(this[0]){var e=lt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return lt.isFunction(t)?this.each(function(e){lt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=lt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=lt.isFunction(t);return this.each(function(i){lt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)(!t||lt.filter(t,[i]).length>0)&&(e||1!==i.nodeType||lt.cleanData(b(i)),i.parentNode&&(e&&lt.contains(i.ownerDocument,i)&&g(b(i,"script")),i.parentNode.removeChild(i)));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&lt.cleanData(b(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&lt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return lt.clone(this,t,e)})},html:function(t){return lt.access(this,function(t){var i=this[0]||{},n=0,r=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Kt,""):e;if(!("string"!=typeof t||te.test(t)||!lt.support.htmlSerialize&&Yt.test(t)||!lt.support.leadingWhitespace&&Gt.test(t)||se[(Qt.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Xt,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(lt.cleanData(b(i,!1)),i.innerHTML=t);i=0}catch(o){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){var e=lt.isFunction(t);return e||"string"==typeof t||(t=lt(t).not(this).detach()),this.domManip([t],!0,function(t){var e=this.nextSibling,i=this.parentNode;i&&(lt(this).remove(),i.insertBefore(t,e))})},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){t=et.apply([],t);var r,o,s,a,l,c,u=0,h=this.length,p=this,g=h-1,v=t[0],y=lt.isFunction(v);if(y||!(1>=h||"string"!=typeof v||lt.support.checkClone)&&ie.test(v))return this.each(function(r){var o=p.eq(r);y&&(t[0]=v.call(this,r,i?o.html():e)),o.domManip(t,i,n)});if(h&&(c=lt.buildFragment(t,this[0].ownerDocument,!1,this),r=c.firstChild,1===c.childNodes.length&&(c=r),r)){for(i=i&&lt.nodeName(r,"tr"),a=lt.map(b(c,"script"),d),s=a.length;h>u;u++)o=c,u!==g&&(o=lt.clone(o,!0,!0),s&&lt.merge(a,b(o,"script"))),n.call(i&&lt.nodeName(this[u],"table")?f(this[u],"tbody"):this[u],o,u);if(s)for(l=a[a.length-1].ownerDocument,lt.map(a,m),u=0;s>u;u++)o=a[u],ne.test(o.type||"")&&!lt._data(o,"globalEval")&&lt.contains(l,o)&&(o.src?lt.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(oe,"")));c=r=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){lt.fn[t]=function(t){for(var i,n=0,r=[],o=lt(t),s=o.length-1;s>=n;n++)i=n===s?this:this.clone(!0),lt(o[n])[e](i),it.apply(r,i.get());return this.pushStack(r)}}),lt.extend({clone:function(t,e,i){var n,r,o,s,a,l=lt.contains(t.ownerDocument,t);if(lt.support.html5Clone||lt.isXMLDoc(t)||!Yt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(le.innerHTML=t.outerHTML,le.removeChild(o=le.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||lt.isXMLDoc(t)))for(n=b(o),a=b(t),s=0;null!=(r=a[s]);++s)n[s]&&y(r,n[s]);if(e)if(i)for(a=a||b(t),n=n||b(o),s=0;null!=(r=a[s]);s++)v(r,n[s]);else v(t,o);return n=b(o,"script"),n.length>0&&g(n,!l&&b(t,"script")),n=a=r=null,o},buildFragment:function(t,e,i,n){for(var r,o,s,a,l,c,u,h=t.length,f=p(e),d=[],m=0;h>m;m++)if(o=t[m],o||0===o)if("object"===lt.type(o))lt.merge(d,o.nodeType?[o]:o);else if(Jt.test(o)){for(a=a||f.appendChild(e.createElement("div")),l=(Qt.exec(o)||["",""])[1].toLowerCase(),u=se[l]||se._default,a.innerHTML=u[1]+o.replace(Xt,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!lt.support.leadingWhitespace&&Gt.test(o)&&d.push(e.createTextNode(Gt.exec(o)[0])),!lt.support.tbody)for(o="table"!==l||Zt.test(o)?"<table>"!==u[1]||Zt.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)lt.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(lt.merge(d,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=f.lastChild}else d.push(e.createTextNode(o));for(a&&f.removeChild(a),lt.support.appendChecked||lt.grep(b(d,"input"),x),m=0;o=d[m++];)if((!n||-1===lt.inArray(o,n))&&(s=lt.contains(o.ownerDocument,o),a=b(f.appendChild(o),"script"),s&&g(a),i))for(r=0;o=a[r++];)ne.test(o.type||"")&&i.push(o);return a=null,f},cleanData:function(t,e){for(var i,n,r,o,s=0,a=lt.expando,l=lt.cache,c=lt.support.deleteExpando,u=lt.event.special;null!=(i=t[s]);s++)if((e||lt.acceptData(i))&&(r=i[a],o=r&&l[r])){if(o.events)for(n in o.events)u[n]?lt.event.remove(i,n):lt.removeEvent(i,n,o.handle);l[r]&&(delete l[r],c?delete i[a]:typeof i.removeAttribute!==K?i.removeAttribute(a):i[a]=null,J.push(r))}}});var ce,ue,he,pe=/alpha\([^)]*\)/i,fe=/opacity\s*=\s*([^)]*)/,de=/^(top|right|bottom|left)$/,me=/^(none|table(?!-c[ea]).+)/,ge=/^margin/,ve=RegExp("^("+ct+")(.*)$","i"),ye=RegExp("^("+ct+")(?!px)[a-z%]+$","i"),be=RegExp("^([+-])=("+ct+")","i"),xe={BODY:"block"},_e={position:"absolute",visibility:"hidden",display:"block"},we={letterSpacing:0,fontWeight:400},ke=["Top","Right","Bottom","Left"],Ce=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(t,i){return lt.access(this,function(t,i,n){var r,o,s={},a=0;if(lt.isArray(i)){for(o=ue(t),r=i.length;r>a;a++)s[i[a]]=lt.css(t,i[a],!1,o);return s}return n!==e?lt.style(t,i,n):lt.css(t,i)},t,i,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:w(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=he(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,l=lt.camelCase(i),c=t.style;if(i=lt.cssProps[l]||(lt.cssProps[l]=_(c,l)),a=lt.cssHooks[i]||lt.cssHooks[l],n===e)return a&&"get"in a&&(o=a.get(t,!1,r))!==e?o:c[i];if(s=typeof n,"string"===s&&(o=be.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(lt.css(t,i)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||lt.cssNumber[l]||(n+="px"),lt.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),a&&"set"in a&&(n=a.set(t,n,r))===e)))try{c[i]=n}catch(u){}}},css:function(t,i,n,r){var o,s,a,l=lt.camelCase(i);return i=lt.cssProps[l]||(lt.cssProps[l]=_(t.style,l)),a=lt.cssHooks[i]||lt.cssHooks[l],a&&"get"in a&&(s=a.get(t,!0,n)),s===e&&(s=he(t,i,r)),"normal"===s&&i in we&&(s=we[i]),""===n||n?(o=parseFloat(s),n===!0||lt.isNumeric(o)?o||0:s):s},swap:function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r}}),t.getComputedStyle?(ue=function(e){return t.getComputedStyle(e,null)},he=function(t,i,n){var r,o,s,a=n||ue(t),l=a?a.getPropertyValue(i)||a[i]:e,c=t.style;return a&&(""!==l||lt.contains(t.ownerDocument,t)||(l=lt.style(t,i)),ye.test(l)&&ge.test(i)&&(r=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=r,c.minWidth=o,c.maxWidth=s)),l}):Y.documentElement.currentStyle&&(ue=function(t){return t.currentStyle},he=function(t,i,n){var r,o,s,a=n||ue(t),l=a?a[i]:e,c=t.style;return null==l&&c&&c[i]&&(l=c[i]),ye.test(l)&&!de.test(i)&&(r=c.left,o=t.runtimeStyle,s=o&&o.left,s&&(o.left=t.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=r,s&&(o.left=s)),""===l?"auto":l}),lt.each(["height","width"],function(t,i){lt.cssHooks[i]={get:function(t,n,r){return n?0===t.offsetWidth&&me.test(lt.css(t,"display"))?lt.swap(t,_e,function(){return T(t,i,r)}):T(t,i,r):e},set:function(t,e,n){var r=n&&ue(t);return C(t,e,n?S(t,i,n,lt.support.boxSizing&&"border-box"===lt.css(t,"boxSizing",!1,r),r):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(t,e){return fe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=lt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===lt.trim(o.replace(pe,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=pe.test(o)?o.replace(pe,r):o+" "+r)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(t,i){return i?lt.swap(t,{display:"inline-block"},he,[t,"marginRight"]):e}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(t,i){lt.cssHooks[i]={get:function(t,n){return n?(n=he(t,i),ye.test(n)?lt(t).position()[i]+"px":n):e}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight||!lt.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||lt.css(t,"display"))},lt.expr.filters.visible=function(t){return!lt.expr.filters.hidden(t)}),lt.each({margin:"",padding:"",border:"Width"},function(t,e){lt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+ke[n]+e]=o[n]||o[n-2]||o[0];return r}},ge.test(t)||(lt.cssHooks[t+e].set=C)});var Se=/%20/g,Te=/\[\]$/,Ee=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=lt.prop(this,"elements");return t?lt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!lt(this).is(":disabled")&&Me.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!ee.test(t))}).map(function(t,e){var i=lt(this).val();return null==i?null:lt.isArray(i)?lt.map(i,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:i.replace(Ee,"\r\n")}}).get()}}),lt.param=function(t,i){var n,r=[],o=function(t,e){e=lt.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(t)||t.jquery&&!lt.isPlainObject(t))lt.each(t,function(){o(this.name,this.value)});else for(n in t)M(n,t[n],i,o);return r.join("&").replace(Se,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){lt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),lt.fn.hover=function(t,e){return this.mouseenter(t).mouseleave(e||t)};var Le,Ne,Pe=lt.now(),Ie=/\?/,De=/#.*$/,Oe=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,He=/^(?:GET|HEAD)$/,je=/^\/\//,ze=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,We=lt.fn.load,Be={},qe={},$e="*/".concat("*");try{Ne=G.href}catch(Ue){Ne=Y.createElement("a"),Ne.href="",Ne=Ne.href}Le=ze.exec(Ne.toLowerCase())||[],lt.fn.load=function(t,i,n){if("string"!=typeof t&&We)return We.apply(this,arguments);var r,o,s,a=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),lt.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(s="POST"),a.length>0&&lt.ajax({url:t,type:s,dataType:"html",data:i}).done(function(t){o=arguments,a.html(r?lt("<div>").append(lt.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){lt.fn[e]=function(t){return this.on(e,t)}}),lt.each(["get","post"],function(t,i){lt[i]=function(t,n,r,o){return lt.isFunction(n)&&(o=o||r,r=n,n=e),lt.ajax({url:t,type:i,dataType:o,data:n,success:r})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ne,type:"GET",isLocal:Fe.test(Le[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?P(P(t,lt.ajaxSettings),e):P(lt.ajaxSettings,t)},ajaxPrefilter:L(Be),ajaxTransport:L(qe),ajax:function(t,i){function n(t,i,n,r){var o,h,y,b,_,k=i;2!==x&&(x=2,l&&clearTimeout(l),u=e,a=r||"",w.readyState=t>0?4:0,n&&(b=I(p,w,n)),t>=200&&300>t||304===t?(p.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(lt.lastModified[s]=_),_=w.getResponseHeader("etag"),_&&(lt.etag[s]=_)),204===t?(o=!0,k="nocontent"):304===t?(o=!0,k="notmodified"):(o=D(p,b),k=o.state,h=o.data,y=o.error,o=!y)):(y=k,(t||!k)&&(k="error",0>t&&(t=0))),w.status=t,w.statusText=(i||k)+"",o?m.resolveWith(f,[h,k,w]):m.rejectWith(f,[w,k,y]),w.statusCode(v),v=e,c&&d.trigger(o?"ajaxSuccess":"ajaxError",[w,p,o?h:y]),g.fireWith(f,[w,k]),c&&(d.trigger("ajaxComplete",[w,p]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var r,o,s,a,l,c,u,h,p=lt.ajaxSetup({},i),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?lt(f):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=p.statusCode||{},y={},b={},x=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!h)for(h={};e=Re.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return x||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return u&&u.abort(e),n(0,e),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,p.url=((t||p.url||Ne)+"").replace(De,"").replace(je,Le[1]+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=lt.trim(p.dataType||"*").toLowerCase().match(ut)||[""],null==p.crossDomain&&(r=ze.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===Le[1]&&r[2]===Le[2]&&(r[3]||("http:"===r[1]?80:443))==(Le[3]||("http:"===Le[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=lt.param(p.data,p.traditional)),N(Be,p,i,w),2===x)return w;c=p.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!He.test(p.type),s=p.url,p.hasContent||(p.data&&(s=p.url+=(Ie.test(s)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Oe.test(s)?s.replace(Oe,"$1_="+Pe++):s+(Ie.test(s)?"&":"?")+"_="+Pe++)),p.ifModified&&(lt.lastModified[s]&&w.setRequestHeader("If-Modified-Since",lt.lastModified[s]),lt.etag[s]&&w.setRequestHeader("If-None-Match",lt.etag[s])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+$e+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)w.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(f,w,p)===!1||2===x))return w.abort();_="abort";for(o in{success:1,error:1,complete:1})w[o](p[o]);if(u=N(qe,p,i,w)){w.readyState=1,c&&d.trigger("ajaxSend",[w,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},p.timeout));try{x=1,u.send(y,n)}catch(k){if(!(2>x))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getScript:function(t,i){return lt.get(t,e,i,"script")},getJSON:function(t,e,i){return lt.get(t,e,i,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return lt.globalEval(t),t}}}),lt.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),lt.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=Y.head||lt("head")[0]||Y.documentElement;return{send:function(e,r){i=Y.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||r(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var Ve=[],Ke=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||lt.expando+"_"+Pe++;return this[t]=!0,t}}),lt.ajaxPrefilter("json jsonp",function(i,n,r){var o,s,a,l=i.jsonp!==!1&&(Ke.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(o=i.jsonpCallback=lt.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Ke,"$1"+o):i.jsonp!==!1&&(i.url+=(Ie.test(i.url)?"&":"?")+i.jsonp+"="+o),i.converters["script json"]=function(){return a||lt.error(o+" was not called"),a[0]},i.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},r.always(function(){t[o]=s,i[o]&&(i.jsonpCallback=n.jsonpCallback,Ve.push(o)),a&&lt.isFunction(s)&&s(a[0]),a=s=e}),"script"):e});var Ye,Ge,Xe=0,Qe=t.ActiveXObject&&function(){var t;for(t in Ye)Ye[t](e,!0)};lt.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&O()||R()}:O,Ge=lt.ajaxSettings.xhr(),lt.support.cors=!!Ge&&"withCredentials"in Ge,Ge=lt.support.ajax=!!Ge,Ge&&lt.ajaxTransport(function(i){if(!i.crossDomain||lt.support.cors){var n;return{send:function(r,o){var s,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(t,r){var a,c,u,h;try{if(n&&(r||4===l.readyState))if(n=e,s&&(l.onreadystatechange=lt.noop,Qe&&delete Ye[s]),r)4!==l.readyState&&l.abort();else{h={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(p){u=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(f){r||o(-1,f)}h&&o(a,u,h,c)},i.async?4===l.readyState?setTimeout(n):(s=++Xe,Qe&&(Ye||(Ye={},lt(t).unload(Qe)),Ye[s]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(e,!0)}}}});var Ze,Je,ti=/^(?:toggle|show|hide)$/,ei=RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ii=/queueHooks$/,ni=[W],ri={"*":[function(t,e){var i,n,r=this.createTween(t,e),o=ei.exec(e),s=r.cur(),a=+s||0,l=1,c=20;if(o){if(i=+o[2],n=o[3]||(lt.cssNumber[t]?"":"px"),"px"!==n&&a){a=lt.css(r.elem,t,!0)||i||1;do l=l||".5",a/=l,lt.style(r.elem,t,a+n);while(l!==(l=r.cur()/s)&&1!==l&&--c)}r.unit=n,r.start=a,r.end=o[1]?a+(o[1]+1)*i:i}return r}]};lt.Animation=lt.extend(j,{tweener:function(t,e){lt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],ri[i]=ri[i]||[],ri[i].unshift(e)},prefilter:function(t,e){e?ni.unshift(t):ni.push(t)}}),lt.Tween=B,B.prototype={constructor:B,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(lt.cssNumber[i]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,i=B.propHooks[this.prop];return this.pos=e=this.options.duration?lt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=lt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){lt.fx.step[t.prop]?lt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[lt.cssProps[t.prop]]||lt.cssHooks[t.prop])?lt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},lt.each(["toggle","show","hide"],function(t,e){var i=lt.fn[e];lt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(q(e,!0),t,n,r)}}),lt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(w).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=lt.isEmptyObject(t),o=lt.speed(e,i,n),s=function(){var e=j(this,lt.extend({},t),o);s.finish=function(){e.stop(!0)},(r||lt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,i,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=lt.timers,s=lt._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ii.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&lt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=lt._data(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=lt.timers,s=n?n.length:0;for(i.finish=!0,lt.queue(this,t,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),lt.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){lt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),lt.speed=function(t,e,i){var n=t&&"object"==typeof t?lt.extend({},t):{complete:i||!i&&e||lt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!lt.isFunction(e)&&e};return n.duration=lt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in lt.fx.speeds?lt.fx.speeds[n.duration]:lt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){lt.isFunction(n.old)&&n.old.call(this),n.queue&&lt.dequeue(this,n.queue)},n},lt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},lt.timers=[],lt.fx=B.prototype.init,lt.fx.tick=function(){var t,i=lt.timers,n=0;for(Ze=lt.now();i.length>n;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||lt.fx.stop(),Ze=e},lt.fx.timer=function(t){t()&&lt.timers.push(t)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){Je||(Je=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(Je),Je=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(t){return lt.grep(lt.timers,function(e){return t===e.elem}).length}),lt.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){lt.offset.setOffset(this,t,e)});var i,n,r={top:0,left:0},o=this[0],s=o&&o.ownerDocument;return s?(i=s.documentElement,lt.contains(i,o)?(typeof o.getBoundingClientRect!==K&&(r=o.getBoundingClientRect()),n=$(s),{top:r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):r):void 0},lt.offset={setOffset:function(t,e,i){var n=lt.css(t,"position");"static"===n&&(t.style.position="relative");var r,o,s=lt(t),a=s.offset(),l=lt.css(t,"top"),c=lt.css(t,"left"),u=("absolute"===n||"fixed"===n)&&lt.inArray("auto",[l,c])>-1,h={},p={};u?(p=s.position(),r=p.top,o=p.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),lt.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):s.css(h)}},lt.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===lt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),lt.nodeName(t[0],"html")||(i=t.offset()),i.top+=lt.css(t[0],"borderTopWidth",!0),i.left+=lt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-lt.css(n,"marginTop",!0),left:e.left-i.left-lt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Y.documentElement;t&&!lt.nodeName(t,"html")&&"static"===lt.css(t,"position");)t=t.offsetParent;return t||Y.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);lt.fn[t]=function(r){return lt.access(this,function(t,r,o){var s=$(t);return o===e?s?i in s?s[i]:s.document.documentElement[r]:t[r]:(s?s.scrollTo(n?lt(s).scrollLeft():o,n?o:lt(s).scrollTop()):t[r]=o,e)},t,r,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(t,i){lt.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,r){lt.fn[r]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return lt.access(this,function(i,n,r){var o;return lt.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+t],o["scroll"+t],i.body["offset"+t],o["offset"+t],o["client"+t])):r===e?lt.css(i,n,a):lt.style(i,n,r,a)},i,s?r:e,s,null)}})}),t.jQuery=t.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})}(window),function(t,e){function i(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=t("img[usemap=#"+o+"]")[0],!!s&&n(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"));
}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(s,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(s,r(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;r.length>n;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(o){}r(e)},t.widget=function(i,n,r){var o,s,a,l,c={},u=i.split(".")[0];i=i.split(".")[1],o=u+"-"+i,r||(r=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[u]=t[u]||{},s=t[u][i],a=t[u][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new a(t,i)},t.extend(a,s,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),l=new n,l.options=t.widget.extend({},l.options),t.each(r,function(i,r){return t.isFunction(r)?(c[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)};return function(){var i,n=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=r.apply(this,arguments),this._super=n,this._superApply=o,i}}(),e):(c[i]=r,e)}),a.prototype=t.widget.extend(l,{widgetEventPrefix:s?l.widgetEventPrefix||i:i},c,{constructor:a,namespace:u,widgetName:i,widgetFullName:o}),s?(t.each(s._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete s._childConstructors):n._childConstructors.push(a),t.widget.bridge(i,a)},t.widget.extend=function(i){for(var r,o,s=n.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==e&&(i[r]=t.isPlainObject(o)?t.isPlainObject(i[r])?t.widget.extend({},i[r],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,r){var o=r.prototype.widgetFullName||i;t.fn[i]=function(s){var a="string"==typeof s,l=n.call(arguments,1),c=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var n,r=t.data(this,o);return r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(n=r[s].apply(r,l),n!==r&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):e):t.error("no such method '"+s+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(s||{})._init():t.data(this,o,new r(s,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,o,s,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},r=i.split("."),i=r.shift(),r.length){for(o=a[i]=t.widget.extend({},this.options[i]),s=0;r.length-1>s;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(i=r.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=n}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,r){var o,s=this;"boolean"!=typeof i&&(r=n,n=i,i=!1),r?(n=o=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,o=this.widget()),t.each(r,function(r,a){function l(){return i||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):e}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||t.guid++);var c=r.match(/^(\w+)\s*(.*)$/),u=c[1]+s.eventNamespace,h=c[2];h?o.delegate(h,u,l):n.bind(u,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&t(i.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function r(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,f=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,n,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return t("body").append(r),i=s.offsetWidth,r.css("overflow","scroll"),n=s.offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),o=i-n},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);e=t.extend({},e);var o,f,m,g,v,y,b=t(e.of),x=t.position.getWithinInfo(e.within),_=t.position.getScrollInfo(x),w=(e.collision||"flip").split(" "),k={};return y=r(b),b[0].preventDefault&&(e.at="left top"),f=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=h.exec(n[0]),i=h.exec(n[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[p.exec(n[0])[0],p.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=f:"center"===e.at[0]&&(v.left+=f/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=i(k.at,f,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,c,u=t(this),h=u.outerWidth(),p=u.outerHeight(),d=n(this,"marginLeft"),y=n(this,"marginTop"),C=h+d+n(this,"marginRight")+_.width,S=p+y+n(this,"marginBottom")+_.height,T=t.extend({},v),E=i(k.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?T.left-=h:"center"===e.my[0]&&(T.left-=h/2),"bottom"===e.my[1]?T.top-=p:"center"===e.my[1]&&(T.top-=p/2),T.left+=E[0],T.top+=E[1],t.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),r={marginLeft:d,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[w[i]]&&t.ui.position[w[i]][n](T,{targetWidth:f,targetHeight:m,elemWidth:h,elemHeight:p,collisionPosition:r,collisionWidth:C,collisionHeight:S,offset:[o[0]+E[0],o[1]+E[1]],my:e.my,at:e.at,within:x,elem:u})}),e.using&&(c=function(t){var i=g.left-T.left,n=i+f-h,r=g.top-T.top,o=r+m-p,l={target:{element:b,left:g.left,top:g.top,width:f,height:m},element:{element:u,left:T.left,top:T.top,width:h,height:p},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};h>f&&f>a(i+n)&&(l.horizontal="center"),p>m&&m>a(r+o)&&(l.vertical="middle"),l.important=s(a(i),a(n))>s(a(r),a(o))?"horizontal":"vertical",e.using.call(this,t,l)}),u.offset(t.extend(T,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,c=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&0>=c?(i=t.left+l+e.collisionWidth-o-r,t.left+=l-i):t.left=c>0&&0>=l?r:l>c?r+o-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=s(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&0>=c?(i=t.top+l+e.collisionHeight-o-r,t.top+=l-i):t.top=c>0&&0>=l?r:l>c?r+o-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-s-l,p="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0];0>u?(i=t.left+p+f+d+e.collisionWidth-s-o,(0>i||a(u)>i)&&(t.left+=p+f+d)):h>0&&(n=t.left-e.collisionPosition.marginLeft+p+f+d-l,(n>0||h>a(n))&&(t.left+=p+f+d))},top:function(t,e){var i,n,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-s-l,p="top"===e.my[1],f=p?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(n=t.top+f+d+m+e.collisionHeight-s-o,t.top+f+d+m>u&&(0>n||a(u)>n)&&(t.top+=f+d+m)):h>0&&(i=t.top-e.collisionPosition.marginTop+f+d+m-l,t.top+f+d+m>h&&(i>0||h>a(i))&&(t.top+=f+d+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(a),i=s||document.documentElement,i.insertBefore(e,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=t(a).offset().left,t.support.offsetFractions=r>10&&11>r,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t){var e=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,r=n.heightStyle,o=this.element.parent(),s=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),n=i.attr("id"),r=i.next(),o=r.attr("id");n||(n=s+"-header-"+e,i.attr("id",n)),o||(o=s+"-panel-"+e,r.attr("id",o)),i.attr("aria-controls",o),r.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(i=o.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===r&&(i=0,this.headers.next().each(function(){i=Math.max(i,t(this).css("height","").height())}).height(i))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),o=r[0]===n[0],s=o&&i.collapsible,a=s?t():r.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:s?t():r,newPanel:a};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=!s&&this.headers.index(r),this.active=o?t():r,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,r){var o,s,a,l=this,c=0,u=t.length&&(!e.length||t.index()<e.index()),h=this.options.animate||{},p=u&&h.down||h,f=function(){l._toggleComplete(r)};return"number"==typeof p&&(a=p),"string"==typeof p&&(s=p),s=s||p.easing||h.easing,a=a||p.duration||h.duration,e.length?t.length?(o=t.show().outerHeight(),e.animate(i,{duration:a,easing:s,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(n,{duration:a,easing:s,complete:f,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(o-e.outerHeight()-c),c=0)}})):e.animate(i,a,s,f):t.animate(n,a,s,f)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t){t.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=!!o||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){
return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t){var e,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",r=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},o=function(e){var i=e.name,n=e.form,r=t([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,r),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,s=this.options,a="checkbox"===this.type||"radio"===this.type,l=a?"":"ui-state-active";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||t(this).removeClass(l)}).bind("click"+this.eventNamespace,function(t){s.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),a&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!s.disabled&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled)return!1;t(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var e=n.element[0];o(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!s.disabled&&(t(this).addClass("ui-state-active"),e=this,void n.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){return!s.disabled&&void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return!s.disabled&&void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.element.prop("disabled",!!e),void(e&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?o(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(n),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),r=this.options.icons,o=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":r.primary?"-primary":"-secondary")),r.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):s.push("ui-button-text-only"),e.addClass(s.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function r(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.4"}});var o,s="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,o;n=e.nodeName.toLowerCase(),r="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var r=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,s,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,o,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;t.length>r;r++)t[r].length>i&&(i=t[r].length,n=r);return n},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,s,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,a){var l,c,u,h,p,f=this._dialogInst;return f||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},t.data(this._dialogInput[0],s,f)),r(f.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(f,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,p=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+h,u/2-150+p]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],s,f),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,s);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,s),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,s);r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,s);r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,s)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,o){var s,a,l,c,u=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(s=n||{},"string"==typeof n&&(s={},s[n]=o),u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),r(u.settings,s),null!==l&&s.dateFormat!==e&&s.minDate===e&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&s.dateFormat!==e&&s.maxDate===e&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in s&&(s.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u)),e)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(i){var n,r,o=t.datepicker._getInst(i.target);return t.datepicker._get(o,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),r=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">r||!n||n.indexOf(r)>-1):e},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,o,s,a,l,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),o=n?n.apply(e,[e,i]):{},o!==!1&&(r(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),a=t.datepicker._checkOffset(i,a,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),r=n[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-s:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,o,a=this._curInst;!a||e&&a!==t.data(e,s)||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),n,r):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,i,n,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,n,r){if(null==i||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var o,s,a,l,c=0,u=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),p=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,f=(r?r.dayNames:null)||this._defaults.dayNames,d=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,m=(r?r.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,y=-1,b=-1,x=!1,_=function(t){var e=i.length>o+1&&i.charAt(o+1)===t;return e&&o++,e},w=function(t){var e=_(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=RegExp("^\\d{1,"+i+"}"),o=n.substring(c).match(r);if(!o)throw"Missing number at position "+c;return c+=o[0].length,parseInt(o[0],10)},k=function(i,r,o){var s=-1,a=t.map(_(i)?o:r,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,i){var r=i[1];return n.substr(c,r.length).toLowerCase()===r.toLowerCase()?(s=i[0],c+=r.length,!1):e}),-1!==s)return s+1;throw"Unknown name at position "+c},C=function(){if(n.charAt(c)!==i.charAt(o))throw"Unexpected literal at position "+c;c++};for(o=0;i.length>o;o++)if(x)"'"!==i.charAt(o)||_("'")?C():x=!1;else switch(i.charAt(o)){case"d":y=w("d");break;case"D":k("D",p,f);break;case"o":b=w("o");break;case"m":v=w("m");break;case"M":v=k("M",d,m);break;case"y":g=w("y");break;case"@":l=new Date(w("@")),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"!":l=new Date((w("!")-this._ticksTo1970)/1e4),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"'":_("'")?C():x=!0;break;default:C()}if(n.length>c&&(a=n.substr(c),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=g?0:-100)),b>-1)for(v=1,y=b;s=this._getDaysInMonth(g,v-1),!(s>=y);)v++,y-=s;if(l=this._daylightSavingAdjust(new Date(g,v-1,y)),l.getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==y)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",p=!1;if(e)for(n=0;t.length>n;n++)if(p)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):p=!1;else switch(t.charAt(n)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),r,o);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),s,a);break;case"y":h+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":p=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(i,n,s)||r}catch(a){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date));
},_determineDate:function(e,i,n){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var r=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),s=r.getMonth(),a=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,s));break;case"y":case"Y":o+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,s))}c=l.exec(i)}return new Date(o,s,a)},s=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return s=s&&"Invalid Date"==""+s?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,o,s,a,l,c,u,h,p,f,d,m,g,v,y,b,x,_,w,k,C,S,T,E,A,M,L,N,P,I,D,O,R,F,H,j,z=new Date,W=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),B=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),$=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),K=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),G=1!==V[0]||1!==V[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-K,tt=t.drawYear;if(0>J&&(J+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-V[0]*V[1]+1,Z.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)J--,0>J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-Y,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?X:W,s=U?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(B?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),p=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),d=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),x="",w=0;V[0]>w;w++){for(k="",this.maxRows=4,C=0;V[1]>C;C++){if(S=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),T=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",V[1]>1)switch(C){case 0:E+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left");break;case V[1]-1:E+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:E+=" ui-datepicker-group-middle",T=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?B?o:n:"")+(/all|right/.test(T)&&0===w?B?n:o:"")+this._generateMonthYearHeader(t,J,tt,Q,Z,w>0||C>0,d,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;7>_;_++)M=(_+u)%7,A+="<th"+((_+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[M]+"'>"+f[M]+"</span></th>";for(E+=A+"</tr></thead><tbody>",L=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,L)),N=(this._getFirstDayOfMonth(tt,J)-u+7)%7,P=Math.ceil((N+L)/7),I=G&&this.maxRows>P?this.maxRows:P,this.maxRows=I,D=this._daylightSavingAdjust(new Date(tt,J,1-N)),O=0;I>O;O++){for(E+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(D)+"</td>":"",_=0;7>_;_++)F=g?g.apply(t.input?t.input[0]:null,[D]):[!0,""],H=D.getMonth()!==J,j=H&&!y||!F[0]||Q&&Q>D||Z&&D>Z,R+="<td class='"+((_+u+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(D.getTime()===S.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===D.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+F[1]+(D.getTime()===X.getTime()?" "+this._currentClass:"")+(D.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+D.getMonth()+"' data-year='"+D.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+D.getDate()+"</span>":"<a class='ui-state-default"+(D.getTime()===W.getTime()?" ui-state-highlight":"")+(D.getTime()===X.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+D.getDate()+"</a>")+"</td>",D.setDate(D.getDate()+1),D=this._daylightSavingAdjust(D);E+=R+"</tr>"}J++,J>11&&(J=0,tt++),E+="</tbody></table>"+(G?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=E}x+=k}return x+=c,t._keyEvent=!1,x},_generateMonthYearHeader:function(t,e,i,n,r,o,s,a){var l,c,u,h,p,f,d,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",x="";if(o||!g)x+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=r&&r.getFullYear()===i,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||r.getMonth()>=u)&&(x+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");x+="</select>"}if(y||(b+=x+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),p=(new Date).getFullYear(),f=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?p+parseInt(t,10):parseInt(t,10);return isNaN(e)?p:e},d=f(h[0]),m=Math.max(d,f(h[1]||"")),d=n?Math.max(d,n.getFullYear()):d,m=r?Math.min(m,r.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=d;d++)t.yearshtml+="<option value='"+d+"'"+(d===i?" selected='selected'":"")+">"+d+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+x),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),r=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&i>e?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||a>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.4"}(jQuery),function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(r){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(r.focus(1),e.preventDefault()):(n.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var r,o;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(e.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(r))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(r,o){n.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,r=n.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,r){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(r))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(r,o){n.height=t(this).height(),n.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,e(o))}}).css("position",o)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(n){var r=this,o=!1,s={};t.each(n,function(t,n){r._setOption(t,n),t in e&&(o=!0),t in i&&(s[t]=n)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,e){var i,n,r=this.uiDialog;"dialogClass"===t&&r.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=r.is(":data(ui-draggable)"),i&&!e&&r.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=r.is(":data(ui-resizable)"),n&&!e&&r.resizable("destroy"),n&&"string"==typeof e&&r.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){e._allowInteraction(n)||(n.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,n=[],r=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(r[t]=n[t],n[t]=e)}),i={my:n[0]+(0>r[0]?r[0]:"+"+r[0])+" "+n[1]+(0>r[1]?r[1]:"+"+r[1]),at:n.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!t.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1)},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;return r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,r,o,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY;return this.offset.scroll||(this.offset.scroll={
top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),r=n.options,o=t.extend({},i,{item:n.element});n.sortables=[],t(r.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var n=t(this).data("ui-draggable"),r=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,i){var n=t(this).data("ui-draggable"),r=this;t.each(n.sortables,function(){var o=!1,s=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),r=t(this).data("ui-draggable").options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,r=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),r!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,r,o,s,a,l,c,u,h,p,f=t(this).data("ui-draggable"),d=f.options,m=d.snapTolerance,g=i.offset.left,v=g+f.helperProportions.width,y=i.offset.top,b=y+f.helperProportions.height;for(h=f.snapElements.length-1;h>=0;h--)a=f.snapElements[h].left,l=a+f.snapElements[h].width,c=f.snapElements[h].top,u=c+f.snapElements[h].height,a-m>v||g>l+m||c-m>b||y>u+m||!t.contains(f.snapElements[h].item.ownerDocument,f.snapElements[h].item)?(f.snapElements[h].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,e,t.extend(f._uiHash(),{snapItem:f.snapElements[h].item})),f.snapElements[h].snapping=!1):("inner"!==d.snapMode&&(n=m>=Math.abs(c-b),r=m>=Math.abs(u-y),o=m>=Math.abs(a-v),s=m>=Math.abs(l-g),n&&(i.position.top=f._convertPositionTo("relative",{top:c-f.helperProportions.height,left:0}).top-f.margins.top),r&&(i.position.top=f._convertPositionTo("relative",{top:u,left:0}).top-f.margins.top),o&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a-f.helperProportions.width}).left-f.margins.left),s&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l}).left-f.margins.left)),p=n||r||o||s,"outer"!==d.snapMode&&(n=m>=Math.abs(c-y),r=m>=Math.abs(u-b),o=m>=Math.abs(a-g),s=m>=Math.abs(l-v),n&&(i.position.top=f._convertPositionTo("relative",{top:c,left:0}).top-f.margins.top),r&&(i.position.top=f._convertPositionTo("relative",{top:u-f.helperProportions.height,left:0}).top-f.margins.top),o&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a}).left-f.margins.left),s&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l-f.helperProportions.width}).left-f.margins.left)),!f.snapElements[h].snapping&&(n||r||o||s||p)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,e,t.extend(f._uiHash(),{snapItem:f.snapElements[h].item})),f.snapElements[h].snapping=n||r||o||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),r=t(this).data("ui-draggable").options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,n){if(!i.offset)return!1;var r,o,s=(t.positionAbs||t.position.absolute).left,a=(t.positionAbs||t.position.absolute).top,l=s+t.helperProportions.width,c=a+t.helperProportions.height,u=i.offset.left,h=i.offset.top,p=u+i.proportions().width,f=h+i.proportions().height;switch(n){case"fit":return s>=u&&p>=l&&a>=h&&f>=c;case"intersect":return s+t.helperProportions.width/2>u&&p>l-t.helperProportions.width/2&&a+t.helperProportions.height/2>h&&f>c-t.helperProportions.height/2;case"pointer":return r=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(o,h,i.proportions().height)&&e(r,u,i.proportions().width);case"touch":return(a>=h&&f>=a||c>=h&&f>=c||h>a&&c>f)&&(s>=u&&p>=s||l>=u&&p>=l||u>s&&l>p);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;o.length>n;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===o[n].element[0]){o[n].proportions().height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===s&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,o,s=t.ui.intersect(e,this,this.options.tolerance),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===r}),o.length&&(n=t.data(o[0],"ui-droppable"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var n=h[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=c(),r=n._rgba=[];return i=i.toLowerCase(),d(l,function(t,o){var s,a=o.re.exec(i),l=a&&o.parse(a),c=o.space||"rgba";return l?(s=n[c](l),n[u[c].cache]=s[u[c].cache],r=n._rgba=s._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),n):o[i]}function r(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=c.support={},f=t("<p>")[0],d=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,d(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var h=this,p=t.type(r),f=this._rgba=[];return s!==e&&(r=[r,s,a,l],p="array"),"string"===p?this.parse(n(r)||o._default):"array"===p?(d(u.rgba.props,function(t,e){f[e.idx]=i(r[e.idx],e)}),this):"object"===p?(r instanceof c?d(u,function(t,e){r[e.cache]&&(h[e.cache]=r[e.cache].slice())}):d(u,function(e,n){var o=n.cache;d(n.props,function(t,e){if(!h[o]&&n.to){if("alpha"===t||null==r[t])return;h[o]=n.to(h._rgba)}h[o][e.idx]=i(r[t],e,!0)}),h[o]&&0>t.inArray(null,h[o].slice(0,3))&&(h[o][3]=1,n.from&&(h._rgba=n.from(h[o])))}),this):e},is:function(t){var i=c(t),n=!0,r=this;return d(u,function(t,o){var s,a=i[o.cache];return a&&(s=r[o.cache]||o.to&&o.to(r._rgba)||[],d(o.props,function(t,i){return null!=a[i.idx]?n=a[i.idx]===s[i.idx]:e})),n}),n},_space:function(){var t=[],e=this;return d(u,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=c(t),r=n._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return n=n[o.cache],d(o.props,function(t,r){var o=r.idx,s=a[o],c=n[o],u=h[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=i((c-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=c(e)._rgba;return c(t.map(i,function(t,e){return(1-n)*r[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(n,r,o),l=Math.min(n,r,o),c=a-l,u=a+l,h=.5*u;return e=l===a?0:n===a?60*(r-o)/c+360:r===a?60*(o-n)/c+120:60*(n-r)/c+240,i=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(e)%360,i,h,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},d(u,function(n,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===e)return this[s].slice();var r,a=t.type(n),h="array"===a||"object"===a?n:arguments,p=this[s].slice();return d(o,function(t,e){var n=h["object"===a?t:e.idx];null==n&&(n=p[e.idx]),p[e.idx]=i(n,e)}),u?(r=c(u(p)),r[s]=p,r):c(p)},d(o,function(e,i){c.fn[e]||(c.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&i.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[i.idx]=r,this[l](c)))})})}),c.hook=function(e){var i=e.split(" ");d(i,function(e,i){t.cssHooks[i]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=n(r)))){if(r=c(o||r),!p.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[i]=r}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=c(e.elem,i),e.end=c(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return d(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(o[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}function n(e,i){var n,r,s={};for(n in i)r=i[n],e[n]!==r&&(o[n]||(t.fx.step[n]||!isNaN(parseFloat(r)))&&(s[n]=r));return s}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var e=t(this);return{el:e,start:i(this)}}),o=function(){t.each(r,function(t,i){e[i]&&s[i+"Class"](e[i])})},o(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(i,n,r,o){return n?t.effects.animateClass.call(this,{add:i},n,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(n,r,o,s,a){return"boolean"==typeof r||r===e?o?t.effects.animateClass.call(this,r?{add:n}:{remove:n},o,s,a):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},r,o,s)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,o)}})}(),function(){function n(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function r(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.10.4",save:function(t,e){for(var n=0;e.length>n;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,n){var r,o;for(o=0;n.length>o;o++)null!==n[o]&&(r=t.data(i+n[o]),r===e&&(r=""),t.css(n[o],r))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(s){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,r){return r=r||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])}),r}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=i.complete,a=i.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),n()):s.call(r[0],i,n)}var i=n.apply(this,arguments),r=i.mode,o=i.queue,s=t.effects.effect[i.effect];return t.fx.off||!s?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(r(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(r(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(r(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(n,r){var o,s,a,l=t(this),c=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(l,n.mode||"hide"),h=n.direction||"up",p=e.test(h),f=p?"height":"width",d=p?"top":"left",m=i.test(h),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),c):t.effects.save(l,c),l.show(),o=t.effects.createWrapper(l).css({overflow:"hidden"}),s=o[f](),a=parseFloat(o.css(d))||0,g[f]=v?s:0,m||(l.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),g[d]=v?a:s+a),v&&(o.css(f,0),m||o.css(d,a+s)),o.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),t.effects.restore(l,c),t.effects.removeWrapper(l),r()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),c="hide"===l,u="show"===l,h=e.direction||"up",p=e.distance,f=e.times||5,d=2*f+(u||c?1:0),m=e.duration/d,g=e.easing,v="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,b=s.queue(),x=b.length;for((u||c)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),p||(p=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,y?2*-p:2*p).animate(o,m,g)),c&&(p/=Math.pow(2,f-1)),o={},o[v]=0,n=0;f>n;n++)r={},r[v]=(y?"-=":"+=")+p,s.animate(r,m,g).animate(o,m,g),p=c?2*p:p/2;c&&(r={opacity:0},r[v]=(y?"-=":"+=")+p,s.animate(r,m,g)),s.queue(function(){c&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}),x>1&&b.splice.apply(b,[1,0].concat(b.splice(x,d+1))),s.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),c="show"===l,u=e.direction||"vertical",h="vertical"===u,p=h?"height":"width",f=h?"top":"left",d={};t.effects.save(s,a),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?n:s,o=r[p](),c&&(r.css(p,0),r.css(f,o/2)),d[p]=c?o:0,d[f]=c?0:o/2,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),n=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(c,"pos"===u?-n:n),h[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,i){function n(){b.push(this),b.length===h*p&&r()}function r(){f.css({visibility:"visible"}),t(b).remove(),m||f.hide(),i()}var o,s,a,l,c,u,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,p=h,f=t(this),d=t.effects.setMode(f,e.mode||"hide"),m="show"===d,g=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/p),y=Math.ceil(f.outerHeight()/h),b=[];for(o=0;h>o;o++)for(l=g.top+o*y,u=o-(h-1)/2,s=0;p>s;s++)a=g.left+s*v,c=s-(p-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,
top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?c*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*y),opacity:m?1:0},e.duration||500,e.easing,n)}}(jQuery),function(t){t.effects.effect.fade=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t){t.effects.effect.fold=function(e,i){var n,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,c="hide"===a,u=e.size||15,h=/([0-9]+)%/.exec(u),p=!!e.horizFirst,f=l!==p,d=f?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,s),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),r=f?[n.width(),n.height()]:[n.height(),n.width()],h&&(u=parseInt(h[1],10)/100*r[c?0:1]),l&&n.css(p?{height:0,width:u}:{height:u,width:0}),g[d[0]]=l?r[0]:u,v[d[1]]=l?r[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){c&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()})}}(jQuery),function(t){t.effects.effect.highlight=function(e,i){var n=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(n,e.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,r),i()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,i){var n,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,c=2*(e.times||5)+(l?1:0),u=e.duration/c,h=0,p=r.queue(),f=p.length;for((s||!r.is(":visible"))&&(r.css("opacity",0).show(),h=1),n=1;c>n;n++)r.animate({opacity:h},u,e.easing),h=1-h;r.animate({opacity:h},u,e.easing),r.queue(function(){a&&r.hide(),i()}),f>1&&p.splice.apply(p,[1,0].concat(p.splice(f,c+1))),r.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"hide"),o="hide"===r,s=parseInt(e.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)},t.effects.effect.scale=function(e,i){var n=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(n,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",l=e.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},t.effects.effect.size=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],p=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=t.effects.setMode(s,e.mode||"effect"),d=e.restore||"effect"!==f,m=e.scale||"both",g=e.origin||["middle","center"],v=s.css("position"),y=d?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===f?(s.from=e.to||b,s.to=e.from||n):(s.from=e.from||("show"===f?b:n),s.to=e.to||("hide"===f?b:n)),o={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(y=y.concat(h),s.from=t.effects.setTransition(s,h,o.from.y,s.from),s.to=t.effects.setTransition(s,h,o.to.y,s.to)),o.from.x!==o.to.x&&(y=y.concat(p),s.from=t.effects.setTransition(s,p,o.from.x,s.from),s.to=t.effects.setTransition(s,p,o.to.x,s.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(y=y.concat(u).concat(c),s.from=t.effects.setTransition(s,u,o.from.y,s.from),s.to=t.effects.setTransition(s,u,o.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(r=t.effects.getBaseline(g,n),s.from.top=(n.outerHeight-s.outerHeight())*r.y,s.from.left=(n.outerWidth-s.outerWidth())*r.x,s.to.top=(n.outerHeight-s.to.outerHeight)*r.y,s.to.left=(n.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),("content"===m||"both"===m)&&(h=h.concat(["marginTop","marginBottom"]).concat(u),p=p.concat(["marginLeft","marginRight"]),c=a.concat(h).concat(p),s.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};d&&t.effects.save(i,c),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,h,o.from.y,i.from),i.to=t.effects.setTransition(i,h,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,p,o.from.x,i.from),i.to=t.effects.setTransition(i,p,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){d&&t.effects.restore(i,c)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===f&&s.hide(),t.effects.restore(s,y),d||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,i){var n=parseInt(i,10),r=t?s.to.left:s.to.top;return"auto"===i?r+"px":n+r+"px"})})),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,c=e.times||3,u=2*c+1,h=Math.round(e.duration/u),p="up"===a||"down"===a?"top":"left",f="up"===a||"left"===a,d={},m={},g={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),d[p]=(f?"-=":"+=")+l,m[p]=(f?"+=":"-=")+2*l,g[p]=(f?"-=":"+=")+2*l,r.animate(d,h,e.easing),n=1;c>n;n++)r.animate(m,h,e.easing).animate(g,h,e.easing);r.animate(m,h,e.easing).animate(d,h/2,e.easing).queue(function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),r.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h={};t.effects.save(r,o),r.show(),n=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(c,u?isNaN(n)?"-"+n:-n:n),h[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,i){var n=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},h=n.offset(),p=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){p.remove(),i()})}}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,o,s,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())}),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(e.keyCode),a=RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),r=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,s,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.height(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-n-r}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)n=t.trim(e[i]),o="ui-resizable-"+n,r=t("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:a.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(e){var i,n,r,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(i){var n,r,o,s=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=e(this.helper.css("left")),r=e(this.helper.css("top")),s.containment&&(n+=t(s.containment).scrollLeft()||0,r+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,n=this.helper,r={},o=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,h=e.pageX-o.left||0,p=e.pageY-o.top||0,f=this._change[s];return!!f&&(i=f.apply(this,[e,h,p]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==a&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==u&&(r.height=this.size.height+"px"),n.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(r)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,r,o,s,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&t.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,r,o,s,a=this.options;s={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),r>s.minHeight&&(s.minHeight=r),s.maxWidth>n&&(s.maxWidth=n),s.maxHeight>o&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,r=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===r&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===r&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,r=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=i(t.width)&&e.minWidth&&e.minWidth>t.width,a=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(n),h=/nw|ne|n/.test(n);return s&&(t.width=e.minWidth),a&&(t.height=e.minHeight),r&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),s&&u&&(t.left=l-e.minWidth),r&&u&&(t.left=l-e.maxWidth),a&&h&&(t.top=c-e.minHeight),o&&h&&(t.top=c-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,r,o=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(r=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],n=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);r.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&t.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,n,r,o,s,a,l,c=t(this).data("ui-resizable"),u=c.options,h=c.element,p=u.containment,f=p instanceof t?p.get(0):/parent/.test(p)?h.parent().get(0):p;f&&(c.containerElement=t(f),/document/.test(p)||p===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:t(document),left:0,
top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(f),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,r){n[t]=e(i.css("padding"+r))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},r=c.containerOffset,o=c.containerSize.height,s=c.containerSize.width,a=t.ui.hasScroll(f,"left")?f.scrollWidth:s,l=t.ui.hasScroll(f)?f.scrollHeight:o,c.parentData={element:f,left:r.left,top:r.top,width:a,height:l}))},resize:function(e){var i,n,r,o,s=t(this).data("ui-resizable"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},p=s.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,i=Math.abs((s._helper?s.offset.left-h.left:s.offset.left-h.left)+s.sizeDiff.width),n=Math.abs((s._helper?s.offset.top-h.top:s.offset.top-l.top)+s.sizeDiff.height),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o&&(i-=Math.abs(s.parentData.left)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,u&&(s.size.height=s.size.width/s.aspectRatio)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,u&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),r=n.options,o=n.originalSize,s=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0},l=function(e,n){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),o={},s=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var i=(r[e]||0)+(a[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):t.each(r.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,r=e.originalSize,o=e.originalPosition,s=e.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,c=a[1]||1,u=Math.round((n.width-r.width)/l)*l,h=Math.round((n.height-r.height)/c)*c,p=r.width+u,f=r.height+h,d=i.maxWidth&&p>i.maxWidth,m=i.maxHeight&&f>i.maxHeight,g=i.minWidth&&i.minWidth>p,v=i.minHeight&&i.minHeight>f;i.grid=a,g&&(p+=l),v&&(f+=c),d&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(s)?(e.size.width=p,e.size.height=f):/^(ne)$/.test(s)?(e.size.width=p,e.size.height=f,e.position.top=o.top-h):/^(sw)$/.test(s)?(e.size.width=p,e.size.height=f,e.position.left=o.left-u):(f-c>0?(e.size.height=f,e.position.top=o.top-h):(e.size.height=c,e.position.top=o.top+r.height-c),p-l>0?(e.size.width=p,e.position.left=o.left-u):(e.size.width=l,e.position.left=o.left+r.width-l))}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,r=t.data(this,"selectable-item");return r?(n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",e,{selecting:r.element}):i._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(i=a,a=o,o=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?c=!(i.left>a||o>i.right||i.top>l||s>i.bottom):"fit"===r.tolerance&&(c=i.left>o&&a>i.right&&i.top>s&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",s=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;i>e;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,s,a,l,c,u=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-u.values(e));(r>i||r===i&&(e===u._lastChangedValue||u.values(e)===h.min))&&(r=i,o=t(this),s=e)}),a=this._start(e,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),l=o.offset(),c=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,o;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(r=this.values(),r[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),o!==!1&&this.values(e,i))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],o=0;n.length>o;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;r>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?100*((n-r)/(o-r)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(i){var n,r,o,s,a=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),n=this._start(i,a),n===!1))return}switch(s=this.options.step,r=o=this.options.values&&this.options.values.length?this.values(a):this.value(),i.keyCode){case t.ui.keyCode.HOME:o=this._valueMin();break;case t.ui.keyCode.END:o=this._valueMax();break;case t.ui.keyCode.PAGE_UP:o=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(r===this._valueMax())return;o=this._trimAlignValue(r+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(r===this._valueMin())return;o=this._trimAlignValue(r-s)}this._slide(i,a,o)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||i(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>a&&l>n+c,p="y"===this.options.axis||e+u>o&&s>e+u,f=h&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>o&&s>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=i&&n,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!r&&(this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:r&&("down"===r&&i||"up"===r&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(o=t(c[n]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(i=p.length-1;i>=0;i--)for(r=t(p[i]),n=r.length-1;n>=0;n--)o=t.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=h.length-1;i>=0;i--)for(s=h[i][1],a=h[i][0],n=0,c=a.length;c>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r);
}):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(n){var r,o,s,a,l,c,u,h,p,f,d=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!t.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(d&&t.contains(this.containers[r].element[0],d.element[0]))continue;d=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",n,this._uiHash(this)),this.containers[r].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(s=1e4,a=null,f=d.floating||i(this.currentItem),l=f?"left":"top",c=f?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)t.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!f||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(h=this.items[o].item.offset()[l],p=!1,Math.abs(h-u)>Math.abs(h+this.items[o][c]-u)&&(p=!0,h+=this.items[o][c]),s>Math.abs(h-u)&&(s=Math.abs(h-u),a=this.items[o],this.direction=p?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(n,a,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;r.length>n;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;r.length>n;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var r=i.attr(n);void 0!==r&&r.length&&(e[n]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)!==!1&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&n.min>t?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++r}function n(t){return t=t.cloneNode(!1),t.hash.length>1&&decodeURIComponent(t.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var r=0,o=/#.*$/;t.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===i&&(r&&this.tabs.each(function(n,o){return t(o).attr("aria-controls")===r?(i=n,!1):e}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=!!this.tabs.length&&0)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=!n&&0)),!n&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var n=t(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),o=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:r++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,r--;break;case t.ui.keyCode.END:r=this.anchors.length-1;break;case t.ui.keyCode.HOME:r=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(r),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(r!==this.options.active&&r),e;default:return}i.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,o),i.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function n(){return e>r&&(e=0),0>e&&(e=r),e}for(var r=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,r){var o,s,a,l=t(r).uniqueId().attr("id"),c=t(r).closest("li"),u=c.attr("aria-controls");n(r)?(o=r.hash,s=e.element.find(e._sanitizeSelector(o))):(a=e._tabId(c),o="#"+a,s=e.element.find(o),s.length||(s=e._createPanel(a),s.insertAfter(e.panels[i-1]||e.tablist)),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),o=r.closest("li"),s=o[0]===n[0],a=s&&i.collapsible,l=a?t():this._getPanelForTab(o),c=n.length?this._getPanelForTab(n):t(),u={oldTab:n,oldPanel:c,newTab:a?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=!a&&this.tabs.index(o),this.active=s?t():o,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,i){function n(){o.running=!1,o._trigger("activate",e,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,n):(s.show(),n())}var o=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===e?n=!1:(i=this._getIndex(i),n=t.isArray(n)?t.map(n,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===e)n=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,n))return;n=t.isArray(n)?t.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(e,i){e=this._getIndex(e);var r=this,o=this.tabs.eq(e),s=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),l={tab:o,panel:a};n(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){a.html(t),r._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&r.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")}var n=0;t.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n[0],e.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,o=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){t.data("ui-tooltip-open")&&r._delay(function(){e&&(e.type=o),this._open(e,t,i)})}),void(i&&this._open(e,t,i)))},_open:function(i,n,r){function o(t){c.of=t,s.is(":hidden")||s.position(c)}var s,a,l,c=t.extend({},this.options.position);if(r){if(s=this._find(n),s.length)return void s.find(".ui-tooltip-content").html(r);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),s=this._tooltip(n),e(n,s.attr("id")),s.find(".ui-tooltip-content").html(r),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):s.position(t.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),
this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){s.is(":visible")&&(o(c.of),clearInterval(l))},t.fx.interval)),this._trigger("open",i,{tooltip:s}),a={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(s)}},i&&"mouseover"!==i.type||(a.mouseleave="close"),i&&"focusin"!==i.type||(a.focusout="close"),this._on(!0,n,a)}},close:function(e){var n=this,r=t(e?e.currentTarget:this.element),o=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),i(r),o.stop(!0),this._hide(o,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+n++,r=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),this.tooltips[i]=e,r},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n[0],e.close(r,!0),t("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),function(t){function e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(t,e){function i(){lt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}var n=!0;return l(function(){return n&&(i(),n=!1),e.apply(this,arguments)},e)}function n(t,e){return function(i){return h(t.call(this,i),e)}}function r(t,e){return function(i){return this.lang().ordinal(t.call(this,i),e)}}function o(){}function s(t){C(t),l(this,t)}function a(t){var e=v(t),i=e.year||0,n=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*n+12*i,this._data={},this._bubble()}function l(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function c(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&wt.hasOwnProperty(e)&&(i[e]=t[e]);return i}function u(t){return 0>t?Math.ceil(t):Math.floor(t)}function h(t,e,i){for(var n=""+Math.abs(t),r=t>=0;n.length<e;)n="0"+n;return(r?i?"+":"":"-")+n}function p(t,e,i,n){var r=e._milliseconds,o=e._days,s=e._months;n=null==n||n,r&&t._d.setTime(+t._d+r*i),o&&nt(t,"Date",it(t,"Date")+o*i),s&&et(t,it(t,"Month")+s*i),n&&lt.updateOffset(t,o||s)}function f(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function m(t,e,i){var n,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(n=0;r>n;n++)(i&&t[n]!==e[n]||!i&&b(t[n])!==b(e[n]))&&s++;return s+o}function g(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=Qt[t]||Zt[e]||e}return t}function v(t){var e,i,n={};for(i in t)t.hasOwnProperty(i)&&(e=g(i),e&&(n[e]=t[i]));return n}function y(e){var i,n;if(0===e.indexOf("week"))i=7,n="day";else{if(0!==e.indexOf("month"))return;i=12,n="month"}lt[e]=function(r,o){var s,a,l=lt.fn._lang[e],c=[];if("number"==typeof r&&(o=r,r=t),a=function(t){var e=lt().utc().set(n,t);return l.call(lt.fn._lang,e,r||"")},null!=o)return a(o);for(s=0;i>s;s++)c.push(a(s));return c}}function b(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function x(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function _(t,e,i){return Z(lt([t,11,31+e-i]),e,i).week}function w(t){return k(t)?366:365}function k(t){return t%4===0&&t%100!==0||t%400===0}function C(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[mt]<0||t._a[mt]>11?mt:t._a[gt]<1||t._a[gt]>x(t._a[dt],t._a[mt])?gt:t._a[vt]<0||t._a[vt]>23?vt:t._a[yt]<0||t._a[yt]>59?yt:t._a[bt]<0||t._a[bt]>59?bt:t._a[xt]<0||t._a[xt]>999?xt:-1,t._pf._overflowDayOfYear&&(dt>e||e>gt)&&(e=gt),t._pf.overflow=e)}function S(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function T(t){return t?t.toLowerCase().replace("_","-"):t}function E(t,e){return e._isUTC?lt(t).zone(e._offset||0):lt(t).local()}function A(t,e){return e.abbr=t,_t[t]||(_t[t]=new o),_t[t].set(e),_t[t]}function M(t){delete _t[t]}function L(t){var e,i,n,r,o=0,s=function(t){if(!_t[t]&&kt)try{require("./lang/"+t)}catch(e){}return _t[t]};if(!t)return lt.fn._lang;if(!f(t)){if(i=s(t))return i;t=[t]}for(;o<t.length;){for(r=T(t[o]).split("-"),e=r.length,n=T(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=s(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&m(r,n,!0)>=e-1)break;e--}o++}return lt.fn._lang}function N(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t){var e,i,n=t.match(Et);for(e=0,i=n.length;i>e;e++)n[e]=ie[n[e]]?ie[n[e]]:N(n[e]);return function(r){var o="";for(e=0;i>e;e++)o+=n[e]instanceof Function?n[e].call(r,t):n[e];return o}}function I(t,e){return t.isValid()?(e=D(e,t.lang()),Jt[e]||(Jt[e]=P(e)),Jt[e](t)):t.lang().invalidDate()}function D(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(At.lastIndex=0;n>=0&&At.test(t);)t=t.replace(At,i),At.lastIndex=0,n-=1;return t}function O(t,e){var i,n=e._strict;switch(t){case"Q":return jt;case"DDDD":return Wt;case"YYYY":case"GGGG":case"gggg":return n?Bt:Nt;case"Y":case"G":case"g":return $t;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?qt:Pt;case"S":if(n)return jt;case"SS":if(n)return zt;case"SSS":if(n)return Wt;case"DDD":return Lt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Dt;case"a":case"A":return L(e._l)._meridiemParse;case"X":return Ft;case"Z":case"ZZ":return Ot;case"T":return Rt;case"SSSS":return It;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?zt:Mt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Mt;case"Do":return Ht;default:return i=new RegExp(q(B(t.replace("\\","")),"i"))}}function R(t){t=t||"";var e=t.match(Ot)||[],i=e[e.length-1]||[],n=(i+"").match(Gt)||["-",0,0],r=+(60*n[1])+b(n[2]);return"+"===n[0]?-r:r}function F(t,e,i){var n,r=i._a;switch(t){case"Q":null!=e&&(r[mt]=3*(b(e)-1));break;case"M":case"MM":null!=e&&(r[mt]=b(e)-1);break;case"MMM":case"MMMM":n=L(i._l).monthsParse(e),null!=n?r[mt]=n:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[gt]=b(e));break;case"Do":null!=e&&(r[gt]=b(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(i._dayOfYear=b(e));break;case"YY":r[dt]=lt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[dt]=b(e);break;case"a":case"A":i._isPm=L(i._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[vt]=b(e);break;case"m":case"mm":r[yt]=b(e);break;case"s":case"ss":r[bt]=b(e);break;case"S":case"SS":case"SSS":case"SSSS":r[xt]=b(1e3*("0."+e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=R(e);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":t=t.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(i._w=i._w||{},i._w[t]=e)}}function H(t){var e,i,n,r,o,s,a,l,c,u,h=[];if(!t._d){for(n=z(t),t._w&&null==t._a[gt]&&null==t._a[mt]&&(o=function(e){var i=parseInt(e,10);return e?e.length<3?i>68?1900+i:2e3+i:i:null==t._a[dt]?lt().weekYear():t._a[dt]},s=t._w,null!=s.GG||null!=s.W||null!=s.E?a=J(o(s.GG),s.W||1,s.E,4,1):(l=L(t._l),c=null!=s.d?G(s.d,l):null!=s.e?parseInt(s.e,10)+l._week.dow:0,u=parseInt(s.w,10)||1,null!=s.d&&c<l._week.dow&&u++,a=J(o(s.gg),u,c,l._week.doy,l._week.dow)),t._a[dt]=a.year,t._dayOfYear=a.dayOfYear),t._dayOfYear&&(r=null==t._a[dt]?n[dt]:t._a[dt],t._dayOfYear>w(r)&&(t._pf._overflowDayOfYear=!0),i=Y(r,0,t._dayOfYear),t._a[mt]=i.getUTCMonth(),t._a[gt]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=h[e]=n[e];for(;7>e;e++)t._a[e]=h[e]=null==t._a[e]?2===e?1:0:t._a[e];h[vt]+=b((t._tzm||0)/60),h[yt]+=b((t._tzm||0)%60),t._d=(t._useUTC?Y:K).apply(null,h)}}function j(t){var e;t._d||(e=v(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],H(t))}function z(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function W(t){t._a=[],t._pf.empty=!0;var e,i,n,r,o,s=L(t._l),a=""+t._i,l=a.length,c=0;for(n=D(t._f,s).match(Et)||[],e=0;e<n.length;e++)r=n[e],i=(a.match(O(r,t))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&t._pf.unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),c+=i.length),ie[r]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(r),F(r,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=l-c,a.length>0&&t._pf.unusedInput.push(a),t._isPm&&t._a[vt]<12&&(t._a[vt]+=12),t._isPm===!1&&12===t._a[vt]&&(t._a[vt]=0),H(t),C(t)}function B(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r})}function q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $(t){var i,n,r,o,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,i=l({},t),i._pf=e(),i._f=t._f[o],W(i),S(i)&&(s+=i._pf.charsLeftOver,s+=10*i._pf.unusedTokens.length,i._pf.score=s,(null==r||r>s)&&(r=s,n=i));l(t,n||i)}function U(t){var e,i,n=t._i,r=Ut.exec(n);if(r){for(t._pf.iso=!0,e=0,i=Kt.length;i>e;e++)if(Kt[e][1].exec(n)){t._f=Kt[e][0]+(r[6]||" ");break}for(e=0,i=Yt.length;i>e;e++)if(Yt[e][1].exec(n)){t._f+=Yt[e][0];break}n.match(Ot)&&(t._f+="Z"),W(t)}else lt.createFromInputFallback(t)}function V(e){var i=e._i,n=Ct.exec(i);i===t?e._d=new Date:n?e._d=new Date((+n[1])):"string"==typeof i?U(e):f(i)?(e._a=i.slice(0),H(e)):d(i)?e._d=new Date((+i)):"object"==typeof i?j(e):"number"==typeof i?e._d=new Date(i):lt.createFromInputFallback(e)}function K(t,e,i,n,r,o,s){var a=new Date(t,e,i,n,r,o,s);return 1970>t&&a.setFullYear(t),a}function Y(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function G(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function X(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function Q(t,e,i){var n=ft(Math.abs(t)/1e3),r=ft(n/60),o=ft(r/60),s=ft(o/24),a=ft(s/365),l=45>n&&["s",n]||1===r&&["m"]||45>r&&["mm",r]||1===o&&["h"]||22>o&&["hh",o]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",ft(s/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=t>0,l[4]=i,X.apply({},l)}function Z(t,e,i){var n,r=i-e,o=i-t.day();return o>r&&(o-=7),r-7>o&&(o+=7),n=lt(t).add("d",o),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function J(t,e,i,n,r){var o,s,a=Y(t,0,1).getUTCDay();return i=null!=i?i:r,o=r-a+(a>n?7:0)-(r>a?7:0),s=7*(e-1)+(i-r)+o+1,{year:s>0?t:t-1,dayOfYear:s>0?s:w(t-1)+s}}function tt(e){var i=e._i,n=e._f;return null===i||n===t&&""===i?lt.invalid({nullInput:!0}):("string"==typeof i&&(e._i=i=L().preparse(i)),lt.isMoment(i)?(e=c(i),e._d=new Date((+i._d))):n?f(n)?$(e):W(e):V(e),new s(e))}function et(t,e){var i;return"string"==typeof e&&(e=t.lang().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),x(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function it(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function nt(t,e,i){return"Month"===e?et(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function rt(t,e){return function(i){return null!=i?(nt(this,t,i),lt.updateOffset(this,e),this):it(this,t)}}function ot(t){lt.duration.fn[t]=function(){return this._data[t]}}function st(t,e){lt.duration.fn["as"+t]=function(){return+this/e}}function at(t){"undefined"==typeof ender&&(ct=pt.moment,pt.moment=t?i("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",lt):lt)}for(var lt,ct,ut,ht="2.6.0",pt="undefined"!=typeof global?global:this,ft=Math.round,dt=0,mt=1,gt=2,vt=3,yt=4,bt=5,xt=6,_t={},wt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},kt="undefined"!=typeof module&&module.exports,Ct=/^\/?Date\((\-?\d+)/i,St=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Tt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Et=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,At=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Mt=/\d\d?/,Lt=/\d{1,3}/,Nt=/\d{1,4}/,Pt=/[+\-]?\d{1,6}/,It=/\d+/,Dt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ot=/Z|[\+\-]\d\d:?\d\d/gi,Rt=/T/i,Ft=/[\+\-]?\d+(\.\d{1,3})?/,Ht=/\d{1,2}/,jt=/\d/,zt=/\d\d/,Wt=/\d{3}/,Bt=/\d{4}/,qt=/[+-]?\d{6}/,$t=/[+-]?\d+/,Ut=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vt="YYYY-MM-DDTHH:mm:ssZ",Kt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Yt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Gt=/([\+\-]|\d\d)/gi,Xt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Qt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Zt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Jt={},te="DDD w W M D d".split(" "),ee="M D H h m s w W".split(" "),ie={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return h(this.year()%100,2)},YYYY:function(){return h(this.year(),4)},YYYYY:function(){return h(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+h(Math.abs(t),6)},gg:function(){return h(this.weekYear()%100,2)},gggg:function(){return h(this.weekYear(),4)},ggggg:function(){return h(this.weekYear(),5)},GG:function(){return h(this.isoWeekYear()%100,2)},GGGG:function(){return h(this.isoWeekYear(),4)},GGGGG:function(){return h(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return b(this.milliseconds()/100)},SS:function(){return h(b(this.milliseconds()/10),2)},SSS:function(){return h(this.milliseconds(),3)},SSSS:function(){return h(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+h(b(t/60),2)+":"+h(b(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+h(b(t/60),2)+h(b(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ne=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];te.length;)ut=te.pop(),ie[ut+"o"]=r(ie[ut],ut);for(;ee.length;)ut=ee.pop(),ie[ut+ut]=n(ie[ut],2);for(ie.DDDD=n(ie.DDD,3),l(o.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,i,n;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(i=lt.utc([2e3,e]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[e]=new RegExp(n.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=lt([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var i=this._calendar[t];return"function"==typeof i?i.apply(e):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(t,e,i,n):r.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return Z(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),lt=function(i,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=t),s={},s._isAMomentObject=!0,s._i=i,s._f=n,s._l=r,s._strict=o,s._isUTC=!1,s._pf=e(),tt(s)},lt.suppressDeprecationWarnings=!1,lt.createFromInputFallback=i("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),lt.utc=function(i,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=t),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=r,s._i=i,s._f=n,s._strict=o,s._pf=e(),tt(s).utc()},lt.unix=function(t){return lt(1e3*t)},lt.duration=function(t,e){var i,n,r,o=t,s=null;return lt.isDuration(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(s=St.exec(t))?(i="-"===s[1]?-1:1,o={y:0,d:b(s[gt])*i,h:b(s[vt])*i,m:b(s[yt])*i,s:b(s[bt])*i,ms:b(s[xt])*i}):(s=Tt.exec(t))&&(i="-"===s[1]?-1:1,r=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},o={y:r(s[2]),M:r(s[3]),d:r(s[4]),h:r(s[5]),m:r(s[6]),s:r(s[7]),w:r(s[8])}),n=new a(o),lt.isDuration(t)&&t.hasOwnProperty("_lang")&&(n._lang=t._lang),n},lt.version=ht,lt.defaultFormat=Vt,lt.momentProperties=wt,lt.updateOffset=function(){},lt.lang=function(t,e){var i;return t?(e?A(T(t),e):null===e?(M(t),t="en"):_t[t]||L(t),i=lt.duration.fn._lang=lt.fn._lang=L(t),i._abbr):lt.fn._lang._abbr},lt.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),L(t)},lt.isMoment=function(t){return t instanceof s||null!=t&&t.hasOwnProperty("_isAMomentObject")},lt.isDuration=function(t){return t instanceof a},ut=ne.length-1;ut>=0;--ut)y(ne[ut]);lt.normalizeUnits=function(t){return g(t)},lt.invalid=function(t){var e=lt.utc(NaN);return null!=t?l(e._pf,t):e._pf.userInvalidated=!0,e},lt.parseZone=function(){return lt.apply(null,arguments).parseZone()},lt.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)},l(lt.fn=s.prototype,{clone:function(){return lt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date((+this)):this._d},toISOString:function(){var t=lt(this).utc();return 0<t.year()&&t.year()<=9999?I(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return S(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&m(this._a,(this._isUTC?lt.utc(this._a):lt(this._a)).toArray())>0)},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=I(this,t||lt.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var i;return i="string"==typeof t?lt.duration(+e,t):lt.duration(t,e),p(this,i,1),this},subtract:function(t,e){var i;return i="string"==typeof t?lt.duration(+e,t):lt.duration(t,e),p(this,i,-1),this},diff:function(t,e,i){var n,r,o=E(t,this),s=6e4*(this.zone()-o.zone());return e=g(e),"year"===e||"month"===e?(n=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),r+=(this-lt(this).startOf("month")-(o-lt(o).startOf("month")))/n,r-=6e4*(this.zone()-lt(this).startOf("month").zone()-(o.zone()-lt(o).startOf("month").zone()))/n,"year"===e&&(r/=12)):(n=this-o,r="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-s)/864e5:"week"===e?(n-s)/6048e5:n),i?r:u(r)},from:function(t,e){return lt.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(lt(),t)},calendar:function(){var t=E(lt(),this).startOf("day"),e=this.diff(t,"days",!0),i=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(i,this))},isLeapYear:function(){return k(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=G(t,this.lang()),this.add({d:t-e})):e},month:rt("Month",!0),startOf:function(t){switch(t=g(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=g(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+lt(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+lt(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)===+E(t,this).startOf(e)},min:function(t){return t=lt.apply(null,arguments),this>t?this:t},max:function(t){return t=lt.apply(null,arguments),t>this?this:t},zone:function(t,e){var i=this._offset||0;return null==t?this._isUTC?i:this._d.getTimezoneOffset():("string"==typeof t&&(t=R(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,i!==t&&(!e||this._changeInProgress?p(this,lt.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,lt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?lt(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return x(this.year(),this.month())},dayOfYear:function(t){var e=ft((lt(this).startOf("day")-lt(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=Z(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=Z(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=Z(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return _(this.year(),1,4)},weeksInYear:function(){var t=this._lang._week;return _(this.year(),t.dow,t.doy)},get:function(t){return t=g(t),this[t]()},set:function(t,e){return t=g(t),"function"==typeof this[t]&&this[t](e),this},lang:function(e){return e===t?this._lang:(this._lang=L(e),this)}}),lt.fn.millisecond=lt.fn.milliseconds=rt("Milliseconds",!1),lt.fn.second=lt.fn.seconds=rt("Seconds",!1),lt.fn.minute=lt.fn.minutes=rt("Minutes",!1),lt.fn.hour=lt.fn.hours=rt("Hours",!0),lt.fn.date=rt("Date",!0),lt.fn.dates=i("dates accessor is deprecated. Use date instead.",rt("Date",!0)),lt.fn.year=rt("FullYear",!0),lt.fn.years=i("years accessor is deprecated. Use year instead.",rt("FullYear",!0)),lt.fn.days=lt.fn.day,lt.fn.months=lt.fn.month,lt.fn.weeks=lt.fn.week,lt.fn.isoWeeks=lt.fn.isoWeek,lt.fn.quarters=lt.fn.quarter,lt.fn.toJSON=lt.fn.toISOString,l(lt.duration.fn=a.prototype,{_bubble:function(){var t,e,i,n,r=this._milliseconds,o=this._days,s=this._months,a=this._data;a.milliseconds=r%1e3,t=u(r/1e3),a.seconds=t%60,e=u(t/60),a.minutes=e%60,i=u(e/60),a.hours=i%24,o+=u(i/24),a.days=o%30,s+=u(o/30),a.months=s%12,n=u(s/12),a.years=n},weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)},humanize:function(t){var e=+this,i=Q(e,!t,this.lang());return t&&(i=this.lang().pastFuture(e,i)),this.lang().postformat(i)},add:function(t,e){var i=lt.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=lt.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=g(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=g(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:lt.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||r||o?"T":"")+(n?n+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"}});for(ut in Xt)Xt.hasOwnProperty(ut)&&(st(ut,Xt[ut]),ot(ut.toLowerCase()));st("Weeks",6048e5),lt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},lt.lang("en",{ordinal:function(t){var e=t%10,i=1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),kt?module.exports=lt:"function"==typeof define&&define.amd?(define("moment",function(t,e,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(pt.moment=ct),lt}),at(!0)):at()}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){o.trigger("closed.bs.alert").remove()}var n=t(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=n.hasClass("alert")?n:n.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",r=i.data();t+="Text",r.resetText||i.data("resetText",i[n]()),i[n](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),r=n.data("bs.button"),o="object"==typeof i&&i;r||n.data("bs.button",r=new e(this,o)),"toggle"==i?r.toggle():i&&r.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),
this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),r=i||n[e](),o=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[a]()}this.sliding=!0,o&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:r[0],direction:s});if(!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,n.addClass(s),r.addClass(s),n.one(t.support.transition.end,function(){r.removeClass([e,s].join(" ")).addClass("active"),n.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;n.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),r=n.data("bs.carousel"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i),s="string"==typeof i?i:o.slide;r||n.data("bs.carousel",r=new e(this,o)),"number"==typeof i?r.to(i):s?r[s]():o.interval&&r.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n=t(this),r=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},r.data(),n.data()),s=n.attr("data-slide-to");s&&(o.interval=!1),r.carousel(o),(s=n.attr("data-slide-to"))&&r.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var s=t.camelCase(["scroll",r].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[r](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);r||n.data("bs.collapse",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=t(r),s=o.data("bs.collapse"),a=s?"toggle":n.data(),l=n.attr("data-parent"),c=l&&t(l);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(a)})}(jQuery),+function(t){"use strict";function e(){t(n).remove(),t(r).each(function(e){var n=i(t(this));n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",r="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var o=i(r),s=o.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),o.trigger(n=t.Event("show.bs.dropdown")),n.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown"),r.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),s=o.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&o.find(r).focus(),n.click();var a=t("[role=menu] li:not(.divider):visible a",o);if(a.length){var l=a.index(a.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<a.length-1&&l++,~l||(l=0),a.eq(l).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",o.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bs.modal",o=new e(this,s)),"string"==typeof i?o[i](n):s.show&&o.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),r=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},r.data(),i.data());e.preventDefault(),r.modal(o,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,o=r.test(n);o&&(n=n.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var s=this.getPosition(),a=i[0].offsetWidth,l=i[0].offsetHeight;if(o){var c=this.$element.parent(),u=n,h=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),f="body"==this.options.container?window.innerHeight:c.outerHeight(),d="body"==this.options.container?0:c.offset().left;n="bottom"==n&&s.top+s.height+l-h>f?"top":"top"==n&&s.top-h-l<0?"bottom":"right"==n&&s.right+a>p?"left":"left"==n&&s.left-a<d?"right":n,i.removeClass(u).addClass(n)}var m=this.getCalculatedOffset(n,s,a,l);this.applyPlacement(m,n),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,n=this.tip(),r=n[0].offsetWidth,o=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,n.offset(t).addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;if("top"==e&&c!=o&&(i=!0,t.top=t.top+o-c),/bottom|top/.test(e)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,n.offset(t),l=n[0].offsetWidth,c=n[0].offsetHeight),this.replaceArrow(u-r+l,l,"left")}else this.replaceArrow(c-o,c,"top");i&&n.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach()}var i=this,n=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),o="object"==typeof i&&i;r||n.data("bs.tooltip",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),r=n.data("bs.popover"),o="object"==typeof i&&i;r||n.data("bs.popover",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(i,n){var r,o=t.proxy(this.process,this);this.$element=t(t(i).is("body")?window:i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||(r=t(i).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var n=t(this),r=n.data("target")||n.attr("href"),o=/^#\w/.test(r)&&t(r);return o&&o.length&&[[o[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(e>=n)return s!=(t=o.last()[0])&&this.activate(t);for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),r=n.data("bs.scrollspy"),o="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var s=t(n);this.activate(e.parent("li"),i),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,i,n){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),s=n&&t.support.transition&&o.hasClass("fade");s?o.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new e(this)),"string"==typeof i&&r[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.top,a=o.bottom;"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom());var l=!(null!=this.unpin&&n+this.unpin<=r.top)&&(null!=a&&r.top+this.$element.height()>=i-a?"bottom":null!=s&&s>=n&&"top");this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?r.top-n:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),r=n.data("bs.affix"),o="object"==typeof i&&i;r||n.data("bs.affix",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),function(t,e){var i=0,n=null,r=[],o=null;t.fn.split=function(s){function a(t){if("number"==typeof t)return t;if("string"==typeof t){var e=t.match(/^([0-9\.]+)(px|%)$/);if(e){if("px"==e[2])return+e[1];if("vertical"==h.orientation)return d*+e[1]/100;if("horizontal"==h.orientation)return m*+e[1]/100}}}var l=this.data("splitter");if(l)return l;var c,u,h=t.extend({limit:100,orientation:"horizontal",position:"50%",invisible:!1,onDragStart:t.noop,onDragEnd:t.noop,onDrag:t.noop},s||{});this.settings=h;var p,f=this.children();"vertical"==h.orientation?(c=f.first().addClass("left_panel"),u=c.next().addClass("right_panel"),p="vsplitter"):"horizontal"==h.orientation&&(c=f.first().addClass("top_panel"),u=c.next().addClass("bottom_panel"),p="hsplitter"),h.invisible&&(p+=" splitter-invisible");var d=this.width(),m=this.height(),g=i++;this.addClass("splitter_panel");var v,y=t("<div/>").addClass(p).bind("mouseenter touchstart",function(){n=g}).bind("mouseleave touchend",function(){n=null}).insertAfter(c),b=t.extend(this,{refresh:function(){var t=this.width(),e=this.height();d==t&&m==e||(d=this.width(),m=this.height(),b.position(v))},position:function(){return"vertical"==h.orientation?function(t,i){if(t===e)return v;v=a(t);var n=y.width(),r=n/2;if(h.invisible){var o=c.width(v).outerWidth();u.width(b.width()-o),y.css("left",o-r)}else{var o=c.width(v-r).outerWidth();u.width(b.width()-o-n),y.css("left",o)}return i||b.find(".splitter_panel").trigger("splitter.resize"),b}:"horizontal"==h.orientation?function(t,i){if(t===e)return v;v=a(t);var n=y.height(),r=n/2;if(h.invisible){var o=c.height(v).outerHeight();u.height(b.height()-o),y.css("top",o-r)}else{var o=c.height(v-r).outerHeight();u.height(b.height()-o-n),y.css("top",o)}return i||b.find(".splitter_panel").trigger("splitter.resize"),b}:t.noop}(),orientation:h.orientation,limit:h.limit,isActive:function(){return n===g},destroy:function(){b.removeClass("splitter_panel"),y.unbind("mouseenter"),y.unbind("mouseleave"),y.unbind("touchstart"),y.unbind("touchmove"),y.unbind("touchend"),y.unbind("touchleave"),y.unbind("touchcancel"),"vertical"==h.orientation?(c.removeClass("left_panel"),u.removeClass("right_panel")):"horizontal"==h.orientation&&(c.removeClass("top_panel"),u.removeClass("bottom_panel")),b.unbind("splitter.resize"),b.find(".splitter_panel").trigger("splitter.resize"),r[g]=null,y.remove();for(var e=!1,n=r.length;n--;)if(null!==r[n]){e=!0;break}e||(t(document.documentElement).unbind(".splitter"),t(window).unbind("resize.splitter"),b.data("splitter",null),r=[],i=0)}});b.bind("splitter.resize",function(t){var e=b.position();"vertical"==b.orientation&&e>b.width()?e=b.width()-b.limit-1:"horizontal"==b.orientation&&e>b.height()&&(e=b.height()-b.limit-1),e<b.limit&&(e=b.limit+1),b.position(e,!0)});var x;return"vertical"==h.orientation?x=x>d-h.limit?d-h.limit:a(h.position):"horizontal"==h.orientation&&(x=x>m-h.limit?m-h.limit:a(h.position)),x<h.limit&&(x=h.limit),b.position(x,!0),0==r.length&&(t(window).bind("resize.splitter",function(){t.each(r,function(t,e){e.refresh()})}),t(document.documentElement).bind("mousedown.splitter touchstart.splitter",function(e){if(null!==n)return o=r[n],t('<div class="splitterMask"></div>').css("cursor",o.children().eq(1).css("cursor")).insertAfter(o),o.settings.onDragStart(e),!1}).bind("mouseup.splitter touchend.splitter touchleave.splitter touchcancel.splitter",function(e){o&&(t(".splitterMask").remove(),o.settings.onDragEnd(e),o=null)}).bind("mousemove.splitter touchmove.splitter",function(t){if(null!==o){var e=o.limit,i=o.offset();if("vertical"==o.orientation){var n=t.pageX;t.originalEvent&&t.originalEvent.changedTouches&&(n=t.originalEvent.changedTouches[0].pageX);var r=n-i.left;r<=o.limit?r=o.limit+1:r>=o.width()-e&&(r=o.width()-e-1),r>o.limit&&r<o.width()-e&&(o.position(r,!0),o.find(".splitter_panel").trigger("splitter.resize"),t.preventDefault())}else if("horizontal"==o.orientation){var s=t.pageY;t.originalEvent&&t.originalEvent.changedTouches&&(s=t.originalEvent.changedTouches[0].pageY);var a=s-i.top;a<=o.limit?a=o.limit+1:a>=o.height()-e&&(a=o.height()-e-1),a>o.limit&&a<o.height()-e&&(o.position(a,!0),o.find(".splitter_panel").trigger("splitter.resize"),t.preventDefault())}o.settings.onDrag(t)}})),r.push(b),b.data("splitter",b),b}}(jQuery),function(t){var e=t.document.documentMode,i="onhashchange"in t&&(void 0===e||e>7),n=t.jHash={jhash:"2.1",change:function(e){i?s(t,"hashchange",e):r.push(e)},unbind:function(e){return i?a(t,"hashchange",e):l(r,r.indexOf(e)),this},val:function(t,e){var i=n.query();return 2===arguments.length?(i[t.toLowerCase()]=null===e?"":e,this.set(this.root(),i)):1===arguments.length&&"string"==typeof t?i[t.toLowerCase()]:"object"==typeof t?this.set(this.root(),t):i},root:function(e){return void 0===e?h(t.location.hash):this.set(e,this.val())},set:function(e,i){var n=null;if(null===e&&null===i)n=null;else if(void 0!==i){var r=e,o="string"==typeof i?i:u(i);o.length>0&&(r+="?"),n=r+o}else n=e;return t.location.hash=n,this},remove:function(t){var e=n.query();return e[t.toLowerCase()]=void 0,this.set(this.root(),e)},query:function(){return c(t.location.hash)},clear:function(){return t.location.hash="",this},clearQuery:function(){return this.set(this.root()),this},clearRoot:function(){return this.set("",this.query()),this},_routes:{},_routeHandlerRegistered:!1,_defaultRoute:null,route:function(t,e){this._routes[t]=e,this._routeHandlerRegistered||(this._routeHandlerRegistered=!0,n.change(m))},processRoute:function(){m()},defaultRoute:function(t,e){return 0==arguments.length?this._defaultRoute:void(this._defaultRoute={root:t,query:e})}};i||t.setInterval(function(){var e=t.location.hash;if(o!==e)for(var i in r)r[i].call(t);o=e},200);var r=[],o=t.location.hash,s=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]+=i},a=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]-=i},l=function(t,e,i){var n=t.slice((i||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,n)},c=function(t){var e={},i=null,n=t.substring(0,t.length);if(null!==t&&void 0!==t){0===n.indexOf("#")&&(n=n.substring(1,n.length));var r=n.indexOf("?");if(r>-1){n=n.substring(r+1,n.length);var o=n.split("&");for(var s in o)i=o[s].split("="),e[i[0].toString().toLowerCase()]=i[1]}}return e},u=function(t){var e="";for(var i in t)void 0!==t[i]&&(e.length>0&&(e+="&"),e+=i.toString()+"="+t[i].toString());return e},h=function(t){var e=t.substring(0,t.length);return e.indexOf("#")>-1&&(e=e.substring(1,e.length)),e.indexOf("?")>-1&&(e=e.substring(0,e.indexOf("?"))),e},p="([^/]+)",f=/{([\w\d]+)}/g,d=function(t,e){var i=new RegExp(t.replace(f,p)+"$");return e.match(i)},m=function(){var t=n.root(),e=n.defaultRoute();if(0===(t||"").length&&e)return void n.set(e.root,e.query);for(var i in n._routes)if("string"==typeof i){var r=d(i,t);if(null!==r){var o=n._routes[i],s={},a=i.match(f);if(null!==a)for(var l=0;l<a.length;l++){var c=a[l].substring(1).substring(0,a[l].length-2);s[c]=r[l+1]}return void o.call(s)}}}}(window),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,
e.Terminal=t()}}(function(){var t;return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"◆",a:"▒",b:"\t",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"\x0B",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},i.CHARSETS.A={"#":"£"},i.CHARSETS.B=null,i.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},i.CHARSETS.C=i.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},i.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},i.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},i.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},i.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},i.CHARSETS.E=i.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},i.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},i.CHARSETS.H=i.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},i.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},{}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e,i){this.textarea=t,this.compositionView=e,this.terminal=i,this.isComposing=!1,this.isSendingComposition=!1,this.compositionPosition={start:null,end:null}}return t.prototype.compositionstart=function(){this.isComposing=!0,this.compositionPosition.start=this.textarea.value.length,this.compositionView.textContent="",this.compositionView.classList.add("active")},t.prototype.compositionupdate=function(t){var e=this;this.compositionView.textContent=t.data,this.updateCompositionElements(),setTimeout(function(){e.compositionPosition.end=e.textarea.value.length},0)},t.prototype.compositionend=function(){this.finalizeComposition(!0)},t.prototype.keydown=function(t){if(this.isComposing||this.isSendingComposition){if(229===t.keyCode)return!1;if(16===t.keyCode||17===t.keyCode||18===t.keyCode)return!1;this.finalizeComposition(!1)}return 229!==t.keyCode||(this.handleAnyTextareaChanges(),!1)},t.prototype.finalizeComposition=function(t){var e=this;if(this.compositionView.classList.remove("active"),this.isComposing=!1,this.clearTextareaPosition(),t){var i={start:this.compositionPosition.start,end:this.compositionPosition.end};this.isSendingComposition=!0,setTimeout(function(){if(e.isSendingComposition){e.isSendingComposition=!1;var t=void 0;t=e.isComposing?e.textarea.value.substring(i.start,i.end):e.textarea.value.substring(i.start),e.terminal.handler(t)}},0)}else{this.isSendingComposition=!1;var n=this.textarea.value.substring(this.compositionPosition.start,this.compositionPosition.end);this.terminal.handler(n)}},t.prototype.handleAnyTextareaChanges=function(){var t=this,e=this.textarea.value;setTimeout(function(){if(!t.isComposing){var i=t.textarea.value,n=i.replace(e,"");n.length>0&&t.terminal.handler(n)}},0)},t.prototype.updateCompositionElements=function(t){var e=this;if(this.isComposing){var i=this.terminal.element.querySelector(".terminal-cursor");if(i){var n=this.terminal.element.querySelector(".xterm-rows"),r=n.offsetTop+i.offsetTop;this.compositionView.style.left=i.offsetLeft+"px",this.compositionView.style.top=r+"px",this.compositionView.style.height=i.offsetHeight+"px",this.compositionView.style.lineHeight=i.offsetHeight+"px";var o=this.compositionView.getBoundingClientRect();this.textarea.style.left=i.offsetLeft+"px",this.textarea.style.top=r+"px",this.textarea.style.width=o.width+"px",this.textarea.style.height=o.height+"px",this.textarea.style.lineHeight=o.height+"px"}t||setTimeout(function(){return e.updateCompositionElements(!0)},0)}},t.prototype.clearTextareaPosition=function(){this.textarea.style.left="",this.textarea.style.top=""},t}();i.CompositionHelper=n},{}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n;!function(t){t.NUL="\0",t.SOH="",t.STX="",t.ETX="",t.EOT="",t.ENQ="",t.ACK="",t.BEL="",t.BS="\b",t.HT="\t",t.LF="\n",t.VT="\x0B",t.FF="\f",t.CR="\r",t.SO="",t.SI="",t.DLE="",t.DC1="",t.DC2="",t.DC3="",t.DC4="",t.NAK="",t.SYN="",t.ETB="",t.CAN="",t.EM="",t.SUB="",t.ESC="",t.FS="",t.GS="",t.RS="",t.US="",t.SP=" ",t.DEL=""}(n=i.C0||(i.C0={}))},{}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this._events=this._events||{}}return t.prototype.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)},t.prototype.off=function(t,e){if(this._events[t])for(var i=this._events[t],n=i.length;n--;)if(i[n]===e||i[n].listener===e)return void i.splice(n,1)},t.prototype.removeAllListeners=function(t){this._events[t]&&delete this._events[t]},t.prototype.once=function(t,e){function i(){var n=Array.prototype.slice.call(arguments);return this.off(t,i),e.apply(this,n)}return i.listener=e,this.on(t,i)},t.prototype.emit=function(t){if(this._events[t])for(var e=Array.prototype.slice.call(arguments,1),i=this._events[t],n=0;n<i.length;n++)i[n].apply(this,e)},t.prototype.listeners=function(t){return this._events[t]||[]},t}();i.EventEmitter=n},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./EscapeSequences"),r=t("./Charsets"),o=function(){function t(t){this._terminal=t}return t.prototype.addChar=function(t,e){if(t>=" "){var i=s(e);this._terminal.charset&&this._terminal.charset[t]&&(t=this._terminal.charset[t]);var n=this._terminal.y+this._terminal.ybase;if(!i&&this._terminal.x)return void(this._terminal.lines.get(n)[this._terminal.x-1]&&(this._terminal.lines.get(n)[this._terminal.x-1][2]?this._terminal.lines.get(n)[this._terminal.x-1][1]+=t:this._terminal.lines.get(n)[this._terminal.x-2]&&(this._terminal.lines.get(n)[this._terminal.x-2][1]+=t),this._terminal.updateRange(this._terminal.y)));if(this._terminal.x+i-1>=this._terminal.cols)if(this._terminal.wraparoundMode)this._terminal.x=0,this._terminal.y++,this._terminal.y>this._terminal.scrollBottom&&(this._terminal.y--,this._terminal.scroll());else if(2===i)return;if(n=this._terminal.y+this._terminal.ybase,this._terminal.insertMode)for(var r=0;r<i;++r){var o=this._terminal.lines.get(this._terminal.y+this._terminal.ybase).pop();0===o[2]&&this._terminal.lines.get(n)[this._terminal.cols-2]&&2===this._terminal.lines.get(n)[this._terminal.cols-2][2]&&(this._terminal.lines.get(n)[this._terminal.cols-2]=[this._terminal.curAttr," ",1]),this._terminal.lines.get(n).splice(this._terminal.x,0,[this._terminal.curAttr," ",1])}this._terminal.lines.get(n)[this._terminal.x]=[this._terminal.curAttr,t,i],this._terminal.x++,this._terminal.updateRange(this._terminal.y),2===i&&(this._terminal.lines.get(n)[this._terminal.x]=[this._terminal.curAttr,"",0],this._terminal.x++)}},t.prototype.bell=function(){var t=this;this._terminal.visualBell&&(this._terminal.element.style.borderColor="white",setTimeout(function(){return t._terminal.element.style.borderColor=""},10),this._terminal.popOnBell&&this._terminal.focus())},t.prototype.lineFeed=function(){this._terminal.convertEol&&(this._terminal.x=0),this._terminal.y++,this._terminal.y>this._terminal.scrollBottom&&(this._terminal.y--,this._terminal.scroll()),this._terminal.x>=this._terminal.cols&&this._terminal.x--},t.prototype.carriageReturn=function(){this._terminal.x=0},t.prototype.backspace=function(){this._terminal.x>0&&this._terminal.x--},t.prototype.tab=function(){this._terminal.x=this._terminal.nextStop()},t.prototype.shiftOut=function(){this._terminal.setgLevel(1)},t.prototype.shiftIn=function(){this._terminal.setgLevel(0)},t.prototype.insertChars=function(t){var e,i,n,r;for(e=t[0],e<1&&(e=1),i=this._terminal.y+this._terminal.ybase,n=this._terminal.x,r=[this._terminal.eraseAttr()," ",1];e--&&n<this._terminal.cols;)this._terminal.lines.get(i).splice(n++,0,r),this._terminal.lines.get(i).pop()},t.prototype.cursorUp=function(t){var e=t[0];e<1&&(e=1),this._terminal.y-=e,this._terminal.y<0&&(this._terminal.y=0)},t.prototype.cursorDown=function(t){var e=t[0];e<1&&(e=1),this._terminal.y+=e,this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1),this._terminal.x>=this._terminal.cols&&this._terminal.x--},t.prototype.cursorForward=function(t){var e=t[0];e<1&&(e=1),this._terminal.x+=e,this._terminal.x>=this._terminal.cols&&(this._terminal.x=this._terminal.cols-1)},t.prototype.cursorBackward=function(t){var e=t[0];e<1&&(e=1),this._terminal.x>=this._terminal.cols&&this._terminal.x--,this._terminal.x-=e,this._terminal.x<0&&(this._terminal.x=0)},t.prototype.cursorNextLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.y+=e,this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1),this._terminal.x=0},t.prototype.cursorPrecedingLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.y-=e,this._terminal.y<0&&(this._terminal.y=0),this._terminal.x=0},t.prototype.cursorCharAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.x=e-1},t.prototype.cursorPosition=function(t){var e,i;e=t[0]-1,i=t.length>=2?t[1]-1:0,e<0?e=0:e>=this._terminal.rows&&(e=this._terminal.rows-1),i<0?i=0:i>=this._terminal.cols&&(i=this._terminal.cols-1),this._terminal.x=i,this._terminal.y=e},t.prototype.cursorForwardTab=function(t){for(var e=t[0]||1;e--;)this._terminal.x=this._terminal.nextStop()},t.prototype.eraseInDisplay=function(t){var e;switch(t[0]){case 0:for(this._terminal.eraseRight(this._terminal.x,this._terminal.y),e=this._terminal.y+1;e<this._terminal.rows;e++)this._terminal.eraseLine(e);break;case 1:for(this._terminal.eraseLeft(this._terminal.x,this._terminal.y),e=this._terminal.y;e--;)this._terminal.eraseLine(e);break;case 2:for(e=this._terminal.rows;e--;)this._terminal.eraseLine(e);break;case 3:var i=this._terminal.lines.length-this._terminal.rows;i>0&&(this._terminal.lines.trimStart(i),this._terminal.ybase=Math.max(this._terminal.ybase-i,0),this._terminal.ydisp=Math.max(this._terminal.ydisp-i,0))}},t.prototype.eraseInLine=function(t){switch(t[0]){case 0:this._terminal.eraseRight(this._terminal.x,this._terminal.y);break;case 1:this._terminal.eraseLeft(this._terminal.x,this._terminal.y);break;case 2:this._terminal.eraseLine(this._terminal.y)}},t.prototype.insertLines=function(t){var e,i,n;for(e=t[0],e<1&&(e=1),i=this._terminal.y+this._terminal.ybase,n=this._terminal.rows-1-this._terminal.scrollBottom,n=this._terminal.rows-1+this._terminal.ybase-n+1;e--;)this._terminal.lines.length===this._terminal.lines.maxLength&&(this._terminal.lines.trimStart(1),this._terminal.ybase--,this._terminal.ydisp--,i--,n--),this._terminal.lines.splice(i,0,this._terminal.blankLine(!0)),this._terminal.lines.splice(n,1);this._terminal.updateRange(this._terminal.y),this._terminal.updateRange(this._terminal.scrollBottom)},t.prototype.deleteLines=function(t){var e,i,n;for(e=t[0],e<1&&(e=1),i=this._terminal.y+this._terminal.ybase,n=this._terminal.rows-1-this._terminal.scrollBottom,n=this._terminal.rows-1+this._terminal.ybase-n;e--;)this._terminal.lines.length===this._terminal.lines.maxLength&&(this._terminal.lines.trimStart(1),this._terminal.ybase-=1,this._terminal.ydisp-=1),this._terminal.lines.splice(n+1,0,this._terminal.blankLine(!0)),this._terminal.lines.splice(i,1);this._terminal.updateRange(this._terminal.y),this._terminal.updateRange(this._terminal.scrollBottom)},t.prototype.deleteChars=function(t){var e,i,n;for(e=t[0],e<1&&(e=1),i=this._terminal.y+this._terminal.ybase,n=[this._terminal.eraseAttr()," ",1];e--;)this._terminal.lines.get(i).splice(this._terminal.x,1),this._terminal.lines.get(i).push(n)},t.prototype.scrollUp=function(t){for(var e=t[0]||1;e--;)this._terminal.lines.splice(this._terminal.ybase+this._terminal.scrollTop,1),this._terminal.lines.splice(this._terminal.ybase+this._terminal.scrollBottom,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.scrollTop),this._terminal.updateRange(this._terminal.scrollBottom)},t.prototype.scrollDown=function(t){for(var e=t[0]||1;e--;)this._terminal.lines.splice(this._terminal.ybase+this._terminal.scrollBottom,1),this._terminal.lines.splice(this._terminal.ybase+this._terminal.scrollTop,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.scrollTop),this._terminal.updateRange(this._terminal.scrollBottom)},t.prototype.eraseChars=function(t){var e,i,n,r;for(e=t[0],e<1&&(e=1),i=this._terminal.y+this._terminal.ybase,n=this._terminal.x,r=[this._terminal.eraseAttr()," ",1];e--&&n<this._terminal.cols;)this._terminal.lines.get(i)[n++]=r},t.prototype.cursorBackwardTab=function(t){for(var e=t[0]||1;e--;)this._terminal.x=this._terminal.prevStop()},t.prototype.charPosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.x=e-1,this._terminal.x>=this._terminal.cols&&(this._terminal.x=this._terminal.cols-1)},t.prototype.HPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.x+=e,this._terminal.x>=this._terminal.cols&&(this._terminal.x=this._terminal.cols-1)},t.prototype.repeatPrecedingCharacter=function(t){for(var e=t[0]||1,i=this._terminal.lines.get(this._terminal.ybase+this._terminal.y),n=i[this._terminal.x-1]||[this._terminal.defAttr," ",1];e--;)i[this._terminal.x++]=n},t.prototype.sendDeviceAttributes=function(t){t[0]>0||(this._terminal.prefix?">"===this._terminal.prefix&&(this._terminal.is("xterm")?this._terminal.send(n.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._terminal.send(n.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._terminal.send(t[0]+"c"):this._terminal.is("screen")&&this._terminal.send(n.C0.ESC+"[>83;40003;0c")):this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._terminal.send(n.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._terminal.send(n.C0.ESC+"[?6c"))},t.prototype.linePosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.y=e-1,this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1)},t.prototype.VPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.y+=e,this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1),this._terminal.x>=this._terminal.cols&&this._terminal.x--},t.prototype.HVPosition=function(t){t[0]<1&&(t[0]=1),t[1]<1&&(t[1]=1),this._terminal.y=t[0]-1,this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1),this._terminal.x=t[1]-1,this._terminal.x>=this._terminal.cols&&(this._terminal.x=this._terminal.cols-1)},t.prototype.tabClear=function(t){var e=t[0];e<=0?delete this._terminal.tabs[this._terminal.x]:3===e&&(this._terminal.tabs={})},t.prototype.setMode=function(t){if(t.length>1)for(var e=0;e<t.length;e++)this.setMode([t[e]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(t[0]){case 1:this._terminal.applicationCursor=!0;break;case 2:this._terminal.setgCharset(0,r.DEFAULT_CHARSET),this._terminal.setgCharset(1,r.DEFAULT_CHARSET),this._terminal.setgCharset(2,r.DEFAULT_CHARSET),this._terminal.setgCharset(3,r.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._terminal.cols,this._terminal.resize(132,this._terminal.rows);break;case 6:this._terminal.originMode=!0;break;case 7:this._terminal.wraparoundMode=!0;break;case 12:break;case 66:this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=9===t[0],this._terminal.vt200Mouse=1e3===t[0],this._terminal.normalMouse=t[0]>1e3,this._terminal.mouseEvents=!0,this._terminal.element.style.cursor="default",this._terminal.log("Binding to mouse events.");break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._terminal.utfMouse=!0;break;case 1006:this._terminal.sgrMouse=!0;break;case 1015:this._terminal.urxvtMouse=!0;break;case 25:this._terminal.cursorHidden=!1;break;case 1049:case 47:case 1047:if(!this._terminal.normal){var i={lines:this._terminal.lines,ybase:this._terminal.ybase,ydisp:this._terminal.ydisp,x:this._terminal.x,y:this._terminal.y,scrollTop:this._terminal.scrollTop,scrollBottom:this._terminal.scrollBottom,tabs:this._terminal.tabs};this._terminal.reset(),this._terminal.viewport.syncScrollArea(),this._terminal.normal=i,this._terminal.showCursor()}}}else switch(t[0]){case 4:this._terminal.insertMode=!0;break;case 20:}},t.prototype.resetMode=function(t){if(t.length>1)for(var e=0;e<t.length;e++)this.resetMode([t[e]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(t[0]){case 1:this._terminal.applicationCursor=!1;break;case 3:132===this._terminal.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,this._terminal.rows),delete this._terminal.savedCols;break;case 6:this._terminal.originMode=!1;break;case 7:this._terminal.wraparoundMode=!1;break;case 12:break;case 66:this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=!1,this._terminal.vt200Mouse=!1,this._terminal.normalMouse=!1,this._terminal.mouseEvents=!1,this._terminal.element.style.cursor="";break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._terminal.utfMouse=!1;break;case 1006:this._terminal.sgrMouse=!1;break;case 1015:this._terminal.urxvtMouse=!1;break;case 25:this._terminal.cursorHidden=!0;break;case 1049:case 47:case 1047:this._terminal.normal&&(this._terminal.lines=this._terminal.normal.lines,this._terminal.ybase=this._terminal.normal.ybase,this._terminal.ydisp=this._terminal.normal.ydisp,this._terminal.x=this._terminal.normal.x,this._terminal.y=this._terminal.normal.y,this._terminal.scrollTop=this._terminal.normal.scrollTop,this._terminal.scrollBottom=this._terminal.normal.scrollBottom,this._terminal.tabs=this._terminal.normal.tabs,this._terminal.normal=null,this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor())}}else switch(t[0]){case 4:this._terminal.insertMode=!1;break;case 20:}},t.prototype.charAttributes=function(t){if(1===t.length&&0===t[0])return void(this._terminal.curAttr=this._terminal.defAttr);for(var e,i=t.length,n=0,r=this._terminal.curAttr>>18,o=this._terminal.curAttr>>9&511,s=511&this._terminal.curAttr;n<i;n++)e=t[n],e>=30&&e<=37?o=e-30:e>=40&&e<=47?s=e-40:e>=90&&e<=97?(e+=8,o=e-90):e>=100&&e<=107?(e+=8,s=e-100):0===e?(r=this._terminal.defAttr>>18,o=this._terminal.defAttr>>9&511,s=511&this._terminal.defAttr):1===e?r|=1:4===e?r|=2:5===e?r|=4:7===e?r|=8:8===e?r|=16:22===e?r&=-2:24===e?r&=-3:25===e?r&=-5:27===e?r&=-9:28===e?r&=-17:39===e?o=this._terminal.defAttr>>9&511:49===e?s=511&this._terminal.defAttr:38===e?2===t[n+1]?(n+=2,o=this._terminal.matchColor(255&t[n],255&t[n+1],255&t[n+2]),o===-1&&(o=511),n+=2):5===t[n+1]&&(n+=2,e=255&t[n],o=e):48===e?2===t[n+1]?(n+=2,s=this._terminal.matchColor(255&t[n],255&t[n+1],255&t[n+2]),s===-1&&(s=511),n+=2):5===t[n+1]&&(n+=2,e=255&t[n],s=e):100===e?(o=this._terminal.defAttr>>9&511,s=511&this._terminal.defAttr):this._terminal.error("Unknown SGR attribute: %d.",e);this._terminal.curAttr=r<<18|o<<9|s},t.prototype.deviceStatus=function(t){if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(t[0]){case 6:this._terminal.send(n.C0.ESC+"[?"+(this._terminal.y+1)+";"+(this._terminal.x+1)+"R");break;case 15:break;case 25:break;case 26:break;case 53:}}else switch(t[0]){case 5:this._terminal.send(n.C0.ESC+"[0n");break;case 6:this._terminal.send(n.C0.ESC+"["+(this._terminal.y+1)+";"+(this._terminal.x+1)+"R")}},t.prototype.softReset=function(t){this._terminal.cursorHidden=!1,this._terminal.insertMode=!1,this._terminal.originMode=!1,this._terminal.wraparoundMode=!0,this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea(),this._terminal.applicationCursor=!1,this._terminal.scrollTop=0,this._terminal.scrollBottom=this._terminal.rows-1,this._terminal.curAttr=this._terminal.defAttr,this._terminal.x=this._terminal.y=0,this._terminal.charset=null,this._terminal.glevel=0,this._terminal.charsets=[null]},t.prototype.setCursorStyle=function(t){var e=t[0]<1?1:t[0];switch(e){case 1:case 2:this._terminal.setOption("cursorStyle","block");break;case 3:case 4:this._terminal.setOption("cursorStyle","underline");break;case 5:case 6:this._terminal.setOption("cursorStyle","bar")}var i=e%2===1;this._terminal.setOption("cursorBlink",i)},t.prototype.setScrollRegion=function(t){this._terminal.prefix||(this._terminal.scrollTop=(t[0]||1)-1,this._terminal.scrollBottom=(t[1]&&t[1]<=this._terminal.rows?t[1]:this._terminal.rows)-1,this._terminal.x=0,this._terminal.y=0)},t.prototype.saveCursor=function(t){this._terminal.savedX=this._terminal.x,this._terminal.savedY=this._terminal.y},t.prototype.restoreCursor=function(t){this._terminal.x=this._terminal.savedX||0,this._terminal.y=this._terminal.savedY||0},t}();i.InputHandler=o;var s=function(t){function e(t){var e,i=0,n=r.length-1;if(t<r[0][0]||t>r[n][1])return!1;for(;n>=i;)if(e=Math.floor((i+n)/2),t>r[e][1])i=e+1;else{if(!(t<r[e][0]))return!0;n=e-1}return!1}function i(i){return 0===i?t.nul:i<32||i>=127&&i<160?t.control:e(i)?0:n(i)?2:1}function n(t){return t>=4352&&(t<=4447||9001===t||9002===t||t>=11904&&t<=42191&&12351!==t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141)}var r=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];return i}({nul:0,control:0})},{"./Charsets":1,"./EscapeSequences":3}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="xterm-invalid-link",r="(https?:\\/\\/)",o="[\\da-z\\.-]+",s="[^\\da-z\\.-]+",a="("+o+")",l="([a-z\\.]{2,6})",c="((\\d{1,3}\\.){3}\\d{1,3})",u="(localhost)",h="(:\\d{1,5})",p="(("+a+"\\."+l+")|"+c+"|"+u+")"+h+"?",f="(\\/[\\/\\w\\.\\-%~]*)*",d="[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*",m="(\\?"+d+")?",g="(#"+d+")?",v="[^\\/\\w\\.\\-%]+",y=p+f+m+g,b="(?:^|"+s+")(",x=")($|"+v+")",_=new RegExp(b+r+y+x),w=0,k=function(){function t(){this._nextLinkMatcherId=w,this._rowTimeoutIds=[],this._linkMatchers=[],this.registerLinkMatcher(_,null,{matchIndex:1})}return t.prototype.attachToDom=function(t,e){this._document=t,this._rows=e},t.prototype.linkifyRow=function(e){if(this._document){var i=this._rowTimeoutIds[e];i&&clearTimeout(i),this._rowTimeoutIds[e]=setTimeout(this._linkifyRow.bind(this,e),t.TIME_BEFORE_LINKIFY)}},t.prototype.setHypertextLinkHandler=function(t){this._linkMatchers[w].handler=t},t.prototype.setHypertextValidationCallback=function(t){this._linkMatchers[w].validationCallback=t},t.prototype.registerLinkMatcher=function(t,e,i){if(void 0===i&&(i={}),this._nextLinkMatcherId!==w&&!e)throw new Error("handler must be defined");var n={id:this._nextLinkMatcherId++,regex:t,handler:e,matchIndex:i.matchIndex,validationCallback:i.validationCallback,priority:i.priority||0};return this._addLinkMatcherToList(n),n.id},t.prototype._addLinkMatcherToList=function(t){if(0===this._linkMatchers.length)return void this._linkMatchers.push(t);for(var e=this._linkMatchers.length-1;e>=0;e--)if(t.priority<=this._linkMatchers[e].priority)return void this._linkMatchers.splice(e+1,0,t);this._linkMatchers.splice(0,0,t)},t.prototype.deregisterLinkMatcher=function(t){for(var e=1;e<this._linkMatchers.length;e++)if(this._linkMatchers[e].id===t)return this._linkMatchers.splice(e,1),!0;return!1},t.prototype._linkifyRow=function(t){var e=this._rows[t];if(e)for(var i=(e.textContent,0);i<this._linkMatchers.length;i++){var r=this._linkMatchers[i],o=this._doLinkifyRow(e,r);if(o.length>0){if(r.validationCallback)for(var s=function(t){var e=o[t];r.validationCallback(e.textContent,e,function(t){t||e.classList.add(n)})},a=0;a<o.length;a++)s(a);return}}},t.prototype._doLinkifyRow=function(t,e){var i=[],n=e.id===w,r=t.childNodes,o=t.textContent.match(e.regex);if(!o||0===o.length)return i;for(var s=o["number"!=typeof e.matchIndex?0:e.matchIndex],a=o.index+s.length,l=0;l<r.length;l++){var c=r[l],u=c.textContent.indexOf(s);if(u>=0){var h=this._createAnchorElement(s,e.handler,n);if(c.textContent.length===s.length)if(3===c.nodeType)this._replaceNode(c,h);else{var p=c;if("A"===p.nodeName)return i;p.innerHTML="",p.appendChild(h)}else{var f=this._replaceNodeSubstringWithNode(c,h,s,u);l+=f}if(i.push(h),o=t.textContent.substring(a).match(e.regex),!o||0===o.length)return i;s=o["number"!=typeof e.matchIndex?0:e.matchIndex],a+=o.index+s.length}}return i},t.prototype._createAnchorElement=function(t,e,i){var r=this._document.createElement("a");return r.textContent=t,r.draggable=!1,i?(r.href=t,r.target="_blank",r.addEventListener("click",function(i){if(e)return e(i,t)})):r.addEventListener("click",function(i){if(!r.classList.contains(n))return e(i,t)}),r},t.prototype._replaceNode=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=t.parentNode,r=0;r<e.length;r++)n.insertBefore(e[r],t);n.removeChild(t)},t.prototype._replaceNodeSubstringWithNode=function(t,e,i,n){var r=t;if(3!==r.nodeType&&(r=r.childNodes[0]),0===r.childNodes.length&&3!==r.nodeType)throw new Error("targetNode must be a text node or only contain a single text node");var o=r.textContent;if(0===n){var s=o.substring(i.length),a=this._document.createTextNode(s);return this._replaceNode(r,e,a),0}if(n===t.textContent.length-i.length){var l=o.substring(0,n),c=this._document.createTextNode(l);return this._replaceNode(r,c,e),0}var u=o.substring(0,n),h=this._document.createTextNode(u),p=o.substring(n+i.length),f=this._document.createTextNode(p);return this._replaceNode(r,h,e,f),1},t}();k.TIME_BEFORE_LINKIFY=200,i.Linkifier=k},{}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./EscapeSequences"),r=t("./Charsets"),o={};o[n.C0.BEL]=function(t,e){return e.bell()},o[n.C0.LF]=function(t,e){return e.lineFeed()},o[n.C0.VT]=o[n.C0.LF],o[n.C0.FF]=o[n.C0.LF],o[n.C0.CR]=function(t,e){return e.carriageReturn()},o[n.C0.BS]=function(t,e){return e.backspace()},o[n.C0.HT]=function(t,e){return e.tab()},o[n.C0.SO]=function(t,e){return e.shiftOut()},o[n.C0.SI]=function(t,e){return e.shiftIn()},o[n.C0.ESC]=function(t,e){return t.setState(c.ESCAPED)};var s={};s["["]=function(t,e){e.params=[],e.currentParam=0,t.setState(c.CSI_PARAM)},s["]"]=function(t,e){e.params=[],e.currentParam=0,t.setState(c.OSC)},s.P=function(t,e){e.params=[],e.currentParam=0,t.setState(c.DCS)},s._=function(t,e){t.setState(c.IGNORE)},s["^"]=function(t,e){t.setState(c.IGNORE)},s.c=function(t,e){e.reset()},s.E=function(t,e){e.x=0,e.index(),t.setState(c.NORMAL)},s.D=function(t,e){e.index(),t.setState(c.NORMAL)},s.M=function(t,e){e.reverseIndex(),t.setState(c.NORMAL)},s["%"]=function(t,e){e.setgLevel(0),e.setgCharset(0,r.DEFAULT_CHARSET),t.setState(c.NORMAL),t.skipNextChar()},s[n.C0.CAN]=function(t){return t.setState(c.NORMAL)};var a={};a["?"]=function(t){return t.setPrefix("?")},a[">"]=function(t){return t.setPrefix(">")},a["!"]=function(t){return t.setPrefix("!")},a[0]=function(t){return t.setParam(10*t.getParam())},a[1]=function(t){return t.setParam(10*t.getParam()+1)},a[2]=function(t){return t.setParam(10*t.getParam()+2)},a[3]=function(t){return t.setParam(10*t.getParam()+3)},a[4]=function(t){return t.setParam(10*t.getParam()+4)},a[5]=function(t){return t.setParam(10*t.getParam()+5)},a[6]=function(t){return t.setParam(10*t.getParam()+6)},a[7]=function(t){return t.setParam(10*t.getParam()+7)},a[8]=function(t){return t.setParam(10*t.getParam()+8)},a[9]=function(t){return t.setParam(10*t.getParam()+9)},a.$=function(t){return t.setPostfix("$")},a['"']=function(t){return t.setPostfix('"')},a[" "]=function(t){return t.setPostfix(" ")},a["'"]=function(t){return t.setPostfix("'")},a[";"]=function(t){return t.finalizeParam()},a[n.C0.CAN]=function(t){return t.setState(c.NORMAL)};var l={};l["@"]=function(t,e,i){return t.insertChars(e)},l.A=function(t,e,i){return t.cursorUp(e)},l.B=function(t,e,i){return t.cursorDown(e)},l.C=function(t,e,i){return t.cursorForward(e)},l.D=function(t,e,i){return t.cursorBackward(e)},l.E=function(t,e,i){return t.cursorNextLine(e)},l.F=function(t,e,i){return t.cursorPrecedingLine(e)},l.G=function(t,e,i){return t.cursorCharAbsolute(e)},l.H=function(t,e,i){return t.cursorPosition(e)},l.I=function(t,e,i){return t.cursorForwardTab(e)},l.J=function(t,e,i){return t.eraseInDisplay(e)},l.K=function(t,e,i){return t.eraseInLine(e)},l.L=function(t,e,i){return t.insertLines(e)},l.M=function(t,e,i){return t.deleteLines(e)},l.P=function(t,e,i){return t.deleteChars(e)},l.S=function(t,e,i){return t.scrollUp(e)},l.T=function(t,e,i){e.length<2&&!i&&t.scrollDown(e)},l.X=function(t,e,i){return t.eraseChars(e)},l.Z=function(t,e,i){return t.cursorBackwardTab(e)},l["`"]=function(t,e,i){return t.charPosAbsolute(e)},l.a=function(t,e,i){return t.HPositionRelative(e)},l.b=function(t,e,i){return t.repeatPrecedingCharacter(e)},l.c=function(t,e,i){return t.sendDeviceAttributes(e)},l.d=function(t,e,i){return t.linePosAbsolute(e)},l.e=function(t,e,i){return t.VPositionRelative(e)},l.f=function(t,e,i){return t.HVPosition(e)},l.g=function(t,e,i){return t.tabClear(e)},l.h=function(t,e,i){return t.setMode(e)},l.l=function(t,e,i){return t.resetMode(e)},l.m=function(t,e,i){return t.charAttributes(e)},l.n=function(t,e,i){return t.deviceStatus(e)},l.p=function(t,e,i){switch(i){case"!":t.softReset(e)}},l.q=function(t,e,i,n){" "===n&&t.setCursorStyle(e)},l.r=function(t,e){return t.setScrollRegion(e)},l.s=function(t,e){return t.saveCursor(e)},l.u=function(t,e){return t.restoreCursor(e)},l[n.C0.CAN]=function(t,e,i,n,r){return r.setState(c.NORMAL)};var c;!function(t){
t[t.NORMAL=0]="NORMAL",t[t.ESCAPED=1]="ESCAPED",t[t.CSI_PARAM=2]="CSI_PARAM",t[t.CSI=3]="CSI",t[t.OSC=4]="OSC",t[t.CHARSET=5]="CHARSET",t[t.DCS=6]="DCS",t[t.IGNORE=7]="IGNORE"}(c||(c={}));var u=function(){function t(t,e){this._inputHandler=t,this._terminal=e,this._state=c.NORMAL}return t.prototype.parse=function(t){var e,i,u,h,p=t.length;for(this._position=0,this._terminal.surrogate_high&&(t=this._terminal.surrogate_high+t,this._terminal.surrogate_high="");this._position<p;this._position++){if(i=t[this._position],u=t.charCodeAt(this._position),55296<=u&&u<=56319){if(h=t.charCodeAt(this._position+1),isNaN(h)){this._terminal.surrogate_high=i;continue}u=1024*(u-55296)+(h-56320)+65536,i+=t.charAt(this._position+1)}if(!(56320<=u&&u<=57343))switch(this._state){case c.NORMAL:i in o?o[i](this,this._inputHandler):this._inputHandler.addChar(i,u);break;case c.ESCAPED:if(i in s){s[i](this,this._terminal);break}switch(i){case"(":case")":case"*":case"+":case"-":case".":switch(i){case"(":this._terminal.gcharset=0;break;case")":this._terminal.gcharset=1;break;case"*":this._terminal.gcharset=2;break;case"+":this._terminal.gcharset=3;break;case"-":this._terminal.gcharset=1;break;case".":this._terminal.gcharset=2}this._state=c.CHARSET;break;case"/":this._terminal.gcharset=3,this._state=c.CHARSET,this._position--;break;case"N":break;case"O":break;case"n":this._terminal.setgLevel(2);break;case"o":this._terminal.setgLevel(3);break;case"|":this._terminal.setgLevel(3);break;case"}":this._terminal.setgLevel(2);break;case"~":this._terminal.setgLevel(1);break;case"7":this._inputHandler.saveCursor(),this._state=c.NORMAL;break;case"8":this._inputHandler.restoreCursor(),this._state=c.NORMAL;break;case"#":this._state=c.NORMAL,this._position++;break;case"H":this._terminal.tabSet(),this._state=c.NORMAL;break;case"=":this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport.syncScrollArea(),this._state=c.NORMAL;break;case">":this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea(),this._state=c.NORMAL;break;default:this._state=c.NORMAL,this._terminal.error("Unknown ESC control: %s.",i)}break;case c.CHARSET:i in r.CHARSETS?(e=r.CHARSETS[i],"/"===i&&this.skipNextChar()):e=r.DEFAULT_CHARSET,this._terminal.setgCharset(this._terminal.gcharset,e),this._terminal.gcharset=null,this._state=c.NORMAL;break;case c.OSC:if(i===n.C0.ESC||i===n.C0.BEL){switch(i===n.C0.ESC&&this._position++,this._terminal.params.push(this._terminal.currentParam),this._terminal.params[0]){case 0:case 1:case 2:this._terminal.params[1]&&(this._terminal.title=this._terminal.params[1],this._terminal.handleTitle(this._terminal.title));break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:}this._terminal.params=[],this._terminal.currentParam=0,this._state=c.NORMAL}else this._terminal.params.length?this._terminal.currentParam+=i:i>="0"&&i<="9"?this._terminal.currentParam=10*this._terminal.currentParam+i.charCodeAt(0)-48:";"===i&&(this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam="");break;case c.CSI_PARAM:if(i in a){a[i](this);break}this.finalizeParam(),this._state=c.CSI;case c.CSI:i in l?l[i](this._inputHandler,this._terminal.params,this._terminal.prefix,this._terminal.postfix,this):this._terminal.error("Unknown CSI code: %s.",i),this._state=c.NORMAL,this._terminal.prefix="",this._terminal.postfix="";break;case c.DCS:if(i===n.C0.ESC||i===n.C0.BEL){switch(i===n.C0.ESC&&this._position++,this._terminal.prefix){case"":break;case"$q":var f=this._terminal.currentParam,d=!1;switch(f){case'"q':f='0"q';break;case'"p':f='61"p';break;case"r":f=""+(this._terminal.scrollTop+1)+";"+(this._terminal.scrollBottom+1)+"r";break;case"m":f="0m";break;default:this._terminal.error("Unknown DCS Pt: %s.",f),f=""}this._terminal.send(n.C0.ESC+"P"+ +d+"$r"+f+n.C0.ESC+"\\");break;case"+p":break;case"+q":f=this._terminal.currentParam,d=!1,this._terminal.send(n.C0.ESC+"P"+ +d+"+r"+f+n.C0.ESC+"\\");break;default:this._terminal.error("Unknown DCS prefix: %s.",this._terminal.prefix)}this._terminal.currentParam=0,this._terminal.prefix="",this._state=c.NORMAL}else this._terminal.currentParam?this._terminal.currentParam+=i:this._terminal.prefix||"$"===i||"+"===i?2===this._terminal.prefix.length?this._terminal.currentParam=i:this._terminal.prefix+=i:this._terminal.currentParam=i;break;case c.IGNORE:i!==n.C0.ESC&&i!==n.C0.BEL||(i===n.C0.ESC&&this._position++,this._state=c.NORMAL)}}},t.prototype.setState=function(t){this._state=t},t.prototype.setPrefix=function(t){this._terminal.prefix=t},t.prototype.setPostfix=function(t){this._terminal.postfix=t},t.prototype.setParam=function(t){this._terminal.currentParam=t},t.prototype.getParam=function(){return this._terminal.currentParam},t.prototype.finalizeParam=function(){this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam=0},t.prototype.skipNextChar=function(){this._position++},t}();i.Parser=u},{"./Charsets":1,"./EscapeSequences":3}],8:[function(t,e,i){"use strict";function n(t){var e=t.ownerDocument,i=e.createElement("span");i.innerHTML="hello world",t.appendChild(i);var n=i.offsetWidth,r=i.offsetHeight;i.style.fontWeight="bold";var o=i.offsetWidth,s=i.offsetHeight;return t.removeChild(i),n!==o||r!==s}Object.defineProperty(i,"__esModule",{value:!0});var r,o=5;!function(t){t[t.BOLD=1]="BOLD",t[t.UNDERLINE=2]="UNDERLINE",t[t.BLINK=4]="BLINK",t[t.INVERSE=8]="INVERSE",t[t.INVISIBLE=16]="INVISIBLE"}(r||(r={}));var s=null,a=function(){function t(t){this._terminal=t,this._refreshRowsQueue=[],this._refreshFramesSkipped=0,this._refreshAnimationFrame=null,null===s&&(s=n(this._terminal.element))}return t.prototype.queueRefresh=function(t,e){this._refreshRowsQueue.push({start:t,end:e}),this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(this._refreshLoop.bind(this)))},t.prototype._refreshLoop=function(){var t=this._terminal.writeBuffer.length>0&&this._refreshFramesSkipped++<=o;if(t)return void(this._refreshAnimationFrame=window.requestAnimationFrame(this._refreshLoop.bind(this)));this._refreshFramesSkipped=0;var e,i;if(this._refreshRowsQueue.length>4)e=0,i=this._terminal.rows-1;else{e=this._refreshRowsQueue[0].start,i=this._refreshRowsQueue[0].end;for(var n=1;n<this._refreshRowsQueue.length;n++)this._refreshRowsQueue[n].start<e&&(e=this._refreshRowsQueue[n].start),this._refreshRowsQueue[n].end>i&&(i=this._refreshRowsQueue[n].end)}this._refreshRowsQueue=[],this._refreshAnimationFrame=null,this._refresh(e,i)},t.prototype._refresh=function(t,e){var i,n,o,a,l,c,u,h,p,f,d,m,g,v,y;document.activeElement;for(e-t>=this._terminal.rows/2&&(y=this._terminal.element.parentNode,y&&this._terminal.element.removeChild(this._terminal.rowContainer)),h=this._terminal.cols,n=t,e>=this._terminal.rows&&(this._terminal.log("`end` is too large. Most likely a bad CSR."),e=this._terminal.rows-1);n<=e;n++)if(v=n+this._terminal.ydisp,a=this._terminal.lines.get(v),a&&this._terminal.children[n]){for(l="",i=this._terminal.y===n-(this._terminal.ybase-this._terminal.ydisp)&&this._terminal.cursorState&&!this._terminal.cursorHidden?this._terminal.x:-1,f=this._terminal.defAttr,o=0;o<h;o++)if(a[o]&&(p=a[o][0],c=a[o][1],u=a[o][2])){if(o===i&&(p=-1),p!==f&&(f!==this._terminal.defAttr&&(l+="</span>"),p!==this._terminal.defAttr))if(p===-1)l+='<span class="reverse-video terminal-cursor">';else{var b=[];d=511&p,m=p>>9&511,g=p>>18,g&r.BOLD&&(s||b.push("xterm-bold"),m<8&&(m+=8)),g&r.UNDERLINE&&b.push("xterm-underline"),g&r.BLINK&&b.push("xterm-blink"),g&r.INVERSE&&(d=[m,m=d][0],1&g&&m<8&&(m+=8)),g&r.INVISIBLE&&b.push("xterm-hidden"),g&r.INVERSE&&(257===d&&(d=15),256===m&&(m=0)),d<256&&b.push("xterm-bg-color-"+d),m<256&&b.push("xterm-color-"+m),l+="<span",b.length&&(l+=' class="'+b.join(" ")+'"'),l+=">"}switch(2===u&&(l+='<span class="xterm-wide-char">'),c){case"&":l+="&amp;";break;case"<":l+="&lt;";break;case">":l+="&gt;";break;default:l+=c<=" "?"&nbsp;":c}2===u&&(l+="</span>"),f=p}f!==this._terminal.defAttr&&(l+="</span>"),this._terminal.children[n].innerHTML=l}y&&this._terminal.element.appendChild(this._terminal.rowContainer),this._terminal.emit("refresh",{element:this._terminal.element,start:t,end:e})},t}();i.Renderer=a},{}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e,i,n){var r=this;this.terminal=t,this.viewportElement=e,this.scrollArea=i,this.charMeasure=n,this.currentRowHeight=0,this.lastRecordedBufferLength=0,this.lastRecordedViewportHeight=0,this.terminal.on("scroll",this.syncScrollArea.bind(this)),this.terminal.on("resize",this.syncScrollArea.bind(this)),this.viewportElement.addEventListener("scroll",this.onScroll.bind(this)),setTimeout(function(){return r.syncScrollArea()},0)}return t.prototype.refresh=function(){if(this.charMeasure.height>0){var t=this.charMeasure.height!==this.currentRowHeight;t&&(this.currentRowHeight=this.charMeasure.height,this.viewportElement.style.lineHeight=this.charMeasure.height+"px",this.terminal.rowContainer.style.lineHeight=this.charMeasure.height+"px");var e=this.lastRecordedViewportHeight!==this.terminal.rows;(t||e)&&(this.lastRecordedViewportHeight=this.terminal.rows,this.viewportElement.style.height=this.charMeasure.height*this.terminal.rows+"px"),this.scrollArea.style.height=this.charMeasure.height*this.lastRecordedBufferLength+"px"}},t.prototype.syncScrollArea=function(){this.lastRecordedBufferLength!==this.terminal.lines.length?(this.lastRecordedBufferLength=this.terminal.lines.length,this.refresh()):this.lastRecordedViewportHeight!==this.terminal.rows?this.refresh():this.charMeasure.height!==this.currentRowHeight&&this.refresh();var t=this.terminal.ydisp*this.currentRowHeight;this.viewportElement.scrollTop!==t&&(this.viewportElement.scrollTop=t)},t.prototype.onScroll=function(t){var e=Math.round(this.viewportElement.scrollTop/this.currentRowHeight),i=e-this.terminal.ydisp;this.terminal.scrollDisp(i,!0)},t.prototype.onWheel=function(t){if(0!==t.deltaY){var e=1;t.deltaMode===WheelEvent.DOM_DELTA_LINE?e=this.currentRowHeight:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e=this.currentRowHeight*this.terminal.rows),this.viewportElement.scrollTop+=t.deltaY*e,t.preventDefault()}},t}();i.Viewport=n},{}],10:[function(t,e,i){"use strict";function n(t){var e=String.fromCharCode(32),i=String.fromCharCode(160),n=new RegExp(i,"g"),r=t.split("\n").map(function(t){var i=t.replace(/\s+$/g,"").replace(n,e);return i}).join("\n");return r}function r(t,e){var i=window.getSelection().toString(),r=n(i);e.browser.isMSIE?window.clipboardData.setData("Text",r):t.clipboardData.setData("text/plain",r),t.preventDefault()}function o(t,e){t.stopPropagation();var i,n=function(i){return e.handler(i),e.textarea.value="",e.cancel(t)};e.browser.isMSIE?window.clipboardData&&(i=window.clipboardData.getData("Text"),n(i)):t.clipboardData&&(i=t.clipboardData.getData("text/plain"),n(i))}function s(t,e){var i=document.getSelection(),r=n(i.toString()),o=!1,s=t.clientX,a=t.clientY;if(i.rangeCount){for(var l=i.getRangeAt(0),c=l.getClientRects(),u=0;u<c.length;u++){var h=c[u];if(o=s>h.left&&s<h.right&&a>h.top&&a<h.bottom)break}!r.match(/^\s$/)&&r.length||(o=!1)}o||(e.textarea.style.position="fixed",e.textarea.style.width="20px",e.textarea.style.height="20px",e.textarea.style.left=s-10+"px",e.textarea.style.top=a-10+"px",e.textarea.style.zIndex="1000",e.textarea.focus(),setTimeout(function(){e.textarea.style.position=null,e.textarea.style.width=null,e.textarea.style.height=null,e.textarea.style.left=null,e.textarea.style.top=null,e.textarea.style.zIndex=null},4))}Object.defineProperty(i,"__esModule",{value:!0}),i.prepareTextForClipboard=n,i.copyHandler=r,i.pasteHandler=o,i.rightClickHandler=s},{}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./Generic"),r="undefined"==typeof navigator,o=r?"node":navigator.userAgent,s=r?"node":navigator.platform;i.isFirefox=!!~o.indexOf("Firefox"),i.isMSIE=!!~o.indexOf("MSIE")||!!~o.indexOf("Trident"),i.isMac=n.contains(["Macintosh","MacIntel","MacPPC","Mac68K"],s),i.isIpad="iPad"===s,i.isIphone="iPhone"===s,i.isMSWindows=n.contains(["Windows","Win16","Win32","WinCE"],s)},{"./Generic":14}],12:[function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var r=t("../EventEmitter.js"),o=function(t){function e(e,i){var n=t.call(this)||this;return n._document=e,n._parentElement=i,n}return n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.measure=function(){var t=this;this._measureElement?this._doMeasure():(this._measureElement=this._document.createElement("span"),this._measureElement.style.position="absolute",this._measureElement.style.top="0",this._measureElement.style.left="-9999em",this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement),setTimeout(function(){return t._doMeasure()},0))},e.prototype._doMeasure=function(){var t=this._measureElement.getBoundingClientRect();0!==t.width&&0!==t.height&&(this._width===t.width&&this._height===t.height||(this._width=t.width,this._height=t.height,this.emit("charsizechanged")))},e}(r.EventEmitter);i.CharMeasure=o},{"../EventEmitter.js":4}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this._array=new Array(t),this._startIndex=0,this._length=0}return Object.defineProperty(t.prototype,"maxLength",{get:function(){return this._array.length},set:function(t){for(var e=new Array(t),i=0;i<Math.min(t,this.length);i++)e[i]=this._array[this._getCyclicIndex(i)];this._array=e,this._startIndex=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(t){if(t>this._length)for(var e=this._length;e<t;e++)this._array[e]=void 0;this._length=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forEach",{get:function(){return this._array.forEach},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this._array[this._getCyclicIndex(t)]},t.prototype.set=function(t,e){this._array[this._getCyclicIndex(t)]=e},t.prototype.push=function(t){this._array[this._getCyclicIndex(this._length)]=t,this._length===this.maxLength?(this._startIndex++,this._startIndex===this.maxLength&&(this._startIndex=0)):this._length++},t.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length-- -1)]},t.prototype.splice=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(e){for(var r=t;r<this._length-e;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+e)];this._length-=e}if(i&&i.length){for(var r=this._length-1;r>=t;r--)this._array[this._getCyclicIndex(r+i.length)]=this._array[this._getCyclicIndex(r)];for(var r=0;r<i.length;r++)this._array[this._getCyclicIndex(t+r)]=i[r];this._length+i.length>this.maxLength?(this._startIndex+=this._length+i.length-this.maxLength,this._length=this.maxLength):this._length+=i.length}},t.prototype.trimStart=function(t){t>this._length&&(t=this._length),this._startIndex+=t,this._length-=t},t.prototype.shiftElements=function(t,e,i){if(!(e<=0)){if(t<0||t>=this._length)throw new Error("start argument out of range");if(t+i<0)throw new Error("Cannot shift elements in list beyond index 0");if(i>0){for(var n=e-1;n>=0;n--)this.set(t+n+i,this.get(t+n));var r=t+e+i-this._length;if(r>0)for(this._length+=r;this._length>this.maxLength;)this._length--,this._startIndex++}else for(var n=0;n<e;n++)this.set(t+n+i,this.get(t+n))}},t.prototype._getCyclicIndex=function(t){return(this._startIndex+t)%this.maxLength},t}();i.CircularList=n},{}],14:[function(t,e,i){"use strict";function n(t,e){return t.indexOf(e)>=0}Object.defineProperty(i,"__esModule",{value:!0}),i.contains=n},{}],15:[function(e,i,n){"use strict";function r(t){var e=this;if(!(this instanceof r))return new r(arguments[0],arguments[1],arguments[2]);e.browser=S,e.cancel=r.cancel,m.EventEmitter.call(this),"number"==typeof t&&(t={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),t=t||{},Object.keys(r.defaults).forEach(function(i){null==t[i]&&(t[i]=r.options[i],r[i]!==r.defaults[i]&&(t[i]=r[i])),e[i]=t[i]}),8===t.colors.length?t.colors=t.colors.concat(r._colors.slice(8)):16===t.colors.length?t.colors=t.colors.concat(r._colors.slice(16)):10===t.colors.length?t.colors=t.colors.slice(0,-2).concat(r._colors.slice(8,-2),t.colors.slice(-2)):18===t.colors.length&&(t.colors=t.colors.concat(r._colors.slice(16,-2),t.colors.slice(-2))),this.colors=t.colors,this.options=t,this.parent=t.body||t.parent||(T?T.getElementsByTagName("body")[0]:null),this.cols=t.cols||t.geometry[0],this.rows=t.rows||t.geometry[1],this.geometry=[this.cols,this.rows],t.handler&&this.on("data",t.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.queue="",this.scrollTop=0,this.scrollBottom=this.rows-1,this.customKeydownHandler=null,this.cursorBlinkInterval=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.normal=null,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.inputHandler=new x.InputHandler(this),this.parser=new _.Parser(this.inputHandler,this),this.renderer=this.renderer||null,this.linkifier=this.linkifier||new k.Linkifier,this.writeBuffer=[],this.writeInProgress=!1,this.xoffSentToCatchUp=!1,this.writeStopped=!1,this.surrogate_high="",this.lines=new y.CircularList(this.scrollback);for(var i=this.rows;i--;)this.lines.push(this.blankLine());this.tabs,this.setupStops(),this.userScrolling=!1}function o(t,e,i,n){Array.isArray(t)||(t=[t]),t.forEach(function(t){t.addEventListener(e,i,n||!1)})}function s(t,e,i,n){t.removeEventListener(e,i,n||!1)}function a(t,e){if(this.cancelEvents||e)return t.preventDefault(),t.stopPropagation(),!1}function l(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}function c(t,e){var i=t.browser.isMac&&e.altKey&&!e.ctrlKey&&!e.metaKey||t.browser.isMSWindows&&e.altKey&&e.ctrlKey&&!e.metaKey;return"keypress"==e.type?i:i&&(!e.keyCode||e.keyCode>47)}function u(t,e,i){var n=t<<16|e<<8|i;if(null!=u._cache[n])return u._cache[n];for(var o,s,a,l,c,h=1/0,p=-1,f=0;f<r.vcolors.length;f++){if(o=r.vcolors[f],s=o[0],a=o[1],l=o[2],c=u.distance(t,e,i,s,a,l),0===c){p=f;break}c<h&&(h=c,p=f)}return u._cache[n]=p}function h(t,e,i){if(t.forEach)return t.forEach(e,i);for(var n=0;n<t.length;n++)e.call(i,t[n],n,t)}function p(t){return 16===t.keyCode||17===t.keyCode||18===t.keyCode}function f(t){if(Object.keys)return Object.keys(t);var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}Object.defineProperty(n,"__esModule",{value:!0});var d=e("./CompositionHelper"),m=e("./EventEmitter"),g=e("./Viewport"),v=e("./handlers/Clipboard"),y=e("./utils/CircularList"),b=e("./EscapeSequences"),x=e("./InputHandler"),_=e("./Parser"),w=e("./Renderer"),k=e("./Linkifier"),C=e("./utils/CharMeasure"),S=e("./utils/Browser"),T="undefined"!=typeof window?window.document:null,E=5,A=300,M=600;l(r,m.EventEmitter),r.prototype.eraseAttr=function(){return this.defAttr&-512|511&this.curAttr},r.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],r.colors=function(){function t(t,i,r){n.push("#"+e(t)+e(i)+e(r))}function e(t){return t=t.toString(16),t.length<2?"0"+t:t}var i,n=r.tangoColors.slice(),o=[0,95,135,175,215,255];for(i=0;i<216;i++)t(o[i/36%6|0],o[i/6%6|0],o[i%6]);for(i=0;i<24;i++)o=8+10*i,t(o,o,o);return n}(),r._colors=r.colors.slice(),r.vcolors=function(){for(var t,e=[],i=r.colors,n=0;n<256;n++)t=parseInt(i[n].substring(1),16),e.push([t>>16&255,t>>8&255,255&t]);return e}(),r.defaults={colors:r.colors,theme:"default",convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!1,cursorStyle:"block",visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,cancelEvents:!1,disableStdin:!1,useFlowControl:!1,tabStopWidth:8},r.options={},r.focus=null,h(f(r.defaults),function(t){r[t]=r.defaults[t],r.options[t]=r.defaults[t]}),r.prototype.focus=function(){return this.textarea.focus()},r.prototype.getOption=function(t,e){if(!(t in r.defaults))throw new Error('No option with key "'+t+'"');return"undefined"!=typeof this.options[t]?this.options[t]:this[t]},r.prototype.setOption=function(t,e){if(!(t in r.defaults))throw new Error('No option with key "'+t+'"');switch(t){case"scrollback":if(this.options[t]!==e){if(this.lines.length>e){var i=this.lines.length-e,n=this.ydisp-i<0;this.lines.trimStart(i),this.ybase=Math.max(this.ybase-i,0),this.ydisp=Math.max(this.ydisp-i,0),n&&this.refresh(0,this.rows-1)}this.lines.maxLength=e,this.viewport.syncScrollArea()}}switch(this[t]=e,this.options[t]=e,t){case"cursorBlink":this.setCursorBlinking(e);break;case"cursorStyle":this.element.classList.toggle("xterm-cursor-style-underline","underline"===e),this.element.classList.toggle("xterm-cursor-style-bar","bar"===e);break;case"tabStopWidth":this.setupStops()}},r.prototype.restartCursorBlinking=function(){this.setCursorBlinking(this.options.cursorBlink)},r.prototype.setCursorBlinking=function(t){if(this.element.classList.toggle("xterm-cursor-blink",t),this.clearCursorBlinkingInterval(),t){var e=this;this.cursorBlinkInterval=setInterval(function(){e.element.classList.toggle("xterm-cursor-blink-on")},M)}},r.prototype.clearCursorBlinkingInterval=function(){this.element.classList.remove("xterm-cursor-blink-on"),this.cursorBlinkInterval&&(clearInterval(this.cursorBlinkInterval),this.cursorBlinkInterval=null)},r.bindFocus=function(t){o(t.textarea,"focus",function(e){t.sendFocus&&t.send(b.C0.ESC+"[I"),t.element.classList.add("focus"),t.showCursor(),t.restartCursorBlinking.apply(t),r.focus=t,t.emit("focus",{terminal:t})})},r.prototype.blur=function(){return this.textarea.blur()},r.bindBlur=function(t){o(t.textarea,"blur",function(e){t.refresh(t.y,t.y),t.sendFocus&&t.send(b.C0.ESC+"[O"),t.element.classList.remove("focus"),t.clearCursorBlinkingInterval.apply(t),r.focus=null,t.emit("blur",{terminal:t})})},r.prototype.initGlobal=function(){function t(t){v.rightClickHandler.call(this,t,e)}var e=this;r.bindKeys(this),r.bindFocus(this),r.bindBlur(this),o(this.element,"copy",function(t){v.copyHandler.call(this,t,e)}),o(this.textarea,"paste",function(t){v.pasteHandler.call(this,t,e)}),o(this.element,"paste",function(t){v.pasteHandler.call(this,t,e)}),e.browser.isFirefox?o(this.element,"mousedown",function(e){2==e.button&&t(e)}):o(this.element,"contextmenu",t)},r.bindKeys=function(t){o(t.element,"keydown",function(e){T.activeElement==this&&t.keyDown(e)},!0),o(t.element,"keypress",function(e){T.activeElement==this&&t.keyPress(e)},!0),o(t.element,"keyup",function(e){p(e)||t.focus(t)},!0),o(t.textarea,"keydown",function(e){t.keyDown(e)},!0),o(t.textarea,"keypress",function(e){t.keyPress(e),this.value=""},!0),o(t.textarea,"compositionstart",t.compositionHelper.compositionstart.bind(t.compositionHelper)),o(t.textarea,"compositionupdate",t.compositionHelper.compositionupdate.bind(t.compositionHelper)),o(t.textarea,"compositionend",t.compositionHelper.compositionend.bind(t.compositionHelper)),t.on("refresh",t.compositionHelper.updateCompositionElements.bind(t.compositionHelper)),t.on("refresh",function(e){t.queueLinkification(e.start,e.end)})},r.prototype.insertRow=function(t){return"object"!=typeof t&&(t=T.createElement("div")),this.rowContainer.appendChild(t),this.children.push(t),t},r.prototype.open=function(t){var e=this,i=0;if(this.parent=t||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");for(this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName("body")[0],this.element=this.document.createElement("div"),this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.classList.add("xterm-theme-"+this.theme),this.setCursorBlinking(this.options.cursorBlink),this.element.style.height,this.element.setAttribute("tabindex",0),this.viewportElement=T.createElement("div"),this.viewportElement.classList.add("xterm-viewport"),this.element.appendChild(this.viewportElement),this.viewportScrollArea=T.createElement("div"),this.viewportScrollArea.classList.add("xterm-scroll-area"),this.viewportElement.appendChild(this.viewportScrollArea),this.rowContainer=T.createElement("div"),this.rowContainer.classList.add("xterm-rows"),this.element.appendChild(this.rowContainer),this.children=[],this.linkifier.attachToDom(T,this.children),this.helperContainer=T.createElement("div"),this.helperContainer.classList.add("xterm-helpers"),this.element.appendChild(this.helperContainer),this.textarea=T.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.textarea.addEventListener("focus",function(){e.emit("focus",{terminal:e})}),this.textarea.addEventListener("blur",function(){e.emit("blur",{terminal:e})}),this.helperContainer.appendChild(this.textarea),this.compositionView=T.createElement("div"),this.compositionView.classList.add("composition-view"),this.compositionHelper=new d.CompositionHelper(this.textarea,this.compositionView,this),this.helperContainer.appendChild(this.compositionView),this.charSizeStyleElement=T.createElement("style"),this.helperContainer.appendChild(this.charSizeStyleElement);i<this.rows;i++)this.insertRow();this.parent.appendChild(this.element),this.charMeasure=new C.CharMeasure(T,this.helperContainer),this.charMeasure.on("charsizechanged",function(){e.updateCharSizeCSS()}),this.charMeasure.measure(),this.viewport=new g.Viewport(this,this.viewportElement,this.viewportScrollArea,this.charMeasure),this.renderer=new w.Renderer(this),this.refresh(0,this.rows-1),this.initGlobal(),this.focus(),o(this.element,"click",function(){var t=T.getSelection(),i=t.isCollapsed,n="boolean"==typeof i?!i:"Range"==t.type;n||e.focus()}),this.bindMouse(),this.emit("open")},r.loadAddon=function(r,o){return"object"==typeof n&&"object"==typeof i?e("./addons/"+r+"/"+r):"function"==typeof t?e(["./addons/"+r+"/"+r],o):(console.error("Cannot load a module without a CommonJS or RequireJS environment."),!1)},r.prototype.updateCharSizeCSS=function(){this.charSizeStyleElement.textContent=".xterm-wide-char{width:"+2*this.charMeasure.width+"px;}"},r.prototype.bindMouse=function(){function t(t){var e,i;if(e=r(t),i=a(t))switch(n(e,i),t.overrideType||t.type){case"mousedown":u=e;break;case"mouseup":u=32;break;case"wheel":}}function e(t){var e,i=u;e=a(t),e&&(i+=32,n(i,e))}function i(t,e){if(c.utfMouse){if(2047===e)return t.push(0);e<127?t.push(e):(e>2047&&(e=2047),t.push(192|e>>6),t.push(128|63&e))}else{if(255===e)return t.push(0);e>127&&(e=127),t.push(e)}}function n(t,e){if(c.vt300Mouse){t&=3,e.x-=32,e.y-=32;var n=b.C0.ESC+"[24";if(0===t)n+="1";else if(1===t)n+="3";else if(2===t)n+="5";else{if(3===t)return;n+="0"}return n+="~["+e.x+","+e.y+"]\r",void c.send(n)}if(c.decLocator)return t&=3,e.x-=32,e.y-=32,0===t?t=2:1===t?t=4:2===t?t=6:3===t&&(t=3),void c.send(b.C0.ESC+"["+t+";"+(3===t?4:0)+";"+e.y+";"+e.x+";"+(e.page||0)+"&w");if(c.urxvtMouse)return e.x-=32,e.y-=32,e.x++,e.y++,void c.send(b.C0.ESC+"["+t+";"+e.x+";"+e.y+"M");if(c.sgrMouse)return e.x-=32,e.y-=32,void c.send(b.C0.ESC+"[<"+((3===(3&t)?t&-4:t)-32)+";"+e.x+";"+e.y+(3===(3&t)?"m":"M"));var n=[];i(n,t),i(n,e.x),i(n,e.y),c.send(b.C0.ESC+"[M"+String.fromCharCode.apply(String,n))}function r(t){var e,i,n,r,o;switch(t.overrideType||t.type){case"mousedown":e=null!=t.button?+t.button:null!=t.which?t.which-1:null,c.browser.isMSIE&&(e=1===e?0:4===e?1:e);break;case"mouseup":e=3;break;case"DOMMouseScroll":e=t.detail<0?64:65;break;case"wheel":e=t.wheelDeltaY>0?64:65}return i=t.shiftKey?4:0,n=t.metaKey?8:0,r=t.ctrlKey?16:0,o=i|n|r,c.vt200Mouse?o&=r:c.normalMouse||(o=0),e=32+(o<<2)+e}function a(t){var e,i,n;if(null!=t.pageX){for(e=t.pageX,i=t.pageY,n=c.element;n&&n!==c.document.documentElement;)e-=n.offsetLeft,i-=n.offsetTop,n="offsetParent"in n?n.offsetParent:n.parentNode;return e=Math.ceil(e/c.charMeasure.width),i=Math.ceil(i/c.charMeasure.height),e<0&&(e=0),e>c.cols&&(e=c.cols),i<0&&(i=0),i>c.rows&&(i=c.rows),e+=32,i+=32,{x:e,y:i,type:"wheel"}}}var l=this.element,c=this,u=32;o(l,"mousedown",function(i){if(c.mouseEvents)return t(i),c.focus(),c.vt200Mouse?(i.overrideType="mouseup",t(i),c.cancel(i)):(c.normalMouse&&o(c.document,"mousemove",e),c.x10Mouse||o(c.document,"mouseup",function n(i){return t(i),c.normalMouse&&s(c.document,"mousemove",e),s(c.document,"mouseup",n),c.cancel(i)}),c.cancel(i))}),o(l,"wheel",function(e){if(c.mouseEvents&&!(c.x10Mouse||c.vt300Mouse||c.decLocator))return t(e),c.cancel(e)}),o(l,"wheel",function(t){if(!c.mouseEvents)return c.viewport.onWheel(t),c.cancel(t)})},r.prototype.destroy=function(){this.readable=!1,this.writable=!1,this._events={},this.handler=function(){},this.write=function(){},this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},r.prototype.refresh=function(t,e){this.renderer&&this.renderer.queueRefresh(t,e)},r.prototype.queueLinkification=function(t,e){if(this.linkifier)for(var i=t;i<=e;i++)this.linkifier.linkifyRow(i)},r.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},r.prototype.scroll=function(){var t;this.lines.length===this.lines.maxLength&&(this.lines.trimStart(1),this.ybase--,0!==this.ydisp&&this.ydisp--),this.ybase++,this.userScrolling||(this.ydisp=this.ybase),t=this.ybase+this.rows-1,t-=this.rows-1-this.scrollBottom,t===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(t,0,this.blankLine()),0!==this.scrollTop&&(0!==this.ybase&&(this.ybase--,this.userScrolling||(this.ydisp=this.ybase)),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom),this.emit("scroll",this.ydisp)},r.prototype.scrollDisp=function(t,e){t<0?this.userScrolling=!0:t+this.ydisp>=this.ybase&&(this.userScrolling=!1),this.ydisp+=t,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),e||this.emit("scroll",this.ydisp),this.refresh(0,this.rows-1)},r.prototype.scrollPages=function(t){this.scrollDisp(t*(this.rows-1))},r.prototype.scrollToTop=function(){this.scrollDisp(-this.ydisp)},r.prototype.scrollToBottom=function(){this.scrollDisp(this.ybase-this.ydisp)},r.prototype.write=function(t){if(this.writeBuffer.push(t),this.options.useFlowControl&&!this.xoffSentToCatchUp&&this.writeBuffer.length>=E&&(this.send(b.C0.DC3),this.xoffSentToCatchUp=!0),!this.writeInProgress&&this.writeBuffer.length>0){
this.writeInProgress=!0;var e=this;setTimeout(function(){e.innerWrite()})}},r.prototype.innerWrite=function(){for(var t=this.writeBuffer.splice(0,A);t.length>0;){var e=t.shift();e.length;this.xoffSentToCatchUp&&0===t.length&&0===this.writeBuffer.length&&(this.send(b.C0.DC1),this.xoffSentToCatchUp=!1),this.refreshStart=this.y,this.refreshEnd=this.y,this.parser.parse(e),this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd)}if(this.writeBuffer.length>0){var i=this;setTimeout(function(){i.innerWrite()},0)}else this.writeInProgress=!1},r.prototype.writeln=function(t){this.write(t+"\r\n")},r.prototype.attachCustomKeydownHandler=function(t){this.customKeydownHandler=t},r.prototype.setHypertextLinkHandler=function(t){if(!this.linkifier)throw new Error("Cannot attach a hypertext link handler before Terminal.open is called");this.linkifier.setHypertextLinkHandler(t),this.refresh(0,this.rows-1)},r.prototype.setHypertextValidationCallback=function(t){if(!this.linkifier)throw new Error("Cannot attach a hypertext validation callback before Terminal.open is called");this.linkifier.setHypertextValidationCallback(t),this.refresh(0,this.rows-1)},r.prototype.registerLinkMatcher=function(t,e,i){if(this.linkifier){var n=this.linkifier.registerLinkMatcher(t,e,i);return this.refresh(0,this.rows-1),n}},r.prototype.deregisterLinkMatcher=function(t){this.linkifier&&this.linkifier.deregisterLinkMatcher(t)&&this.refresh(0,this.rows-1)},r.prototype.keyDown=function(t){if(this.customKeydownHandler&&this.customKeydownHandler(t)===!1)return!1;if(this.restartCursorBlinking(),!this.compositionHelper.keydown.bind(this.compositionHelper)(t))return this.ybase!==this.ydisp&&this.scrollToBottom(),!1;var e=this.evaluateKeyEscapeSequence(t);return e.key===b.C0.DC3?this.writeStopped=!0:e.key===b.C0.DC1&&(this.writeStopped=!1),e.scrollDisp?(this.scrollDisp(e.scrollDisp),this.cancel(t,!0)):!!c(this,t)||(e.cancel&&this.cancel(t,!0),!e.key||(this.emit("keydown",t),this.emit("key",e.key,t),this.showCursor(),this.handler(e.key),this.cancel(t,!0)))},r.prototype.evaluateKeyEscapeSequence=function(t){var e={cancel:!1,key:void 0,scrollDisp:void 0},i=t.shiftKey<<0|t.altKey<<1|t.ctrlKey<<2|t.metaKey<<3;switch(t.keyCode){case 8:if(t.shiftKey){e.key=b.C0.BS;break}e.key=b.C0.DEL;break;case 9:if(t.shiftKey){e.key=b.C0.ESC+"[Z";break}e.key=b.C0.HT,e.cancel=!0;break;case 13:e.key=b.C0.CR,e.cancel=!0;break;case 27:e.key=b.C0.ESC,e.cancel=!0;break;case 37:i?(e.key=b.C0.ESC+"[1;"+(i+1)+"D",e.key==b.C0.ESC+"[1;3D"&&(e.key=this.browser.isMac?b.C0.ESC+"b":b.C0.ESC+"[1;5D")):this.applicationCursor?e.key=b.C0.ESC+"OD":e.key=b.C0.ESC+"[D";break;case 39:i?(e.key=b.C0.ESC+"[1;"+(i+1)+"C",e.key==b.C0.ESC+"[1;3C"&&(e.key=this.browser.isMac?b.C0.ESC+"f":b.C0.ESC+"[1;5C")):this.applicationCursor?e.key=b.C0.ESC+"OC":e.key=b.C0.ESC+"[C";break;case 38:i?(e.key=b.C0.ESC+"[1;"+(i+1)+"A",e.key==b.C0.ESC+"[1;3A"&&(e.key=b.C0.ESC+"[1;5A")):this.applicationCursor?e.key=b.C0.ESC+"OA":e.key=b.C0.ESC+"[A";break;case 40:i?(e.key=b.C0.ESC+"[1;"+(i+1)+"B",e.key==b.C0.ESC+"[1;3B"&&(e.key=b.C0.ESC+"[1;5B")):this.applicationCursor?e.key=b.C0.ESC+"OB":e.key=b.C0.ESC+"[B";break;case 45:t.shiftKey||t.ctrlKey||(e.key=b.C0.ESC+"[2~");break;case 46:i?e.key=b.C0.ESC+"[3;"+(i+1)+"~":e.key=b.C0.ESC+"[3~";break;case 36:i?e.key=b.C0.ESC+"[1;"+(i+1)+"H":this.applicationCursor?e.key=b.C0.ESC+"OH":e.key=b.C0.ESC+"[H";break;case 35:i?e.key=b.C0.ESC+"[1;"+(i+1)+"F":this.applicationCursor?e.key=b.C0.ESC+"OF":e.key=b.C0.ESC+"[F";break;case 33:t.shiftKey?e.scrollDisp=-(this.rows-1):e.key=b.C0.ESC+"[5~";break;case 34:t.shiftKey?e.scrollDisp=this.rows-1:e.key=b.C0.ESC+"[6~";break;case 112:i?e.key=b.C0.ESC+"[1;"+(i+1)+"P":e.key=b.C0.ESC+"OP";break;case 113:i?e.key=b.C0.ESC+"[1;"+(i+1)+"Q":e.key=b.C0.ESC+"OQ";break;case 114:i?e.key=b.C0.ESC+"[1;"+(i+1)+"R":e.key=b.C0.ESC+"OR";break;case 115:i?e.key=b.C0.ESC+"[1;"+(i+1)+"S":e.key=b.C0.ESC+"OS";break;case 116:i?e.key=b.C0.ESC+"[15;"+(i+1)+"~":e.key=b.C0.ESC+"[15~";break;case 117:i?e.key=b.C0.ESC+"[17;"+(i+1)+"~":e.key=b.C0.ESC+"[17~";break;case 118:i?e.key=b.C0.ESC+"[18;"+(i+1)+"~":e.key=b.C0.ESC+"[18~";break;case 119:i?e.key=b.C0.ESC+"[19;"+(i+1)+"~":e.key=b.C0.ESC+"[19~";break;case 120:i?e.key=b.C0.ESC+"[20;"+(i+1)+"~":e.key=b.C0.ESC+"[20~";break;case 121:i?e.key=b.C0.ESC+"[21;"+(i+1)+"~":e.key=b.C0.ESC+"[21~";break;case 122:i?e.key=b.C0.ESC+"[23;"+(i+1)+"~":e.key=b.C0.ESC+"[23~";break;case 123:i?e.key=b.C0.ESC+"[24;"+(i+1)+"~":e.key=b.C0.ESC+"[24~";break;default:!t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?this.browser.isMac||!t.altKey||t.ctrlKey||t.metaKey||(t.keyCode>=65&&t.keyCode<=90?e.key=b.C0.ESC+String.fromCharCode(t.keyCode+32):192===t.keyCode?e.key=b.C0.ESC+"`":t.keyCode>=48&&t.keyCode<=57&&(e.key=b.C0.ESC+(t.keyCode-48))):t.keyCode>=65&&t.keyCode<=90?e.key=String.fromCharCode(t.keyCode-64):32===t.keyCode?e.key=String.fromCharCode(0):t.keyCode>=51&&t.keyCode<=55?e.key=String.fromCharCode(t.keyCode-51+27):56===t.keyCode?e.key=String.fromCharCode(127):219===t.keyCode?e.key=String.fromCharCode(27):220===t.keyCode?e.key=String.fromCharCode(28):221===t.keyCode&&(e.key=String.fromCharCode(29))}return e},r.prototype.setgLevel=function(t){this.glevel=t,this.charset=this.charsets[t]},r.prototype.setgCharset=function(t,e){this.charsets[t]=e,this.glevel===t&&(this.charset=e)},r.prototype.keyPress=function(t){var e;if(this.cancel(t),t.charCode)e=t.charCode;else if(null==t.which)e=t.keyCode;else{if(0===t.which||0===t.charCode)return!1;e=t.which}return!(!e||(t.altKey||t.ctrlKey||t.metaKey)&&!c(this,t))&&(e=String.fromCharCode(e),this.emit("keypress",e,t),this.emit("key",e,t),this.showCursor(),this.handler(e),!1)},r.prototype.send=function(t){var e=this;this.queue||setTimeout(function(){e.handler(e.queue),e.queue=""},1),this.queue+=t},r.prototype.bell=function(){if(this.visualBell){var t=this;this.element.style.borderColor="white",setTimeout(function(){t.element.style.borderColor=""},10),this.popOnBell&&this.focus()}},r.prototype.log=function(){if(this.debug&&this.context.console&&this.context.console.log){var t=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,t)}},r.prototype.error=function(){if(this.debug&&this.context.console&&this.context.console.error){var t=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,t)}},r.prototype.resize=function(t,e){if(!isNaN(t)&&!isNaN(e)){var i,n,r,o,s;if(t!==this.cols||e!==this.rows){if(t<1&&(t=1),e<1&&(e=1),r=this.cols,r<t)for(o=[this.defAttr," ",1],n=this.lines.length;n--;)for(;this.lines.get(n).length<t;)this.lines.get(n).push(o);if(this.cols=t,this.setupStops(this.cols),r=this.rows,s=0,r<e)for(i=this.element;r++<e;)this.lines.length<e+this.ybase&&(this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(this.blankLine())),this.children.length<e&&this.insertRow();else for(;r-- >e;)if(this.lines.length>e+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++)),this.children.length>e){if(i=this.children.shift(),!i)continue;i.parentNode.removeChild(i)}this.rows=e,this.y>=e&&(this.y=e-1),s&&(this.y+=s),this.x>=t&&(this.x=t-1),this.scrollTop=0,this.scrollBottom=e-1,this.charMeasure.measure(),this.refresh(0,this.rows-1),this.normal=null,this.geometry=[this.cols,this.rows],this.emit("resize",{terminal:this,cols:t,rows:e})}}},r.prototype.updateRange=function(t){t<this.refreshStart&&(this.refreshStart=t),t>this.refreshEnd&&(this.refreshEnd=t)},r.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},r.prototype.setupStops=function(t){for(null!=t?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this.cols;t+=this.getOption("tabStopWidth"))this.tabs[t]=!0},r.prototype.prevStop=function(t){for(null==t&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this.cols?this.cols-1:t<0?0:t},r.prototype.nextStop=function(t){for(null==t&&(t=this.x);!this.tabs[++t]&&t<this.cols;);return t>=this.cols?this.cols-1:t<0?0:t},r.prototype.eraseRight=function(t,e){var i=this.lines.get(this.ybase+e);if(i){for(var n=[this.eraseAttr()," ",1];t<this.cols;t++)i[t]=n;this.updateRange(e)}},r.prototype.eraseLeft=function(t,e){var i=this.lines.get(this.ybase+e);if(i){var n=[this.eraseAttr()," ",1];for(t++;t--;)i[t]=n;this.updateRange(e)}},r.prototype.clear=function(){if(0!==this.ybase||0!==this.y){this.lines.set(0,this.lines.get(this.ybase+this.y)),this.lines.length=1,this.ydisp=0,this.ybase=0,this.y=0;for(var t=1;t<this.rows;t++)this.lines.push(this.blankLine());this.refresh(0,this.rows-1),this.emit("scroll",this.ydisp)}},r.prototype.eraseLine=function(t){this.eraseRight(0,t)},r.prototype.blankLine=function(t){for(var e=t?this.eraseAttr():this.defAttr,i=[e," ",1],n=[],r=0;r<this.cols;r++)n[r]=i;return n},r.prototype.ch=function(t){return t?[this.eraseAttr()," ",1]:[this.defAttr," ",1]},r.prototype.is=function(t){var e=this.termName;return 0===(e+"").indexOf(t)},r.prototype.handler=function(t){this.options.disableStdin||(this.ybase!==this.ydisp&&this.scrollToBottom(),this.emit("data",t))},r.prototype.handleTitle=function(t){this.emit("title",t)},r.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.x>=this.cols&&this.x--},r.prototype.reverseIndex=function(){this.y===this.scrollTop?(this.lines.shiftElements(this.y+this.ybase,this.rows-1,1),this.lines.set(this.y+this.ybase,this.blankLine(!0)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)):this.y--},r.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var t=this.customKeydownHandler;r.call(this,this.options),this.customKeydownHandler=t,this.refresh(0,this.rows-1),this.viewport.syncScrollArea()},r.prototype.tabSet=function(){this.tabs[this.x]=!0},r.prototype.matchColor=u,u._cache={},u.distance=function(t,e,i,n,r,o){return Math.pow(30*(t-n),2)+Math.pow(59*(e-r),2)+Math.pow(11*(i-o),2)},r.EventEmitter=m.EventEmitter,r.inherits=l,r.on=o,r.off=s,r.cancel=a,i.exports=r},{"./CompositionHelper":2,"./EscapeSequences":3,"./EventEmitter":4,"./InputHandler":5,"./Linkifier":6,"./Parser":7,"./Renderer":8,"./Viewport":9,"./handlers/Clipboard":10,"./utils/Browser":11,"./utils/CharMeasure":12,"./utils/CircularList":13}]},{},[15])(15)}),function(t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("../../xterm")):"function"==typeof define?define(["../../xterm"],t):t(window.Terminal)}(function(t){var e={};return e.proposeGeometry=function(t){if(!t.element.parentElement)return null;var e,i,n,r,o,s=window.getComputedStyle(t.element.parentElement),a=parseInt(s.getPropertyValue("height")),l=Math.max(0,parseInt(s.getPropertyValue("width"))-17),c=window.getComputedStyle(t.element),u=parseInt(c.getPropertyValue("padding-top"))+parseInt(c.getPropertyValue("padding-bottom")),h=parseInt(c.getPropertyValue("padding-right"))+parseInt(c.getPropertyValue("padding-left")),p=a-u,f=l-h,d=(t.rowContainer,t.rowContainer.firstElementChild),m=d.innerHTML;return d.style.display="inline",d.innerHTML="W",n=d.getBoundingClientRect().width,d.style.display="",e=d.getBoundingClientRect().height,d.innerHTML=m,i=parseInt(p/e),r=parseInt(f/n),o={cols:r,rows:i}},e.fit=function(t){var i=e.proposeGeometry(t);i&&t.resize(i.cols,i.rows)},t.prototype.proposeGeometry=function(){return e.proposeGeometry(this)},t.prototype.fit=function(){return e.fit(this)},e}),window.heap=window.heap||[],heap.load=function(t,e){window.heap.appid=t,window.heap.config=e=e||{};var i=e.forceSSL||"https:"===document.location.protocol,n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=(i?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+t+".js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r);for(var o=function(t){return function(){heap.push([t].concat(Array.prototype.slice.call(arguments,0)))}},s=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],a=0;a<s.length;a++)heap[s[a]]=o(s[a])},heap.load("1237674968"),function(t,e,i,n,r,o,s){t.GoogleAnalyticsObject=r,t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},t[r].l=1*new Date,o=e.createElement(i),s=e.getElementsByTagName(i)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-50093726-1","remoteinterview.io"),ga("send","pageview"),intercomActivate(!1),window.Intercom&&(window.Intercom("boot",{app_id:"k0gn6e02"}),Intercom("onHide",function(){$("body").removeClass("intercomEnabled")}),Intercom("onShow",function(){$("body").addClass("intercomEnabled")}),Intercom("onUnreadCountChange",function(t){$("body").addClass("intercomEnabled")})),!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,i){"use strict";function n(t){var e=g[d.locale];return e?e[t]:g.en[t]}function r(t,i,n){t.stopPropagation(),t.preventDefault();var r=e.isFunction(n)&&n.call(i,t)===!1;r||i.modal("hide")}function o(t){var e,i=0;for(e in t)i++;return i}function s(t,i){var n=0;e.each(t,function(t,e){i(t,e,n++)})}function a(t){var i,n;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},d,t),t.buttons||(t.buttons={}),i=t.buttons,n=o(i),s(i,function(t,r,o){if(e.isFunction(r)&&(r=i[t]={callback:r}),"object"!==e.type(r))throw new Error("button with key "+t+" must be an object");r.label||(r.label=t),r.className||(r.className=2>=n&&o===n-1?"btn-primary":"btn-default")}),t}function l(t,e){var i=t.length,n={};if(1>i||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof t[0]?(n[e[0]]=t[0],n[e[1]]=t[1]):n=t[0],n}function c(t,i,n){return e.extend(!0,{},t,l(i,n))}function u(t,e,i,n){var r={className:"bootbox-"+t,buttons:h.apply(null,e)};return p(c(r,n,i),e)}function h(){for(var t={},e=0,i=arguments.length;i>e;e++){var r=arguments[e],o=r.toLowerCase(),s=r.toUpperCase();t[o]={label:n(s)}}return t}function p(t,e){var n={};return s(e,function(t,e){n[e]=!0}),s(t.buttons,function(t){if(n[t]===i)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},d={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=u("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},m.dialog(t)},m.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,n,r,o,a,l,u;if(o=e(f.form),n={className:"bootbox-prompt",buttons:h("cancel","confirm"),value:"",inputType:"text"},t=p(c(n,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===i||t.show,t.message=o,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var i;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":i=a.val();break;case"checkbox":var n=a.find("input:checked");i=[],s(n,function(t,n){i.push(e(n).val())})}return t.callback.call(this,i)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!f.inputs[t.inputType])throw new Error("invalid prompt type");switch(a=e(f.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":a.val(t.value);break;case"select":var d={};if(u=t.inputOptions||[],!e.isArray(u))throw new Error("Please pass an array of input options");if(!u.length)throw new Error("prompt with select requires options");s(u,function(t,n){var r=a;if(n.value===i||n.text===i)throw new Error("given options in wrong format");n.group&&(d[n.group]||(d[n.group]=e("<optgroup/>").attr("label",n.group)),r=d[n.group]),r.append("<option value='"+n.value+"'>"+n.text+"</option>")}),s(d,function(t,e){a.append(e)}),a.val(t.value);break;case"checkbox":var g=e.isArray(t.value)?t.value:[t.value];if(u=t.inputOptions||[],!u.length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");a=e("<div/>"),s(u,function(i,n){var r=e(f.inputs[t.inputType]);r.find("input").attr("value",n.value),r.find("label").append(n.text),s(g,function(t,e){e===n.value&&r.find("input").prop("checked",!0)}),a.append(r)})}return t.placeholder&&a.attr("placeholder",t.placeholder),t.pattern&&a.attr("pattern",t.pattern),t.maxlength&&a.attr("maxlength",t.maxlength),o.append(a),o.on("submit",function(t){t.preventDefault(),t.stopPropagation(),r.find(".btn-primary").click()}),r=m.dialog(t),r.off("shown.bs.modal"),r.on("shown.bs.modal",function(){a.focus()}),l===!0&&r.modal("show"),r},m.dialog=function(t){t=a(t);var n=e(f.dialog),o=n.find(".modal-dialog"),l=n.find(".modal-body"),c=t.buttons,u="",h={onEscape:t.onEscape};if(e.fn.modal===i)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(s(c,function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",h[t]=e.callback}),l.find(".bootbox-body").html(t.message),t.animate===!0&&n.addClass("fade"),t.className&&n.addClass(t.className),"large"===t.size?o.addClass("modal-lg"):"small"===t.size&&o.addClass("modal-sm"),t.title&&l.before(f.header),t.closeButton){var p=e(f.closeButton);t.title?n.find(".modal-header").prepend(p):p.css("margin-top","-10px").prependTo(l)}return t.title&&n.find(".modal-title").html(t.title),u.length&&(l.after(f.footer),n.find(".modal-footer").html(u)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&n.on("click.dismiss.bs.modal",function(t){n.children(".modal-backdrop").length&&(t.currentTarget=n.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(t){h.onEscape&&r(t,n,h.onEscape)}),n.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");r(t,n,h[i])}),n.on("click",".bootbox-close-button",function(t){r(t,n,h.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),e(t.container).append(n),n.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&n.modal("show"),n},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(d,t)},m.hideAll=function(){return e(".bootbox").modal("hide"),m};var g={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return m.addLocale=function(t,i){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!i[e])throw new Error("Please supply a translation for '"+e+"'")}),g[t]={OK:i.OK,CANCEL:i.CANCEL,CONFIRM:i.CONFIRM},m},m.removeLocale=function(t){return delete g[t],m},m.setLocale=function(t){return m.setDefaults("locale",t)},m.init=function(i){return t(i||e)},m});